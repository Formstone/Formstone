/*! formstone v1.4.0 [core.js] 2017-08-24 | GPL-3.0 License | formstone.it */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(e){h.Plugins[e].initialized||(h.Plugins[e].methods._setup.call(document),h.Plugins[e].initialized=!0)}function n(e,t,n,i){var s,r={raw:{}};i=i||{};for(s in i)i.hasOwnProperty(s)&&("classes"===e?(r.raw[i[s]]=t+"-"+i[s],r[i[s]]="."+t+"-"+i[s]):(r.raw[s]=i[s],r[s]=i[s]+"."+t));for(s in n)n.hasOwnProperty(s)&&("classes"===e?(r.raw[s]=n[s].replace(/{ns}/g,t),r[s]=n[s].replace(/{ns}/g,"."+t)):(r.raw[s]=n[s].replace(/.{ns}/g,""),r[s]=n[s].replace(/{ns}/g,t)));return r}function i(){h.windowWidth=h.$window.width(),h.windowHeight=h.$window.height(),y=p.startTimer(y,v,s)}function s(){for(var e in h.ResizeHandlers)h.ResizeHandlers.hasOwnProperty(e)&&h.ResizeHandlers[e].callback.call(window,h.windowWidth,h.windowHeight)}function r(){if(h.support.raf){h.window.requestAnimationFrame(r);for(var e in h.RAFHandlers)h.RAFHandlers.hasOwnProperty(e)&&h.RAFHandlers[e].callback.call(window)}}function o(e,t){return parseInt(e.priority)-parseInt(t.priority)}var a,c,l,u="undefined"!=typeof window?window:this,d=u.document,f=function(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=u,this.$window=e(u),this.document=d,this.$document=e(d),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!(!window.matchMedia&&!window.msMatchMedia),pointer:!!window.PointerEvent,raf:!(!window.requestAnimationFrame||!window.cancelAnimationFrame),touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}},p={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(e){}},killGesture:function(e){try{e.preventDefault()}catch(e){}},lockViewport:function(t){b[t]=!0,e.isEmptyObject(b)||k||(a.length?a.attr("content",l):a=e("head").append('<meta name="viewport" content="'+l+'">'),h.$body.on(g.gestureChange,p.killGesture).on(g.gestureStart,p.killGesture).on(g.gestureEnd,p.killGesture),k=!0)},unlockViewport:function(t){"undefined"!==e.type(b[t])&&delete b[t],e.isEmptyObject(b)&&k&&(a.length&&(c?a.attr("content",c):a.remove()),h.$body.off(g.gestureChange).off(g.gestureStart).off(g.gestureEnd),k=!1)},startTimer:function(e,t,n,i){return p.clearTimer(e),i?setInterval(n,t):setTimeout(n,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(e,10)-parseInt(t,10)},sortDesc:function(e,t){return parseInt(t,10)-parseInt(e,10)},decodeEntities:function(e){var t=h.document.createElement("textarea");return t.innerHTML=e,t.value},parseQueryString:function(e){for(var t={},n=e.slice(e.indexOf("?")+1).split("&"),i=0;i<n.length;i++){var s=n[i].split("=");t[s[0]]=s[1]}return t}},h=new f,m=e.Deferred(),w={base:"{ns}",element:"{ns}-element"},g={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",gestureChange:"gesturechange.{ns}",gestureStart:"gesturestart.{ns}",gestureEnd:"gestureend.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"},y=null,v=20,b=[],k=!1;return f.prototype.NoConflict=function(){h.DontConflict=!0;for(var t in h.Plugins)h.Plugins.hasOwnProperty(t)&&(e[t]=h.Conflicts[t],e.fn[t]=h.Conflicts.fn[t])},f.prototype.Ready=function(e){"complete"===h.document.readyState||"loading"!==h.document.readyState&&!h.document.documentElement.doScroll?e():h.document.addEventListener("DOMContentLoaded",e)},f.prototype.Plugin=function(i,s){return h.Plugins[i]=function(t,i){function s(n){var s,o,a,l="object"===e.type(n),u=Array.prototype.slice.call(arguments,l?1:0),d=this,f=e();for(n=e.extend(!0,{},i.defaults||{},l?n:{}),o=0,a=d.length;o<a;o++)if(s=d.eq(o),!r(s)){var p="__"+i.guid++,h=i.classes.raw.base+p,m=s.data(t+"-options"),w=e.extend(!0,{$el:s,guid:p,rawGuid:h,dotGuid:"."+h},n,"object"===e.type(m)?m:{});s.addClass(i.classes.raw.element).data(c,w),i.methods._construct.apply(s,[w].concat(u)),f=f.add(s)}for(o=0,a=f.length;o<a;o++)s=f.eq(o),i.methods._postConstruct.apply(s,[r(s)]);return d}function r(e){return e.data(c)}var a="fs-"+t,c="fs"+t.replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()});return i.initialized=!1,i.priority=i.priority||10,i.classes=n("classes",a,w,i.classes),i.events=n("events",t,g,i.events),i.functions=e.extend({getData:r,iterate:function(t){for(var n=this,i=Array.prototype.slice.call(arguments,1),s=0,o=n.length;s<o;s++){var a=n.eq(s),c=r(a)||{};"undefined"!==e.type(c.$el)&&t.apply(a,[c].concat(i))}return n}},p,i.functions),i.methods=e.extend(!0,{_setup:e.noop,_construct:e.noop,_postConstruct:e.noop,_destruct:e.noop,_resize:!1,destroy:function(e){i.functions.iterate.apply(this,[i.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(i.classes.raw.element).removeData(c)}},i.methods),i.utilities=e.extend(!0,{_initialize:!1,_delegate:!1,defaults:function(t){i.defaults=e.extend(!0,i.defaults,t||{})}},i.utilities),i.widget&&(h.Conflicts.fn[t]=e.fn[t],e.fn[c]=function(t){if(this instanceof e){var n=i.methods[t];if("object"===e.type(t)||!t)return s.apply(this,arguments);if(n&&0!==t.indexOf("_")){var r=[n].concat(Array.prototype.slice.call(arguments,1));return i.functions.iterate.apply(this,r)}return this}},h.DontConflict||(e.fn[t]=e.fn[c])),h.Conflicts[t]=e[t],e[c]=i.utilities._delegate||function(t){var n=i.utilities[t]||i.utilities._initialize||!1;if(n){var s=Array.prototype.slice.call(arguments,"object"===e.type(t)?0:1);return n.apply(window,s)}},h.DontConflict||(e[t]=e[c]),i.namespace=t,i.namespaceClean=c,i.guid=0,i.methods._resize&&(h.ResizeHandlers.push({namespace:t,priority:i.priority,callback:i.methods._resize}),h.ResizeHandlers.sort(o)),i.methods._raf&&(h.RAFHandlers.push({namespace:t,priority:i.priority,callback:i.methods._raf}),h.RAFHandlers.sort(o)),i}(i,s),m.then(function(){t(i)}),h.Plugins[i]},h.$window.on("resize.fs",i),i(),r(),h.Ready(function(){h.$body=e("body"),a=e('meta[name="viewport"]'),c=!!a.length&&a.attr("content"),l="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",m.resolve(),h.support.nativeMatchMedia=h.support.matchMedia&&!e("html").hasClass("no-matchmedia")}),g.clickTouchStart=g.click+" "+g.touchStart,function(){var e,t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},n=["transition","-webkit-transition"],i={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},s="transitionend",r="",o="",a=document.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&e in a.style){s=t[e],h.support.transition=!0;break}g.transitionEnd=s+".{ns}";for(e in n)if(n.hasOwnProperty(e)&&n[e]in a.style){r=n[e];break}h.transition=r;for(e in i)if(i.hasOwnProperty(e)&&i[e]in a.style){h.support.transform=!0,o=i[e];break}h.transform=o}(),window.Formstone=h,h});