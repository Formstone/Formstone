/*! formstone v2.0.0-2 [formstone.jquery.js] 2024-11-13 | GPL-3.0 License | formstone.it */
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Formstone"] = factory();
	else
		root["Formstone"] = factory();
})(window, function() {
return /******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/jquery/adaptor.js":
/*!*******************************!*\
  !*** ./src/jquery/adaptor.js ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"utility\": function() { return /* binding */ utility; },\n/* harmony export */   \"widget\": function() { return /* binding */ widget; }\n/* harmony export */ });\n/* harmony import */ var _js_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/utils.js */ \"./src/js/utils.js\");\n\n\nfunction widget(Plugin, Namespace) {\n  if (typeof jQuery !== 'undefined') {\n    jQuery.fn[Namespace.toLowerCase()] = function(options, ...args) {\n      return jQuery(this).each((index, el) => {\n        if (!options || (0,_js_utils_js__WEBPACK_IMPORTED_MODULE_0__.isObj)(options)) {\n          new Plugin(el, options);\n        } else if (el[Namespace] && (0,_js_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFn)(el[Namespace][options])) {\n          el[Namespace][options](...args);\n        }\n      });\n    };\n  }\n}\n\nfunction utility(Plugin, Namespace) {\n  if (typeof jQuery !== 'undefined') {\n    jQuery[Namespace.toLowerCase()] = function(method, ...args) {\n      if ((0,_js_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFn)(Plugin[method])) {\n        return Plugin[method](...args);\n      }\n    };\n  }\n}\n\n//# sourceURL=webpack://Formstone/./src/jquery/adaptor.js?");

/***/ }),

/***/ "./src/jquery/background.js":
/*!**********************************!*\
  !*** ./src/jquery/background.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_background_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/background.js */ \"./src/js/background.js\");\n/* harmony import */ var _adaptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adaptor.js */ \"./src/jquery/adaptor.js\");\n\n\n\n\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.widget)(_js_background_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'Background');\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.utility)(_js_background_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'Background');\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_js_background_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://Formstone/./src/jquery/background.js?");

/***/ }),

/***/ "./src/jquery/checkpoint.js":
/*!**********************************!*\
  !*** ./src/jquery/checkpoint.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_checkpoint_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/checkpoint.js */ \"./src/js/checkpoint.js\");\n/* harmony import */ var _adaptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adaptor.js */ \"./src/jquery/adaptor.js\");\n\n\n\n\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.widget)(_js_checkpoint_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'CheckPoint');\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.utility)(_js_checkpoint_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'CheckPoint');\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_js_checkpoint_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://Formstone/./src/jquery/checkpoint.js?");

/***/ }),

/***/ "./src/jquery/cookie.js":
/*!******************************!*\
  !*** ./src/jquery/cookie.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_cookie_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/cookie.js */ \"./src/js/cookie.js\");\n/* harmony import */ var _adaptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adaptor.js */ \"./src/jquery/adaptor.js\");\n\n\n\n\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.utility)(_js_cookie_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'Cookie');\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_js_cookie_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://Formstone/./src/jquery/cookie.js?");

/***/ }),

/***/ "./src/jquery/index.js":
/*!*****************************!*\
  !*** ./src/jquery/index.js ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Background\": function() { return /* reexport safe */ _background_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; },\n/* harmony export */   \"CheckPoint\": function() { return /* reexport safe */ _checkpoint_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; },\n/* harmony export */   \"Cookie\": function() { return /* reexport safe */ _cookie_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; },\n/* harmony export */   \"Lightbox\": function() { return /* reexport safe */ _lightbox_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; },\n/* harmony export */   \"MediaQuery\": function() { return /* reexport safe */ _mediaquery_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; },\n/* harmony export */   \"Navigation\": function() { return /* reexport safe */ _navigation_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; },\n/* harmony export */   \"Swap\": function() { return /* reexport safe */ _swap_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; },\n/* harmony export */   \"Tabs\": function() { return /* reexport safe */ _tabs_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; },\n/* harmony export */   \"Utils\": function() { return /* reexport module object */ _js_utils_js__WEBPACK_IMPORTED_MODULE_8__; }\n/* harmony export */ });\n/* harmony import */ var _background_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./background.js */ \"./src/jquery/background.js\");\n/* harmony import */ var _checkpoint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./checkpoint.js */ \"./src/jquery/checkpoint.js\");\n/* harmony import */ var _cookie_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cookie.js */ \"./src/jquery/cookie.js\");\n/* harmony import */ var _lightbox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lightbox.js */ \"./src/jquery/lightbox.js\");\n/* harmony import */ var _mediaquery_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mediaquery.js */ \"./src/jquery/mediaquery.js\");\n/* harmony import */ var _navigation_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./navigation.js */ \"./src/jquery/navigation.js\");\n/* harmony import */ var _swap_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./swap.js */ \"./src/jquery/swap.js\");\n/* harmony import */ var _tabs_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tabs.js */ \"./src/jquery/tabs.js\");\n/* harmony import */ var _js_utils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../js/utils.js */ \"./src/js/utils.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://Formstone/./src/jquery/index.js?");

/***/ }),

/***/ "./src/jquery/lightbox.js":
/*!********************************!*\
  !*** ./src/jquery/lightbox.js ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_lightbox_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/lightbox.js */ \"./src/js/lightbox.js\");\n/* harmony import */ var _adaptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adaptor.js */ \"./src/jquery/adaptor.js\");\n\n\n\n\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.widget)(_js_lightbox_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'Lightbox');\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.utility)(_js_lightbox_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'Lightbox');\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_js_lightbox_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://Formstone/./src/jquery/lightbox.js?");

/***/ }),

/***/ "./src/jquery/mediaquery.js":
/*!**********************************!*\
  !*** ./src/jquery/mediaquery.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_mediaquery_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/mediaquery.js */ \"./src/js/mediaquery.js\");\n/* harmony import */ var _adaptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adaptor.js */ \"./src/jquery/adaptor.js\");\n\n\n\n\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.utility)(_js_mediaquery_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'MediaQuery');\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_js_mediaquery_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://Formstone/./src/jquery/mediaquery.js?");

/***/ }),

/***/ "./src/jquery/navigation.js":
/*!**********************************!*\
  !*** ./src/jquery/navigation.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_navigation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/navigation.js */ \"./src/js/navigation.js\");\n/* harmony import */ var _adaptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adaptor.js */ \"./src/jquery/adaptor.js\");\n\n\n\n\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.widget)(_js_navigation_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'Navigation');\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.utility)(_js_navigation_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'Navigation');\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_js_navigation_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://Formstone/./src/jquery/navigation.js?");

/***/ }),

/***/ "./src/jquery/swap.js":
/*!****************************!*\
  !*** ./src/jquery/swap.js ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_swap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/swap.js */ \"./src/js/swap.js\");\n/* harmony import */ var _adaptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adaptor.js */ \"./src/jquery/adaptor.js\");\n\n\n\n\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.widget)(_js_swap_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'Swap');\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.utility)(_js_swap_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'Swap');\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_js_swap_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://Formstone/./src/jquery/swap.js?");

/***/ }),

/***/ "./src/jquery/tabs.js":
/*!****************************!*\
  !*** ./src/jquery/tabs.js ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_tabs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../js/tabs.js */ \"./src/js/tabs.js\");\n/* harmony import */ var _adaptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adaptor.js */ \"./src/jquery/adaptor.js\");\n\n\n\n\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.widget)(_js_tabs_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'Tabs');\n(0,_adaptor_js__WEBPACK_IMPORTED_MODULE_1__.utility)(_js_tabs_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], 'Tabs');\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_js_tabs_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://Formstone/./src/jquery/tabs.js?");

/***/ }),

/***/ "./src/js/background.js":
/*!******************************!*\
  !*** ./src/js/background.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mediaquery_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mediaquery.js */ \"./src/js/mediaquery.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n\n\n\n// Class\n\nclass Background {\n\n  static #_guid = 1;\n\n  static #_defaults = {\n    alt: '',\n    autoPlay: true,\n    lazy: false,\n    lazyOffset: '100px',\n    loop: true,\n    mute: true,\n    source: null,\n    youtubeOptions: {}\n  };\n\n  //\n\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.extend)(true, this.#_defaults, options);\n  }\n\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(selector);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(targets, (el) => {\n      if (!el.Background) {\n        new Background(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  constructor(el, options) {\n    if (el.Background) {\n      console.warn('Background: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.backgroundOptions || '{}');\n    } catch (e) {\n      console.warn('Background: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-background-element-${this.guid}`;\n    this.layerGuid = 0;\n\n    //\n\n    this.container = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.element)('div');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.container, 'fs-background-container');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(this.container, 'aria-hidden', 'true');\n    this.container.tabIndex = -1;\n\n    el.append(this.container);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(el, 'fs-background', this.guidClass);\n\n    if (this.lazy) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(el, 'fs-background-lazy');\n\n      this.observer = new IntersectionObserver((entries, observer) => {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(entries, (entry) => {\n          this.#observe(entry);\n        });\n      }, {\n        // root: this.parentEl || null,\n        root: null,\n        threshold: 0,\n        rootMargin: `0px 0px ${this.lazyOffset} 0px`\n      });\n\n      this.observer.observe(el);\n    } else {\n      this.#initialLoad(this.source);\n    }\n\n    el.Background = this;\n  }\n\n  //\n\n  destroy() {\n    this.container.remove();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeClass)(this.el, 'fs-background', this.guidClass);\n\n    this.el.Background = null;\n\n    delete this.el.Background;\n  }\n\n  //\n\n  #observe(entry) {\n    if (entry.isIntersecting) {\n      this.observer.unobserve(this.el);\n      this.observer = null;\n      this.#initialLoad(this.source);\n    }\n  }\n\n  #initialLoad() {\n    let source = this.source;\n    this.source = '';\n    this.load(source);\n  }\n\n  //\n\n  load(source) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.el, 'fs-background-loaded');\n\n    if (source !== this.source) {\n      this.source = source;\n      this.sources = null;\n      this.responsive = false;\n\n      this.player = null;\n      this.playerReady = true;\n      this.playing = false;\n\n      this.isVideo = ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isObj)(source) && !!(source.mp4 || source.ogg || source.webm));\n      this.isYouTube = (!this.isVideo && (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isObj)(source) && !!source.youtube);\n      this.isImage = (!this.isVideo && !this.isYouTube);\n\n      // Load Image\n\n      if (this.isImage) {\n        let newSource = source;\n\n        // Responsive image handling\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isObj)(source)) {\n          let sources = [];\n          let keys = [];\n\n          (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(Object.keys(source), (key) => {\n            keys.push(key);\n          });\n\n          keys.sort((a, b) => {\n            return parseInt(a, 10) - parseInt(b, 10);\n          });\n\n          for (let i = 0; i < keys.length; i++) {\n            let key = keys[i];\n            let width = parseInt(key, 10);\n            let mq = `(min-width: ${width}px)`;\n\n            if (i + 1 < keys.length) {\n              let maxWidth = parseInt(keys[i + 1], 10) - 1;\n\n              mq = `(min-width: ${width}px) and (max-width: ${maxWidth}px)`;\n            }\n\n            sources.push({\n              width: width,\n              url: source[key],\n              // mq: window.matchMedia(`(min-width: ${mq}px)`)\n              mediaquery: _mediaquery_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bind(`background-${this.guid}-${mq}`, mq, {\n                enter: () => {\n                  this.#loadImage(source[key]);\n                }\n              })\n            });\n          }\n\n          this.sources = sources; // TODO do we need to track this way?\n        } else {\n          // Single image\n          this.#loadImage(newSource);\n        }\n      }\n\n      // Load Video\n\n      if (this.isVideo) {\n        this.#loadVideo(source);\n      }\n\n      // Load YouTube\n\n      if (this.isYouTube) {\n        this.#loadYouTube(source);\n      }\n    } else {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.trigger)(this.el, 'background:loaded');\n    }\n  }\n\n  //\n\n  #loadImage(source) {\n    this.layerGuid++;\n\n    let media = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.element)('div');\n\n    media.ariaHidden = true;\n    media.className = `fs-background-media fs-background-image`; // fs-background-layer-${this.layerGuid}`;\n    media.style.opacity = 0;\n    media.style.backgroundImage = `url(${source})`;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(media, 'data-background-layer', this.layerGuid);\n\n    this.container.append(media);\n\n    let image = new Image();\n\n    //\n\n    image.onload = () => {\n      this.#onLoad(media);\n    };\n\n    image.src = source;\n\n    this.source = source;\n  }\n\n  //\n\n  #loadVideo(source) {\n    if (source.poster) {\n      this.#loadImage(source.poster);\n    }\n\n    this.layerGuid++;\n\n    let media = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.element)('div');\n    let video = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.element)('video');\n\n    media.ariaHidden = true;\n    media.className = 'fs-background-media fs-background-video';\n    media.style.opacity = 0;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(media, 'data-background-layer', this.layerGuid);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(video, 'playsinline', '');\n\n    video.playsinline = true;\n    video.preload = 'auto';\n    video.tabIndex = -1;\n\n    if (this.loop) {\n      video.loop = true;\n    }\n    if (this.mute) {\n      video.muted = true;\n    }\n    if (this.autoPlay) {\n      video.autoplay = true;\n    }\n\n    if (source.webm) {\n      let src = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.element)('source');\n      src.type = 'video/webm';\n      src.src = source.webm;\n\n      video.append(src);\n    }\n    if (source.mp4) {\n      let src = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.element)('source');\n      src.type = 'video/mp4';\n      src.src = source.mp4;\n\n      video.append(src);\n    }\n    if (source.ogg) {\n      let src = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.element)('source');\n      src.type = 'video/ogg';\n      src.src = source.ogg;\n\n      video.append(src);\n    }\n\n    //\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.once)(video, 'loadeddata', (e) => {\n      this.#onLoad(media);\n\n      if (this.autoPlay) {\n        this.play();\n      }\n    });\n\n    media.append(video);\n    this.container.append(media);\n\n    this.source = source;\n  }\n\n  //\n\n  #loadYouTube(source) {\n    // let parts = source.youtube.match(/(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/ ]{11})/i);\n    let parts = source.youtube.match(/(?:(?:youtube\\.com|youtube-nocookie\\.com)\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/ ]{11})/i);\n\n    this.youTubeId = parts[1];\n\n    let ytURL = 'youtube.com';\n\n    if (!source.poster) {\n      // source.poster = '//img.youtube.com/vi/' + this.youTubeId + '/0.jpg';\n      source.poster = `//img.${ytURL}/vi/${this.youTubeId}/maxresdefault.jpg`;\n    }\n\n    this.#loadImage(source.poster);\n\n    this.layerGuid++;\n\n    if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(`script[src*=\"${ytURL}/iframe_api\"]`).length) {\n      let script = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.element)('script');\n      script.src = `//www.${ytURL}/iframe_api`;\n      document.head.append(script);\n    }\n\n    if (!YouTubeReady) {\n      YouTubeQueue.push({\n        el: this,\n        source: source\n      });\n    } else {\n      let guid = `fs-background-${this.guid}-${this.layerGuid}`;\n      let media = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.element)('div');\n      let video = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.element)('div');\n\n      video.id = guid;\n\n      media.ariaHidden = true;\n      media.className = 'fs-background-media fs-background-embed';\n      media.style.opacity = 0;\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(media, 'data-background-layer', this.layerGuid);\n\n      media.append(video);\n      this.container.append(media);\n\n      let options = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.extend)(true, {}, {\n        controls: 0,\n        rel: 0,\n        showinfo: 0,\n        wmode: 'transparent',\n        enablejsapi: 1,\n        version: 3,\n        playerapiid: guid,\n        loop: (this.loop) ? 1 : 0,\n        // autoplay: 1,\n        mute: 1,\n        origin: `${window.location.protocol}//${window.location.host}`\n      }, this.youtubeOptions, {\n        autoplay: 1 // Must be enabled for initial API callbacks to fire\n      });\n\n      this.player = new window.YT.Player(guid, {\n        host: `https://www.${ytURL.replace('.com', '-nocookie.com')}`,\n        videoId: this.youTubeId,\n        playerVars: options,\n        events: {\n          onReady: (e) => {\n            // console.log('onReady', e);\n\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)('iframe', this.container)[0].tabIndex = -1;\n\n            this.playerReady = true;\n            // data.player.setPlaybackQuality('highres');\n\n            if (this.mute) {\n              this.player.mute();\n            }\n\n            if (this.autoPlay) {\n              this.player.playVideo();\n            } else {\n              this.player.pauseVideo();\n            }\n\n            // TODO trigger ready event?\n          },\n          onStateChange: (e) => {\n            // console.log('onStateChange', e);\n\n            // -1 = unstarted\n            //  0 = ended\n            //  1 = playing\n            //  2 = paused\n            //  3 = buffering\n            //  4 =\n            //  5 = cued\n\n            if (!this.playing && e.data === window.YT.PlayerState.PLAYING) {\n              this.playing = true;\n\n              this.#onLoad(media);\n            } else if (this.loop && this.playing && e.data === window.YT.PlayerState.ENDED) {\n              // fix looping option\n              this.player.playVideo();\n            }\n\n            // Fix for Safari's overly secure security settings\n            // this.el.find(Classes.embed)\n            //   .addClass(RawClasses.ready);\n          },\n          onPlaybackQualityChange: (e) => {\n            // console.log('onPlaybackQualityChange', e);\n          },\n          onPlaybackRateChange: (e) => {\n            // console.log('onPlaybackRateChange', e);\n          },\n          onError: (e) => {\n            // console.log('onError', e);\n          },\n          onApiChange: (e) => {\n            // console.log('onApiChange', e);\n          }\n        }\n      });\n    }\n  }\n\n  //\n\n  play() {\n    if (this.isYouTube) {\n      if (this.playerReady) {\n        this.player.playVideo();\n      } else {\n        this.autoPlay = true;\n      }\n    } else if (this.isVideo) {\n      let video = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)('video', this.container);\n\n      if (video.length) {\n        video[0].play();\n      }\n    }\n\n    // TODO trigger play event?\n\n    this.playing = true;\n  }\n\n  pause() {\n    if (this.isYouTube) {\n      if (this.playerReady) {\n        this.player.pauseVideo();\n      } else {\n        this.autoPlay = false;\n      }\n    } else if (this.video) {\n      let video = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)('video', this.container);\n\n      if (video.length) {\n        video[0].pause();\n      }\n    }\n\n    // TODO trigger pause event?\n\n    this.playing = false;\n  }\n\n  mute() {\n    if (this.isYouTube && this.playerReady) {\n      this.player.mute();\n      // this.player.setVolume(0);\n    } else if (this.video) {\n      let video = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)('video', this.container);\n\n      if (video.length) {\n        video[0].muted = true;\n      }\n    }\n\n    // TODO trigger mute event?\n\n    this.mute = true;\n  }\n\n  // Mute / Unmute is now blocked unless the user interacts with the video\n\n  unmute() {\n    if (this.isYouTube && this.playerReady) {\n      this.player.unMute();\n      // this.player.setVolume(100);\n\n      if (this.playing) {\n        this.player.playVideo();\n      }\n    } else if (this.video) {\n      let video = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)('video', this.container);\n\n      if (video.length) {\n        video[0].muted = false;\n      }\n    }\n\n    // TODO trigger unmute event?\n\n    this.mute = false;\n  }\n\n  // TODO unload method and event?\n\n  // TODO set background video volume and event?\n\n  //\n\n  #onLoad(media) {\n    let layer = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getAttr)(media, 'data-background-layer');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.once)(media, 'transitionend', (e) => {\n      if (this.onLoadTimer) {\n        clearTimeout(this.onLoadTimer);\n        this.onLoadTimer = null;\n      }\n\n      this.onLoadTimer = setTimeout(() => {\n        let extra = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(`div:not([data-background-layer=\"${layer}\"]):not([data-background-layer=\"${this.layerGuid}\"])`, this.container);\n\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(extra, (node) => {\n          node.remove();\n        });\n      }, 500);\n    });\n\n    media.style.opacity = 1;\n\n    // TODO handle errors and trigger events?\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.trigger)(this.el, 'background:loaded');\n  }\n\n};\n\n// YouTube Helper\n\nlet YouTubeReady = false;\nlet YouTubeQueue = [];\n\nfunction onYouTubeReady() {\n  YouTubeReady = true;\n\n  (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(YouTubeQueue, (item) => {\n    item.el.load(item.source);\n  });\n\n  YouTubeQueue = [];\n}\n\nlet originalYouTubeCallback = ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isFn)(window.onYouTubeIframeAPIReady)) ? window.onYouTubeIframeAPIReady : null;\n\nwindow.onYouTubeIframeAPIReady = () => {\n  if (originalYouTubeCallback) {\n    originalYouTubeCallback.call();\n  }\n\n  onYouTubeReady();\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Background);\n\n//# sourceURL=webpack://Formstone/./src/js/background.js?");

/***/ }),

/***/ "./src/js/checkpoint.js":
/*!******************************!*\
  !*** ./src/js/checkpoint.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n\n\n// Class\n\nclass CheckPoint {\n\n  static #_guid = 1;\n\n  static #_defaults = {\n    // intersect: 'bottom',\n    offset: '0px',\n    reverse: false\n  };\n\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options);\n  }\n\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(selector);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(targets, (el) => {\n      if (!el.CheckPoint) {\n        new CheckPoint(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  constructor(el, options) {\n    if (el.CheckPoint) {\n      console.warn('Checkpoint: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.checkpointOptions || '{}');\n    } catch (e) {\n      console.warn('Checkpoint: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-checkpoint-element-${this.guid}`;\n\n    this.enabled = false;\n    this.active = false;\n    this.hasActived = false;\n    this.parent = dataset.checkpointParent || null;\n    this.parentEl = this.parent ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.parent)[0] : null;\n    this.container = dataset.checkpointContainer || null;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.el, this.guidClass);\n\n    this.target = this.container || `.${this.guidClass}`;\n    this.targetEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.target);\n\n    // this.intersect = dataset.checkpointIntersect || this.intersect;\n    this.offset = dataset.checkpointOffset || this.offset;\n\n    this.margin = `0px 0px -${this.offset} 0px`;\n    this.edge = parseInt(this.offset, 10);\n    this.percent = this.offset.includes('%') ? (this.edge / 100) : null;\n\n    this.observer = new IntersectionObserver((entries, observer) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(entries, (entry) => {\n        this.#observe(entry);\n      });\n    }, {\n      root: this.parentEl || document,\n      threshold: 0,\n      rootMargin: this.margin\n    });\n\n    this.enable();\n\n    el.CheckPoint = this;\n  }\n\n  destroy() {\n    this.disable();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, this.guidClass);\n\n    this.observer = null;\n\n    this.el.CheckPoint = null;\n\n    delete this.el.CheckPoint;\n  }\n\n  //\n\n  #observe(entry) {\n    let height = this.parentEl ? this.parentEl.innerHeight : window.innerHeight;\n    let edge = height - (this.percent ? (height * this.percent) : this.edge);\n\n    if (entry.isIntersecting || entry.boundingClientRect.top < edge) {\n      this.activate();\n    } else {\n      this.deactivate();\n    }\n  }\n\n  //\n\n  enable() {\n    if (this.enabled) {\n      return;\n    }\n\n    this.enabled = true;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.el, 'fs-checkpoint');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.targetEl, (el) => {\n      this.observer.observe(el);\n    });\n  }\n\n  disable() {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.deactivate();\n\n    this.enabled = false;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, 'fs-checkpoint', 'fs-checkpoint-active');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.targetEl, (el) => {\n      this.observer.unobserve(el);\n    });\n  }\n\n  //\n\n  activate() {\n    if (!this.enabled || this.active) {\n      return;\n    }\n\n    this.active = true;\n    this.hasActived = true;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.el, 'fs-checkpoint-active');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.el, 'checkpoint:activate', {});\n  }\n\n  deactivate() {\n    if (!this.enabled || !this.active || (!this.reverse && this.hasActived)) {\n      return;\n    }\n\n    this.active = false;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, 'fs-checkpoint-active');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.el, 'checkpoint:deactivate', {});\n  }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CheckPoint);\n\n//# sourceURL=webpack://Formstone/./src/js/checkpoint.js?");

/***/ }),

/***/ "./src/js/cookie.js":
/*!**************************!*\
  !*** ./src/js/cookie.js ***!
  \**************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n\n\n// Class\n\nclass Cookie {\n\n  static #_defaults = {\n    domain: null,\n    expires: 604800000, // 7 days\n    path: null,\n    samesite: 'Lax',\n    secure: null\n  };\n\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options);\n  }\n\n  //\n\n  static set(key, value, options) {\n    let expiration = false;\n    let date = new Date();\n\n    options = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options || {});\n\n    // Check Expiration Date\n\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.type)(options.expires) === 'number') {\n      date.setTime(date.getTime() + options.expires);\n      expiration = date.toGMTString();\n    }\n\n    let domain = (options.domain) ? '; domain=' + options.domain : '';\n    let expires = (expiration) ? '; expires=' + expiration : '';\n    let maxAge = (expiration) ? '; max-age=' + (options.expires / 1000) : ''; // to seconds\n    let path = (options.path) ? '; path=' + options.path : '';\n    let samesite = (options.samesite) ? '; samesite=' + options.samesite : '';\n    let secure = (options.secure) ? '; secure' : '';\n\n    // Set Cookie\n\n    document.cookie = `${key}=${value}${expires}${maxAge}${domain}${path}${samesite}${secure}`;\n  }\n\n  static get(key) {\n    let keyString = `${key}=`;\n    let cookies = document.cookie.split(';');\n\n    for (var i = 0; i < cookies.length; i++) {\n      let cookie = cookies[i].trim();\n\n      if (cookie.indexOf(keyString) === 0) {\n        return cookie.substring(keyString.length, cookie.length);\n      }\n    }\n\n    return null;\n  }\n\n  static delete(key, options) {\n    this.set(key, '', (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)({}, options, {\n      expires: -604800000 // -7 days\n    }));\n  }\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Cookie);\n\n//# sourceURL=webpack://Formstone/./src/js/cookie.js?");

/***/ }),

/***/ "./src/js/lightbox.js":
/*!****************************!*\
  !*** ./src/js/lightbox.js ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n// import MediaQuery from './mediaquery.js';\n\n\n// Accessibility based on https://plousia.com/blog/how-create-accessible-mobile-menu\n\n// Formatters\n\nfunction formatYouTube(parts) {\n  return '//www.youtube.com/embed/' + parts[1];\n}\n\nfunction formatVimeo(parts) {\n  return '//player.vimeo.com/video/' + parts[3];\n}\n\n// Class\n\nclass Lightbox {\n\n  static #_guid = 1;\n\n  static #_defaults = {\n    customClass: '',\n    fileTypes: /\\.(jpg|sjpg|jpeg|png|gif)/i,\n    iframeWidth: '900px',\n    // loop: false,\n    threshold: 50,\n    templates: {\n      container: `\n<div class=\"fs-lightbox\" role=\"dialog\" aria-modal=\"true\">\n  <div class=\"fs-lightbox-overlay\"></div>\n  <div class=\"fs-lightbox-loading\">[loading]</div>\n  <button type=\"button\" class=\"fs-lightbox-close\" aria-label=\"Close\">[close]</button>\n  <div class=\"fs-lightbox-container\"></div>\n  <button type=\"button\" class=\"fs-lightbox-control fs-lightbox-control_previous\" aria-label=\"Previous\">[previous]</button>\n  <button type=\"button\" class=\"fs-lightbox-control fs-lightbox-control_next\" aria-label=\"Next\">[next]</button>\n</div>`,\n      //       zoom: `\n      // <button type=\"button\" class=\"fs-lightbox-zoom fs-lightbox-zoom_in\" aria-label=\"Zoom In\">[zoomIn]</button>\n      // <button type=\"button\" class=\"fs-lightbox-zoom fs-lightbox-zoom_out\" aria-label=\"Zoom Out\">[zoomOut]</button>`,\n      close: `<span class=\"fs-lightbox-sr\">Close</span><svg viewBox=\"-6 -6 24 24\" fill=\"currentColor\"><path d=\"M7.314 5.9l3.535-3.536A1 1 0 1 0 9.435.95L5.899 4.485 2.364.95A1 1 0 1 0 .95 2.364l3.535 3.535L.95 9.435a1 1 0 1 0 1.414 1.414l3.535-3.535 3.536 3.535a1 1 0 1 0 1.414-1.414L7.314 5.899z\"></path></svg>`,\n      loading: '<span class=\"fs-lightbox-sr\">Loading</span>',\n      previous: `<span class=\"fs-lightbox-sr\">Previous</span><svg viewBox=\"-5 -5 24 24\" fill=\"currentColor\"><path d=\"M3.414 7.657l3.95 3.95A1 1 0 0 1 5.95 13.02L.293 7.364a.997.997 0 0 1 0-1.414L5.95.293a1 1 0 1 1 1.414 1.414l-3.95 3.95H13a1 1 0 0 1 0 2H3.414z\"></path></svg>`,\n      next: `<span class=\"fs-lightbox-sr\">Next</span><svg viewBox=\"-5 -5 24 24\" fill=\"currentColor\"><path d=\"M10.586 5.657l-3.95-3.95A1 1 0 0 1 8.05.293l5.657 5.657a.997.997 0 0 1 0 1.414L8.05 13.021a1 1 0 1 1-1.414-1.414l3.95-3.95H1a1 1 0 1 1 0-2h9.586z\"></path></svg>`,\n      // zoomIn: `<span class=\"fs-lightbox-sr\">Zoom In</span><svg viewBox=\"-2.5 -2.5 24 24\" fill=\"currentColor\"><path d=\"M8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm6.32-1.094l3.58 3.58a1 1 0 1 1-1.415 1.413l-3.58-3.58a8 8 0 1 1 1.414-1.414zM9 7h2a1 1 0 0 1 0 2H9v2a1 1 0 0 1-2 0V9H5a1 1 0 1 1 0-2h2V5a1 1 0 1 1 2 0v2z\"></path></svg>`,\n      // zoomOut: `<span class=\"fs-lightbox-sr\">Zoom Out</span><svg viewBox=\"-2.5 -2.5 24 24\" fill=\"currentColor\"><path d=\"M8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm6.32-1.094l3.58 3.58a1 1 0 1 1-1.415 1.413l-3.58-3.58a8 8 0 1 1 1.414-1.414zM5 7h6a1 1 0 0 1 0 2H5a1 1 0 1 1 0-2z\"></path></svg>`\n    },\n    videoProviders: {\n      youtube: {\n        pattern: /(?:(?:youtube\\.com|youtube-nocookie\\.com)\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/ ]{11})/,\n        format: formatYouTube\n      },\n      vimeo: {\n        pattern: /(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/,\n        format: formatVimeo\n      }\n    }\n  };\n\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options);\n  }\n\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(selector);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(targets, (el) => {\n      if (!el.Lightbox) {\n        new Lightbox(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  constructor(el, options) {\n    if (el.Lightbox) {\n      console.warn('Lightbox: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.lightboxOptions || '{}');\n    } catch (e) {\n      console.warn('Lightbox: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-lightbox-element-${this.guid}`;\n    this.gallery = dataset.lightboxGallery || null;\n    this.isOpen = false;\n    this.isTouching = false;\n\n    //\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.el, this.guidClass);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.el, 'click', this.#onClick);\n\n    el.Lightbox = this;\n  }\n\n  //\n\n  destroy() {\n    this.close();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, this.guidClass);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(this.el, 'click', this.#onClick);\n\n    this.el.Lightbox = null;\n\n    delete this.el.Lightbox;\n  }\n\n  //\n\n  open(index) {\n    if (this.isOpen) {\n      return;\n    }\n\n    this.index = index;\n\n    this.#buildItems();\n\n    this.listeners = {\n      'close': this.#onClose(),\n      'next': this.#onNext(),\n      'previous': this.#onPrevious(),\n      'container': this.#onContainerClick(),\n      'keydown': this.#onKeyDown(),\n      'pointerdown': this.#onPointerDown(),\n      'pointermove': this.#onPointerMove(),\n      'pointerup': this.#onPointerUp(),\n      // 'zoomin': this.#onZoomIn(),\n      // 'zoomout': this.#onZoomOut(),\n    };\n\n    this.#draw();\n\n    this.#setPositions();\n\n    this.#hideSiblings();\n\n    setTimeout(() => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.lightboxEl, 'fs-lightbox-open');\n\n      this.isOpen = true;\n\n      this.lightboxEl.focus();\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(window, 'lightbox:open', {\n        el: this.el\n      });\n    }, 0);\n  }\n\n  close() {\n    if (!this.isOpen) {\n      return;\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.lightboxEl, 'fs-lightbox-open');\n\n    this.#showSiblings();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(window, 'keydown', this.listeners.keydown);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(window, 'lightbox:previous', this.listeners.previous);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(window, 'lightbox:next', this.listeners.next);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(window, 'lightbox:close', this.listeners.close);\n\n    // off(select('.fs-lightbox-previous', this.el), 'click', this.listeners.previous);\n    // off(select('.fs-lightbox-next', this.el), 'click', this.listeners.next);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.once)(this.lightboxEl, 'transitionend', (e) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.items, (item, index) => {\n        if (item.isElement) {\n          item.targetEl.append(...item.frameEl.childNodes);\n        }\n      });\n\n      this.lightboxEl.remove();\n\n      this.isOpen = false;\n\n      this.el.focus();\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(window, 'lightbox:close', {\n        el: this.el\n      });\n    });\n  }\n\n  //\n\n  next() {\n    this.index++;\n    this.#checkIndex();\n\n    this.#setPositions();\n  }\n\n  previous() {\n    this.index--;\n    this.#checkIndex();\n\n    this.#setPositions();\n  }\n\n  jump(index) {\n    this.index = index;\n    this.#checkIndex();\n\n    this.#setPositions();\n  }\n\n  //\n\n  #buildItems() {\n    this.selector = this.gallery ? `[data-lightbox-gallery=\"${this.gallery}\"]` : `.${this.guidClass}`;\n\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.selector);\n\n    this.items = [];\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(targets, (el, i) => {\n      if (el.tagName === 'A') {\n        let source = el.href;\n        let hash = el.hash;\n        let type = el.dataset.lightboxType || '';\n        let isImage = (type === 'image') || this.#checkImage(source);\n        let isVideo = (type === 'video') || !!this.#checkVideo(source);\n        let isIframe = (type === 'url') || (!isImage && !isVideo && source.substr(0, 4) === 'http' && !hash);\n        let isElement = (type === 'element') || (!isImage && !isVideo && !isIframe && (hash.substr(0, 1) === '#'));\n\n        if (!this.index && el == this.el) {\n          this.index = i;\n        }\n\n        this.items.push({\n          source: source,\n          hash: hash,\n          // type: type,\n          isLoaded: false,\n          isImage: isImage,\n          isVideo: isVideo,\n          isIframe: isIframe,\n          isElement: isElement,\n          caption: el.dataset.lightboxCaption || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(el, 'title'),\n          // zoomed: false,\n        });\n      }\n    });\n  }\n\n  //\n\n  #draw() {\n    let html = this.templates.container\n      .replace('[close]', this.templates.close)\n      .replace('[loading]', this.templates.loading)\n      .replace('[previous]', this.templates.previous)\n      .replace('[next]', this.templates.next);\n\n    document.body.insertAdjacentHTML('beforeend', html);\n\n    this.lightboxEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox')[0];\n    this.overlayEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox-overlay', this.lightboxEl)[0];\n    this.closeEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox-close', this.lightboxEl)[0];\n    this.loadingEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox-loading', this.lightboxEl)[0];\n    this.containerEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox-container', this.lightboxEl)[0];\n    this.controlPreviousEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox-control_previous', this.lightboxEl)[0];\n    this.controlNextEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox-control_next', this.lightboxEl)[0];\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.lightboxEl, this.customClass);\n\n    if (this.items.length > 1) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.lightboxEl, 'fs-lightbox-gallery');\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.items, (item, index) => {\n      if (item.isImage) {\n        this.#drawImage(item, index);\n      }\n      if (item.isVideo) {\n        this.#drawVideo(item, index);\n      }\n      if (item.isIframe) {\n        this.#drawIframe(item, index);\n      }\n      if (item.isElement) {\n        this.#drawElement(item, index);\n      }\n\n      if (this.items.length > 1) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(item.mediaEl, 'pointerdown', this.listeners.pointerdown);\n      }\n    });\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.once)(this.closeEl, 'click', this.listeners.close);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.controlPreviousEl, 'click', this.listeners.previous);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.controlNextEl, 'click', this.listeners.next);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.containerEl, 'click', this.listeners.container);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(window, 'keydown', this.listeners.keydown);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(window, 'lightbox:previous', this.listeners.previous);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(window, 'lightbox:next', this.listeners.next);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(window, 'lightbox:close', this.listeners.close);\n  }\n\n  //\n\n  #drawImage(item, index) {\n    let itemEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let wrapEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let mediaEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let imgEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('img');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(itemEl, 'fs-lightbox-item', `fs-lightbox-item_${index}`);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(wrapEl, 'fs-lightbox-wrap');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(mediaEl, 'fs-lightbox-media', 'fs-lightbox-media_image');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(imgEl, 'fs-lightbox-image');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(imgEl, {\n      'data-src': item.source,\n      'draggable': 'false'\n    });\n\n    mediaEl.append(imgEl);\n    wrapEl.append(mediaEl);\n    itemEl.append(wrapEl);\n\n    this.#checkCaption(item, itemEl);\n\n    this.containerEl.append(itemEl);\n\n    item.el = itemEl;\n    item.mediaEl = mediaEl;\n\n    // // zoom\n\n    // let zoom = this.templates.zoom\n    //   .replace('[zoomIn]', this.templates.zoomIn)\n    //   .replace('[zoomOut]', this.templates.zoomOut);\n\n    // itemEl.insertAdjacentHTML('beforeend', zoom);\n\n    // let zoomInEl = select('.fs-lightbox-zoom_in', itemEl)[0];\n    // let zoomOutEl = select('.fs-lightbox-zoom_out', itemEl)[0];\n\n    // console.log(zoomInEl);\n\n    // on(zoomInEl, 'click', this.listeners.zoomin);\n    // on(zoomOutEl, 'click', this.listeners.zoomout);\n  }\n\n  #drawVideo(item, index) {\n    let url = this.#checkVideo(item.source);\n    let qs = item.source.split('?');\n    let parts = [\n      '&origin=' + encodeURIComponent(window.location.protocol + '//' + window.location.hostname),\n      '&enablejsapi=1'\n    ];\n\n    if (qs.length >= 2) {\n      parts.push(qs.slice(1)[0].trim());\n    }\n\n    let source = `${url}?${parts.join('&')}`;\n\n    let itemEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let wrapEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let mediaEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let frameEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let iframeEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('iframe');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(itemEl, 'fs-lightbox-item', `fs-lightbox-item_${index}`);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(wrapEl, 'fs-lightbox-wrap');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(mediaEl, 'fs-lightbox-media', 'fs-lightbox-media_video');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(frameEl, 'fs-lightbox-video');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(iframeEl, {\n      'frameborder': '0',\n      'seamless': 'seamless',\n      'allowfullscreen': '',\n      'data-src': source\n    });\n\n    frameEl.append(iframeEl);\n    mediaEl.append(frameEl);\n    wrapEl.append(mediaEl);\n    itemEl.append(wrapEl);\n\n    this.#checkCaption(item, itemEl);\n\n    this.containerEl.append(itemEl);\n\n    item.el = itemEl;\n    item.mediaEl = mediaEl;\n  }\n\n  #drawIframe(item, index) {\n    let itemEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let wrapEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let mediaEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let frameEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let iframeEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('iframe');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(itemEl, 'fs-lightbox-item', `fs-lightbox-item_${index}`);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(wrapEl, 'fs-lightbox-wrap');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(mediaEl, 'fs-lightbox-media', 'fs-lightbox-media_iframe');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(frameEl, 'fs-lightbox-iframe');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(iframeEl, {\n      'frameborder': '0',\n      'seamless': 'seamless',\n      'data-src': item.source\n    });\n\n    frameEl.append(iframeEl);\n    mediaEl.append(frameEl);\n    wrapEl.append(mediaEl);\n    itemEl.append(wrapEl);\n\n    this.#checkCaption(item, itemEl);\n\n    this.containerEl.append(itemEl);\n\n    item.el = itemEl;\n    item.mediaEl = mediaEl;\n    item.frameEl = frameEl;\n  }\n\n  #drawElement(item, index) {\n    let itemEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let wrapEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let mediaEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let frameEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n\n    item.targetEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(item.hash)[0];\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(itemEl, 'fs-lightbox-item', `fs-lightbox-item_${index}`, 'fs-lightbox-loaded');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(wrapEl, 'fs-lightbox-wrap');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(mediaEl, 'fs-lightbox-media', 'fs-lightbox-media_element');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(frameEl, 'fs-lightbox-element');\n\n    frameEl.append(...item.targetEl.childNodes);\n    mediaEl.append(frameEl);\n    wrapEl.append(mediaEl);\n    itemEl.append(wrapEl);\n\n    this.#checkCaption(item, itemEl);\n\n    this.containerEl.append(itemEl);\n\n    item.isLoaded = true;\n\n    item.el = itemEl;\n    item.mediaEl = mediaEl;\n    item.frameEl = frameEl;\n\n    // on(select('.fs-lightbox-previous', item.el), 'click', () => {\n    //   console.log(this);\n    // });\n    // on(select('.fs-lightbox-next', item.el), 'click', this.listeners.next);\n  }\n\n  //\n\n  #setPositions() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.items, (item, index) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(item.el, 'fs-lightbox-active', 'fs-lightbox-item_previous', 'fs-lightbox-item_next');\n\n      if (index === this.index) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(item.el, 'fs-lightbox-active');\n\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(item.el, 'aria-hidden');\n\n        if (!item.isLoaded) {\n          this.#showLoading();\n\n          this.#loadItem(item, index);\n        } else {\n          this.#hideLoading();\n        }\n      } else {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.once)(item.el, 'transitionend', (e) => {\n          this.#unloadItem(item, index);\n        });\n\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(item.el, 'aria-hidden', 'true');\n      }\n\n      if (index < this.index) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(item.el, 'fs-lightbox-item_previous');\n      }\n\n      if (index > this.index) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(item.el, 'fs-lightbox-item_next');\n      }\n    });\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.controlPreviousEl, 'disabled', (this.index === 0));\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.controlNextEl, 'disabled', (this.index === this.items.length - 1));\n  }\n\n  //\n\n  #loadItem(item, index) {\n    if (index !== this.index) {\n      return;\n    }\n\n    let media = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('[data-src]', item.el);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(media, (m) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.once)(m, 'load', (e) => {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(item.el, 'fs-lightbox-loaded');\n\n        item.isLoaded = true;\n\n        this.#hideLoading();\n      });\n\n      m.src = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(m, 'data-src');\n    });\n  }\n\n  #unloadItem(item, index) {\n    if (index == this.index) {\n      return;\n    }\n\n    // if (item.isImage) {\n    //   this.#resetZoom(item);\n    // }\n\n    if ((item.isVideo || item.isIframe) && item.isLoaded) {\n      let media = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('[data-src]', item.el);\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(media, (m) => {\n        m.src = '';\n      });\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(item.el, 'fs-lightbox-loaded');\n\n      item.isLoaded = false;\n    }\n  }\n\n  //\n\n  #showLoading() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.loadingEl, 'fs-lightbox-visible');\n  }\n\n  #hideLoading() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.loadingEl, 'fs-lightbox-visible');\n  }\n\n  //\n\n  #showSiblings() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.siblings)(this.lightboxEl), (el) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(el, 'aria-hidden', el.dataset.lightboxAriaHidden || false);\n      delete el.dataset.lightboxAriaHidden;\n    });\n  }\n\n  #hideSiblings() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.siblings)(this.lightboxEl), (el) => {\n      el.dataset.lightboxAriaHidden = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(el, 'aria-hidden') || '';\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(el, 'aria-hidden', true);\n    });\n  }\n\n  //\n\n  #checkIndex() {\n    if (this.index < 0) {\n      this.index = 0;\n    }\n    if (this.index >= this.items.length) {\n      this.index = this.items.length - 1;\n    }\n  }\n\n  #checkImage(source) {\n    return (source.match(this.fileTypes) !== null || source.substr(0, 10) === 'data:image');\n  }\n\n  #checkVideo(source) {\n    for (let i in this.videoProviders) {\n      let provider = this.videoProviders[i];\n      let parts = source.match(provider.pattern);\n\n      if (parts !== null) {\n        return provider.format.call(this, parts);\n      }\n    }\n\n    return false;\n  }\n\n  #checkCaption(item, el) {\n    if (item.caption) {\n      el.insertAdjacentHTML('beforeend', `<div class=\"fs-lightbox-details\">${item.caption}</div>`);\n    }\n  }\n\n  //\n\n  #onClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.Lightbox.open();\n  }\n\n  #onContainerClick() {\n    return (e) => {\n      let item = this.items[this.index].mediaEl;\n\n      if (e.target !== item && !item.contains(e.target)) {\n        this.close();\n      } else {\n        this.#checkClick(e);\n      }\n    };\n  }\n\n  #checkClick(e) {\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(e.target, 'fs-lightbox-trigger-previous')) {\n      this.previous();\n    }\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(e.target, 'fs-lightbox-trigger-next')) {\n      this.next();\n    }\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(e.target, 'fs-lightbox-trigger-close')) {\n      this.close();\n    }\n  }\n\n  #onClose() {\n    return (e) => {\n      this.close();\n    };\n  }\n\n  #onPrevious() {\n    return (e) => {\n      this.previous();\n    };\n  }\n\n  #onNext() {\n    return (e) => {\n      this.next();\n    };\n  }\n\n  #onKeyDown() {\n    return (e) => {\n      if (e.key === 'ArrowLeft') {\n        this.previous();\n      }\n      if (e.key === 'ArrowRight') {\n        this.next();\n      }\n      if (e.key === 'Escape') {\n        this.close();\n      }\n    };\n  }\n\n  //\n\n  #onPointerDown() {\n    return (e) => {\n      this.isTouching = true;\n      this.pointerStartX = e.clientX;\n      this.pointerStartY = e.clientY;\n\n      this.containerEl.setPointerCapture(e.pointerId);\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.containerEl, 'fs-lightbox-touching');\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.containerEl, 'pointermove', this.listeners.pointermove);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.containerEl, 'pointerup', this.listeners.pointerup);\n    }\n  }\n\n  #onPointerMove() {\n    return (e) => {\n      let item = this.items[this.index];\n\n      // if (item.zoomed) {\n      //   // handle pan\n      //   let diffX = -(this.pointerStartX - e.clientX);\n      //   let diffY = -(this.pointerStartY - e.clientY);\n\n\n      // } else {\n      let diff = -(this.pointerStartX - e.clientX);\n\n      item.el.style.transform = `translate3d(${diff}px, 0, 0)`;\n      // }\n    }\n  }\n\n  #onPointerUp() {\n    return (e) => {\n      let item = this.items[this.index];\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.containerEl, 'fs-lightbox-touching');\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(this.containerEl, 'pointermove', this.listeners.pointermove);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(this.containerEl, 'pointerup', this.listeners.pointerup);\n\n      // if (item.zoomed) {\n      //   // handle pan\n      // } else {\n      let diff = this.pointerStartX - e.clientX;\n\n      item.el.style.transform = null;\n\n      if (Math.abs(diff) > this.threshold) {\n        if (diff < 0) {\n          this.previous();\n        }\n        if (diff > 0) {\n          this.next();\n        }\n      }\n      // }\n\n      this.isTouching = false;\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.once)(this.containerEl, 'click', (e) => {\n        // if (hasClass(e.target, 'fs-lightbox-previous')) {\n        //   this.previous();\n        // }\n        // if (hasClass(e.target, 'fs-lightbox-next')) {\n        //   this.next();\n        // }\n        // if (hasClass(e.target, 'fs-lightbox-close')) {\n        //   this.close();\n        // }\n\n        this.#checkClick(e);\n\n        e.stopPropagation(); // prevent closing when swiping\n      }, true);\n    }\n  }\n\n  // //\n\n  // #onZoomIn() {\n  //   return (e) => {\n  //     e.stopPropagation();\n\n  //     console.log('Zoom in');\n\n  //     let item = this.items[this.index];\n\n  //     item.zoomed = true;\n\n  //     addClass(item.el, 'fs-lightbox-zoomed');\n\n  //     console.log(item, item.el);\n  //   }\n  // }\n\n  // #onZoomOut() {\n  //   return (e) => {\n  //     e.stopPropagation();\n\n  //     console.log('Zoom out');\n\n  //     let item = this.items[this.index];\n\n  //     this.#resetZoom(item);\n  //   }\n  // }\n\n  // #resetZoom(item) {\n  //   item.zoomed = false;\n\n  //   removeClass(item.el, 'fs-lightbox-zoomed');\n\n  //   // item.el.style.transform\n  // }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Lightbox);\n\n//# sourceURL=webpack://Formstone/./src/js/lightbox.js?");

/***/ }),

/***/ "./src/js/mediaquery.js":
/*!******************************!*\
  !*** ./src/js/mediaquery.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n\n\n// Class\n\nclass MediaQuery {\n\n  static #_bindings = {};\n\n  static bind(key, media, data) {\n    key = this.#createKey(key);\n\n    let mq = window.matchMedia(media);\n    let mqKey = this.#createKey(mq.media);\n\n    if (!this.#_bindings[mqKey]) {\n      this.#_bindings[mqKey] = {\n        mq: mq,\n        active: true,\n        enter: {},\n        leave: {}\n      };\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(mq, 'change', (e) => {\n        this.#onBindingChange(e);\n      });\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(Object.entries(data), (entry) => {\n      let action = entry[0];\n      let cb = entry[1];\n\n      if (this.#_bindings[mqKey][action]) {\n        if (this.#_bindings[mqKey][action][key]) {\n          console.warn(`MediaQuery: '${key}' ${media} already exists and can not be bound`);\n          // TODO short circuit here?\n        } else {\n          this.#_bindings[mqKey][action][key] = cb;\n        }\n      }\n    });\n\n    // Check Match\n\n    let binding = this.#_bindings[mqKey];\n\n    if (mq.matches && binding.enter[key]) {\n      binding.enter[key].apply(mq);\n      binding.active = true;\n    } else if (!mq.matches && binding.leave[key]) {\n      binding.leave[key].apply(mq);\n      binding.active = false;\n    }\n  }\n\n  static unbind(key, media) {\n    if (!key) {\n      return;\n    }\n\n    if (media) {\n      // Unbind specific MQ\n      var mqKey = this.#createKey(media);\n\n      if (this.#_bindings[mqKey]) {\n        if (this.#_bindings[mqKey].enter[key]) {\n          delete this.#_bindings[mqKey].enter[key];\n        }\n\n        if (this.#_bindings[mqKey].leave[key]) {\n          delete this.#_bindings[mqKey].leave[key];\n        }\n      }\n    } else {\n      // Unbind all\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(Object.entries(this.#_bindings), (entry) => {\n        // let mqKey = entry[0];\n        let binding = entry[1];\n\n        if (binding.enter[key]) {\n          delete binding.enter[key];\n        }\n\n        if (binding.leave[key]) {\n          delete binding.leave[key];\n        }\n      });\n    }\n  }\n\n  static #onBindingChange(e) {\n    let mqkey = MediaQuery.#createKey(e.media);\n    let binding = this.#_bindings[mqkey];\n    let action = e.matches ? 'enter' : 'leave';\n\n    if (binding && (binding.active || (!binding.active && e.matches))) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(Object.entries(binding[action]), (entry) => {\n        // let key = entry[0];\n        let cb = entry[1];\n\n        cb.apply(binding.mq);\n      });\n\n      binding.active = true;\n    }\n  }\n\n  static #createKey(text) {\n    return text.replace(/[^a-z0-9\\s]/gi, '').replace(/[_\\s]/g, '').replace(/^\\s+|\\s+$/g, '');\n  }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MediaQuery);\n\n//# sourceURL=webpack://Formstone/./src/js/mediaquery.js?");

/***/ }),

/***/ "./src/js/navigation.js":
/*!******************************!*\
  !*** ./src/js/navigation.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _swap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./swap.js */ \"./src/js/swap.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n\n\n\n// Accessibility based on https://plousia.com/blog/how-create-accessible-mobile-menu\n\n// Class\n\nclass Navigation {\n\n  static #_guid = 1;\n\n  static #_defaults = {\n    gravity: 'left',\n    label: 'Menu',\n    maxWidth: '980px',\n    type: 'toggle'\n  };\n\n  //\n\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.extend)(true, this.#_defaults, options);\n  }\n\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(selector);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(targets, (el) => {\n      if (!el.Navigation) {\n        new Navigation(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  constructor(el, options) {\n    if (el.Navigation) {\n      console.warn('Navigation: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.navigationOptions || '{}');\n    } catch (e) {\n      console.warn('Navigation: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-navigation-element-${this.guid}`;\n    this.guidHandle = `fs-navigation-handle-${this.guid}`;\n    // this = extend(true, this.constructor.#_defaults, options || {}, optionsData);\n    this.isOpen = false;\n\n    this.handleEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(dataset.navigationHandle);\n    this.contentEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(dataset.navigationContent);\n\n    this.isToggle = (this.type === 'toggle');\n\n    let typeClass = `fs-navigation-${this.type}`;\n    let gravityClass = (!this.isToggle) ? `${typeClass}-${this.gravity}` : '';\n\n    this.navClasses = ['fs-navigation', this.guidClass, `${typeClass}-nav`, `${gravityClass}-nav`];\n    this.handleClasses = ['fs-navigation-handle', this.guidHandle, `${typeClass}-handle`, `${gravityClass}-handle`];\n    this.contentClasses = ['fs-navigation-content', `${typeClass}-content`];\n    this.contentOpenClasses = ['fs-navigation-open', `${gravityClass}-content`];\n\n    //\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(el, this.navClasses);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.handleEl, this.handleClasses);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.contentEl, this.contentClasses);\n\n    //\n\n    this.originalTabIndex = this.el.tabIndex;\n    this.el.tabIndex = -1;\n\n    this.originalRole = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getAttr)(this.el, 'role');\n    this.originalLabel = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getAttr)(this.el, 'aria-label');\n    this.originalModal = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getAttr)(this.el, 'aria-modal');\n\n    //\n\n    this.originalId = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getAttr)(this.el, 'id');\n\n    if (this.originalId) {\n      this.elId = this.originalId;\n    } else {\n      this.elId = this.guidClass;\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(this.el, 'id', this.elId);\n    }\n\n    this.listeners = {\n      open: this.#onOpen(this),\n      close: this.#onClose(this),\n      enable: this.#onEnable(this),\n      disable: this.#onDisable(this),\n      body: this.#onBodyClick(this),\n      keydown: this.#oKeyDown(this)\n    };\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(this.handleEl, {\n      'data-swap-target': `.${this.guidClass}`,\n      'data-swap-linked': `${this.guidHandle}`,\n      'data-swap-group': 'fs-navigation'\n    });\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(this.handleEl, (handle) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(handle, 'data-tabindex', handle.tabIndex);\n      handle.tabIndex = 0;\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.on)(handle, 'swap:activate', this.listeners.open);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.on)(handle, 'swap:deactivate', this.listeners.close);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.on)(handle, 'swap:enable', this.listeners.enable);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.on)(handle, 'swap:disable', this.listeners.disable);\n    });\n\n    _swap_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].construct(`.${this.guidHandle}`, {\n      classes: {\n        enabled: 'fs-navigation-enabled',\n        active: 'fs-navigation-open',\n        inactive: 'fs-navigation-closed',\n      },\n      collapse: true,\n      maxWidth: this.maxWidth\n    });\n\n    el.Navigation = this;\n  }\n\n  //\n\n  destroy() {\n    this.listeners.disable.call();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeClass)(this.el, this.navClasses);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeClass)(this.handleEl, this.handleClasses);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeClass)(this.contentEl, this.contentClasses);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeAttr)(this.el, 'aria-hidden');\n    this.tabIndex = this.originalTabIndex;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeAttr)(this.handleEl, [\n      'data-swap-target',\n      'data-swap-linked',\n      'data-swap-group'\n    ]);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(this.handleEl, (handle) => {\n      handle.tabIndex = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getAttr)(handle, 'data-tabindex');\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeAttr)(handle, 'data-tabindex');\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.off)(handle, 'swap:activate', this.listeners.open);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.off)(handle, 'swap:deactivate', this.listeners.close);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.off)(handle, 'swap:enable', this.listeners.enable);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.off)(handle, 'swap:disable', this.listeners.disable);\n\n      handle.Swap.destroy();\n    });\n\n    this.el.Navigation = null;\n\n    delete this.el.Navigation;\n  }\n\n  //\n\n  enable() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(this.handleEl, (handle) => {\n      handle.Swap.enable();\n    });\n  }\n\n  disable() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(this.handleEl, (handle) => {\n      handle.Swap.disable();\n    });\n  }\n\n  //\n\n  open() {\n    this.handleEl[0].Swap.activate();\n  }\n\n  close() {\n    this.handleEl[0].Swap.deactivate();\n  }\n\n  //\n\n  #onEnable() {\n    return (e) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(this.el, 'aria-label', this.label);\n\n      if (!this.isToggle) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(this.el, {\n          'role': 'dialog',\n          'aria-modal': 'true'\n        });\n      }\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(this.handleEl, 'aria-controls', this.elId);\n\n      if (this.isToggle) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(this.handleEl, 'aria-expanded', 'false');\n      }\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.contentEl, 'fs-navigation-enabled');\n\n      setTimeout(() => {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.el, 'fs-navigation-animated');\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.contentEl, 'fs-navigation-animated');\n      }, 0);\n    };\n  }\n\n  #onDisable() {\n    return (e) => {\n      this.listeners.close.call();\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(this.el, {\n        'role': this.originalRole || false,\n        'aria-label': this.originaLabel || false,\n        'aria-modal': this.originaModal || false,\n        'id': this.originalId || false\n      });\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeAttr)(this.handleEl, [\n        'aria-controls',\n        'aria-expanded'\n      ]);\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeClass)(this.el, 'fs-navigation-animated');\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeClass)(this.contentEl, 'fs-navigation-enabled', 'fs-navigation-animated', this.contentOpenClasses);\n    };\n  }\n\n  #onOpen() {\n    return (e) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(this.el, 'aria-hidden', 'false');\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.contentEl, this.contentOpenClasses);\n\n      if (!this.isToggle) {\n        // setAttr(this.content, 'aria-hidden', 'true');\n        //setAttr(this.#siblingsClean(this.content), 'aria-hidden', 'true');\n        this.#hideSiblings();\n      } else {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(this.handleEl, 'aria-expanded', 'true');\n      }\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.on)(document.body, 'click', this.listeners.body);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.on)(document.body, 'keydown', this.listeners.keydown);\n\n      if (!this.isOpen) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.trigger)(this.el, 'navigation:open');\n\n        this.isOpen = true;\n\n        setTimeout(() => {\n          ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])', this.el)[0] || this.el).focus();\n        }, 50);\n      }\n    };\n  }\n\n  #onClose() {\n    return (e) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(this.el, 'aria-hidden', 'true');\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeClass)(this.contentEl, this.contentOpenClasses);\n\n      if (!this.isToggle) {\n        // removeAttr(siblings(this.el), 'aria-hidden');\n        this.#showSiblings();\n      }\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(this.handleEl, 'aria-expanded', 'false');\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.off)(document.body, 'click', this.listeners.body);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.off)(document.body, 'keydown', this.listeners.keydown);\n\n      if (this.isOpen) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.trigger)(this.el, 'navigation:close');\n\n        this.handleEl[0].focus();\n\n        this.isOpen = false;\n      }\n    };\n  }\n\n  //\n\n  #getSiblings() {\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.siblings)(this.el).filter((el) => {\n      return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isU)(el.Navigation);\n    });\n  }\n\n  #showSiblings() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(this.#getSiblings(), (el) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(el, 'aria-hidden', el.dataset.navigationAriaHidden || false);\n      delete el.dataset.navigationAriaHidden;\n    });\n  }\n\n  #hideSiblings() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(this.#getSiblings(), (el) => {\n      el.dataset.navigationAriaHidden = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getAttr)(el, 'aria-hidden') || '';\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.setAttr)(el, 'aria-hidden', true);\n    });\n  }\n\n  //\n\n  #onBodyClick() {\n    return (e) => {\n      if (e.target !== this.el && !this.el.contains(e.target)) {\n        this.close();\n      }\n    };\n  }\n\n  #oKeyDown() {\n    return (e) => {\n      if (e.key === 'Escape') {\n        this.close();\n      }\n    }\n  }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Navigation);\n\n//# sourceURL=webpack://Formstone/./src/js/navigation.js?");

/***/ }),

/***/ "./src/js/swap.js":
/*!************************!*\
  !*** ./src/js/swap.js ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mediaquery_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mediaquery.js */ \"./src/js/mediaquery.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n\n\n\n// Class\n\n// TODO look into events\n\nclass Swap {\n\n  static #_guid = 1;\n\n  static #_defaults = {\n    classes: {\n      enabled: 'fs-swap-enabled',\n      active: 'fs-swap-active',\n      inactive: 'fs-swap-inactive',\n    },\n    collapse: true,\n    maxWidth: Infinity,\n    minWidth: '0px',\n  };\n\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.extend)(true, this.#_defaults, options);\n  }\n\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(selector);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)(targets, (el) => {\n      if (!el.Swap) {\n        new Swap(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  constructor(el, options) {\n    if (el.Swap) {\n      console.warn('Swap: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.swapOptions || '{}');\n    } catch (e) {\n      console.warn('Swap: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-swap-element-${this.guid}`;\n    this.guidTarget = `fs-swap-target-${this.guid}`;\n\n    this.enabled = false;\n    // this.active = el.dataset.swapActive || false;\n    this.group = dataset.swapGroup ? `[data-swap-group=\"${dataset.swapGroup}\"]` : false;\n    this.linked = dataset.swapLinked ? `[data-swap-linked=\"${dataset.swapLinked}\"]` : false;\n    this.target = dataset.swapTarget || null;\n    this.targetEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(this.target);\n    // this = extend(true, this.constructor.#_defaults, options || {}, optionsData);\n\n    let maxWidth = (this.maxWidth === Infinity ? '100000px' : this.maxWidth);\n\n    this.mq = `(min-width: ${this.minWidth}) and (max-width: ${maxWidth})`;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.el, this.guidClass);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.targetEl, this.guidTarget);\n\n    this.toggleEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(`.${this.guidClass}, .${this.guidTarget}`);\n\n    _mediaquery_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bind(this.guidClass, this.mq, {\n      enter: () => {\n        this.enable();\n      },\n      leave: () => {\n        this.disable();\n      }\n    });\n\n    el.Swap = this;\n  }\n\n  destroy() {\n    this.disable();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeClass)(this.toggleEl, this.guidClass, this.guidTarget);\n\n    this.el.Swap = null;\n\n    delete this.el.Swap;\n  }\n\n  //\n\n  enable(internal) {\n    if (this.enabled) {\n      return;\n    }\n\n    this.enabled = true;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.toggleEl, this.classes.enabled, this.classes.inactive);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.on)(this.el, 'click', this.#onClick);\n\n    if (!this.collapse && this.group) {\n      let groupItems = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(this.group);\n      let activeItems = Array.from(groupItems).filter((el) => {\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.hasAttr)(el, 'data-swap-active');\n      });\n\n      if (!activeItems.length) {\n        groupItems[0].dataset.swapActive = 'true';\n      }\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.trigger)(this.toggleEl, 'swap:enable');\n\n    if (this.el.dataset.swapActive) {\n      this.activate();\n    }\n\n    if (!internal && this.linked) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(this.linked), (el) => {\n        if (el.Swap && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.hasClass)(el, this.guidClass)) {\n          el.Swap.enable(true);\n        }\n      });\n    }\n  }\n\n  disable(internal) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.enabled = false;\n    this.active = false;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeClass)(this.toggleEl, this.classes.enabled, this.classes.active, this.classes.inactive);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.off)(this.el, 'click', this.#onClick);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.trigger)(this.toggleEl, 'swap:disable');\n\n    if (!internal && this.linked) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(this.linked), (el) => {\n        if (el.Swap && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.hasClass)(el, this.guidClass)) {\n          el.Swap.disable(true);\n        }\n      });\n    }\n  }\n\n  //\n\n  activate(internal) {\n    if (!this.enabled || this.active) {\n      return;\n    }\n\n    this.active = true;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeClass)(this.toggleEl, this.classes.inactive);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.toggleEl, this.classes.active);\n\n    if (!internal) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.trigger)(this.toggleEl, 'swap:activate');\n\n      if (this.linked) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(this.linked), (el) => {\n          if (el.Swap && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.hasClass)(el, this.guidClass)) {\n            el.Swap.activate(true);\n          }\n        });\n      }\n    }\n\n    if (this.group) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(this.linked ? `${this.group}:not(${this.linked})` : this.group), (el) => {\n        if (el.Swap && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.hasClass)(el, this.guidClass)) {\n          el.Swap.deactivate(true);\n        }\n      });\n    }\n  }\n\n  deactivate(internal) {\n    if (!this.enabled || !this.active) {\n      return;\n    }\n\n    this.active = false;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.removeClass)(this.toggleEl, this.classes.active);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.addClass)(this.toggleEl, this.classes.inactive);\n\n    if (!internal) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.trigger)(this.toggleEl, 'swap:deactivate');\n\n      if (this.linked) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.select)(this.linked), (el) => {\n          if (el.Swap && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.hasClass)(el, this.guidClass)) {\n            el.Swap.deactivate(true);\n          }\n        });\n      }\n    }\n  }\n\n  //\n\n  #onClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    let instance = this.Swap;\n\n    if (instance.active && instance.collapse) {\n      instance.deactivate();\n    } else {\n      instance.activate();\n    }\n  }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Swap);\n\n//# sourceURL=webpack://Formstone/./src/js/swap.js?");

/***/ }),

/***/ "./src/js/tabs.js":
/*!************************!*\
  !*** ./src/js/tabs.js ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mediaquery_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mediaquery.js */ \"./src/js/mediaquery.js\");\n/* harmony import */ var _swap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./swap.js */ \"./src/js/swap.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n\n\n\n\n// Class\n\nclass Tabs {\n\n  static #_guid = 1;\n\n  static #_defaults = {\n    maxWidth: Infinity,\n    mobileMaxWidth: '980px'\n  };\n\n  //\n\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.extend)(true, this.#_defaults, options);\n  }\n\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.select)(selector);\n\n    targets.forEach((el) => {\n      if (!el.Tabs) {\n        new Tabs(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  constructor(el, options) {\n    if (el.Tabs) {\n      console.warn('Tabs: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.tabsOptions || '{}');\n    } catch (e) {\n      console.warn('Tabs: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-tabs-element-${this.guid}`;\n    this.guidContent = `fs-tabs-content-${this.guid}`;\n\n    let mobileMaxWidth = (this.mobileMaxWidth === Infinity ? '100000px' : this.mobileMaxWidth);\n\n    this.mq = `(max-width: ${mobileMaxWidth})`;\n\n    this.target = el.hash;\n    this.container = dataset.tabsContainer;\n    this.group = dataset.tabsGroup;\n\n    this.mobileEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.element)('button');\n    this.contentEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.select)(this.target)[0];\n    this.containerEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.select)(this.container)[0];\n\n    this.handleEl = [el, this.mobileEl];\n\n    //\n\n    this.mobileEl.innerHTML = el.innerHTML;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.setAttr)(this.mobileEl, {\n      'type': 'button',\n      'aria-hidden': 'true'\n    });\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.addClass)(el, 'fs-tabs-tab', this.guidClass);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.addClass)(this.mobileEl, 'fs-tabs-tab_mobile', this.guidClass);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.addClass)(this.contentEl, 'fs-tabs-content', this.guidContent);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.addClass)(this.containerEl, 'fs-tabs-container');\n\n    this.contentEl.parentNode.insertBefore(this.mobileEl, this.contentEl);\n\n    // Aria\n\n    // SHOULD BE IN ENABLE / DISABLE?\n    this.originalId = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getAttr)(el, 'id');\n\n    if (this.originalId) {\n      this.elId = this.originalId;\n    } else {\n      this.elId = this.guidClass;\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.setAttr)(el, 'id', this.elId);\n    }\n\n    this.originalContentId = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getAttr)(el, 'id');\n\n    if (this.originalContentId) {\n      this.contentId = this.originalContentId;\n    } else {\n      this.contentId = this.guidContent;\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.setAttr)(this.contentEl, 'id', this.contentId);\n    }\n\n    // Check for hash\n\n    let hash = window.location.hash;\n\n    this.hashActive = false;\n    this.hashGroup = false;\n\n    if (hash.length) {\n      this.hashActive = (el.hash == hash);\n      this.hashGroup = this.group && ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.select)(`[data-tabs-group=\"${this.group}\"][href$=\"${hash}]`).length > 0);\n    }\n\n    // SHOULD BE IN ENABLE / DISABLE?\n    if (this.hashActive) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.setAttr)(this.handleEl, 'data-swap-active', 'true');\n    } else if (this.hashGroup) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.removeAttr)(this.handleEl, 'data-swap-active');\n    } else if (this.el.dataset.tabsActive === 'true') {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.setAttr)(this.handleEl, 'data-swap-active', 'true');\n    }\n\n    //\n\n    this.listeners = {\n      activate: this.#onActivate(this),\n      // deactivate: this.#onDeactivate(this),\n      enable: this.#onEnable(this),\n      disable: this.#onDisable(this)\n    };\n\n    this.handleEl.forEach((handle) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.setAttr)(handle, {\n        'data-swap-target': `.${this.guidContent}`,\n        'data-swap-linked': `${this.guidClass}`,\n        'data-swap-group': `${this.group}`\n      });\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.on)(handle, 'swap:activate', this.listeners.activate);\n      // on(handle, 'swap:deactivate', this.listeners.deactivate);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.on)(handle, 'swap:enable', this.listeners.enable);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.on)(handle, 'swap:disable', this.listeners.disable);\n    });\n\n    _mediaquery_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bind(this.guidClass, this.mq, {\n      enter: () => {\n        console.log('enter');\n        this.#mobileEnable();\n      },\n      leave: () => {\n        console.log('leave');\n        this.#mobileDisable();\n      }\n    });\n\n    _swap_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].construct(`.${this.guidClass}`, {\n      classes: {\n        enabled: 'fs-tabs-enabled',\n        active: 'fs-tabs-active',\n        inactive: 'fs-tabs-inactive',\n      },\n      collapse: false,\n      maxWidth: this.maxWidth\n    });\n\n    el.Tabs = this;\n  }\n\n  //\n\n  destroy() {\n    this.listeners.disable.call();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.removeClass)(this.el, 'fs-tabs-tab', this.guidClass);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.removeClass)(this.contentEl, 'fs-tabs-content', this.guidContent);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.removeClass)(this.containerEl, 'fs-tabs-container');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.removeAttr)(this.handle, [\n      'data-swap-target',\n      'data-swap-linked',\n      'data-swap-group'\n    ]);\n\n    this.handleEl.forEach((handle) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.off)(handle, 'swap:activate', this.listeners.activate);\n      // off(handle, 'swap:deactivate', this.listeners.deactivate);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.off)(handle, 'swap:enable', this.listeners.enable);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.off)(handle, 'swap:disable', this.listeners.disable);\n\n      handle.Swap.destroy();\n    });\n\n    this.mobileEl.remove();\n\n    this.el.Tabs = null;\n\n    delete this.el.Tabs;\n  }\n\n  //\n\n  enable() {\n    this.el.Swap.enable();\n  }\n\n  disable() {\n    this.el.Swap.disable();\n  }\n\n  //\n\n  activate() {\n    this.el.Swap.activate();\n  }\n\n  deactivate() {\n    this.el.Swap.deactivate();\n  }\n\n  //\n\n  #onEnable() {\n    return (e) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.setAttr)(this.el, {\n        'role': 'tab',\n        'aria-controls': this.contentId\n      });\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.setAttr)(this.contentEl, {\n        'role': 'tabpanel',\n        'aria-labeledby': this.elId\n      });\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.setAttr)(this.containerEl, {\n        'role': 'tablist'\n      });\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.addClass)(this.contentEl, 'fs-tabs-enabled');\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.addClass)(this.contentEl, 'fs-tabs-enabled');\n\n      // setAttr(this.el, 'aria-label', this.label);\n\n      // if (!this.isToggle) {\n      //   setAttr(this.el, {\n      //     'role': 'dialog',\n      //     'aria-modal': 'true'\n      //   });\n      // }\n\n      // setAttr(this.handle, 'aria-controls', this.elId);\n\n      // if (this.isToggle) {\n      //   setAttr(this.handle, 'aria-expanded', 'false');\n      // }\n\n      // addClass(this.content, 'fs-navigation-enabled');\n\n      // setTimeout(() => {\n      //   addClass(this.el, 'fs-navigation-animated');\n      //   addClass(this.content, 'fs-navigation-animated');\n      // }, 0);\n    };\n  }\n\n  #onDisable() {\n    return (e) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.removeAttr)(this.el, 'role', 'aria-controls');\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.removeAttr)(this.contentEl, 'role', 'aria-labeledby');\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.removeAttr)(this.containerEl, 'role');\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.removeClass)(this.contentEl, 'fs-tabs-enabled');\n\n      // SHOULD BE IN ENABLE / DISABLE\n      // setAttr(this.el, {\n      //   'role': this.originalRole || false,\n      //   'aria-label': this.originaLabel || false,\n      //   'aria-modal': this.originaModal || false,\n      //   'id': this.originalId || false\n      // });\n    };\n  }\n\n  #onActivate() {\n    return (e) => {\n      // window.location.hash = this.el.hash;\n    };\n  }\n\n  #onDeactivate() {\n    //   return (e) => {\n    //   };\n  }\n\n  //\n\n  #mobileEnable() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.iterate)(this.handleEl, (handle) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.addClass)(handle, 'fs-tabs-mobile');\n    });\n  }\n\n  #mobileDisable() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.iterate)(this.handleEl, (handle) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.removeClass)(handle, 'fs-tabs-mobile');\n    });\n  }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Tabs);\n\n//# sourceURL=webpack://Formstone/./src/js/tabs.js?");

/***/ }),

/***/ "./src/js/utils.js":
/*!*************************!*\
  !*** ./src/js/utils.js ***!
  \*************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addClass\": function() { return /* binding */ addClass; },\n/* harmony export */   \"element\": function() { return /* binding */ element; },\n/* harmony export */   \"extend\": function() { return /* binding */ extend; },\n/* harmony export */   \"falsey\": function() { return /* binding */ falsey; },\n/* harmony export */   \"getAttr\": function() { return /* binding */ getAttr; },\n/* harmony export */   \"hasAttr\": function() { return /* binding */ hasAttr; },\n/* harmony export */   \"hasClass\": function() { return /* binding */ hasClass; },\n/* harmony export */   \"isFn\": function() { return /* binding */ isFn; },\n/* harmony export */   \"isObj\": function() { return /* binding */ isObj; },\n/* harmony export */   \"isReady\": function() { return /* binding */ isReady; },\n/* harmony export */   \"isU\": function() { return /* binding */ isU; },\n/* harmony export */   \"iterable\": function() { return /* binding */ iterable; },\n/* harmony export */   \"iterate\": function() { return /* binding */ iterate; },\n/* harmony export */   \"normalizeAttrs\": function() { return /* binding */ normalizeAttrs; },\n/* harmony export */   \"normalizeClasses\": function() { return /* binding */ normalizeClasses; },\n/* harmony export */   \"off\": function() { return /* binding */ off; },\n/* harmony export */   \"on\": function() { return /* binding */ on; },\n/* harmony export */   \"once\": function() { return /* binding */ once; },\n/* harmony export */   \"proto\": function() { return /* binding */ proto; },\n/* harmony export */   \"ready\": function() { return /* binding */ ready; },\n/* harmony export */   \"removeAttr\": function() { return /* binding */ removeAttr; },\n/* harmony export */   \"removeClass\": function() { return /* binding */ removeClass; },\n/* harmony export */   \"select\": function() { return /* binding */ select; },\n/* harmony export */   \"setAttr\": function() { return /* binding */ setAttr; },\n/* harmony export */   \"siblings\": function() { return /* binding */ siblings; },\n/* harmony export */   \"trigger\": function() { return /* binding */ trigger; },\n/* harmony export */   \"type\": function() { return /* binding */ type; }\n/* harmony export */ });\nlet _readyCallbacks = [];\n\nfunction ready(cb) {\n  if (document.readyState === 'loading') {\n    _readyCallbacks.push(cb);\n    document.addEventListener('DOMContentLoaded', isReady, false);\n  } else {\n    cb.call();\n  }\n}\n\nfunction isReady() {\n  iterate(_readyCallbacks, (cb) => {\n    cb.call();\n  });\n}\n\n//\n\nfunction type(item) {\n  return (typeof item);\n}\n\nfunction proto(item) {\n  return Object.prototype.toString.call(item);\n}\n\nfunction falsey(v) {\n  return (isU(v) || v === false || v === null);\n}\n\nfunction isFn(v) {\n  return (type(v) === 'function');\n}\n\nfunction isObj(v) {\n  return (type(v) === 'object');\n}\n\nfunction isU(v) {\n  return (type(v) === 'undefined');\n}\n\n//\n\nfunction element(tag) {\n  return document.createElement(tag);\n}\n\nfunction select(selector, context) {\n  return (context || document).querySelectorAll(selector);\n}\n\nfunction siblings(node) {\n  return [...node.parentElement.children].filter((child) => {\n    return child != node;\n  });\n}\n\nfunction iterable(target) {\n  if (!['[object NodeList]', '[object Array]'].includes(proto(target))) {\n    target = [target];\n  }\n\n  return [...target].filter((item) => {\n    // return item instanceof Element;\n    return !falsey(item);\n  });\n}\n\nfunction iterate(target, cb) {\n  iterable(target).forEach(cb);\n}\n\n//\n\nfunction on(target, event, cb, options) {\n  iterate(target, (el) => {\n    el.addEventListener(event, cb, options || null);\n  });\n}\n\nfunction once(target, event, cb, options) {\n  on(target, event, cb, extend({\n    once: true,\n    capture: (options === true)\n  }, (isObj(options)) ? options : {}));\n}\n\nfunction off(target, event, cb) {\n  iterate(target, (el) => {\n    el.removeEventListener(event, cb);\n  });\n}\n\nfunction trigger(target, event, detail) {\n  iterate(target, (el) => {\n    el.dispatchEvent(new CustomEvent(event, {\n      detail: detail || null\n    }));\n  });\n}\n\n//\n\nfunction normalizeClasses(...classes) {\n  if (proto(classes[0]) === '[object Array]') {\n    classes = classes[0];\n  }\n\n  classes = classes.filter((c) => {\n    return c !== '';\n  });\n\n  return classes;\n}\n\nfunction hasClass(target, c) {\n  return target.classList.contains(c);\n}\n\nfunction addClass(target, ...classes) {\n  classes = normalizeClasses(...classes);\n\n  iterate(target, (el) => {\n    el.classList.add(...classes);\n  });\n}\n\nfunction removeClass(target, ...classes) {\n  classes = normalizeClasses(...classes);\n\n  iterate(target, (el) => {\n    el.classList.remove(...classes);\n  });\n}\n\n//\n\nfunction hasAttr(target, attr) {\n  return target.hasAttribute(attr);\n}\n\nfunction getAttr(target, attr) {\n  return target.getAttribute(attr);\n}\n\nfunction normalizeAttrs(attr, value) {\n  if (proto(attr) !== '[object Object]') {\n    let newAttr = {};\n    newAttr[`${attr}`] = value;\n    attr = newAttr;\n  }\n\n  return Object.entries(attr);\n}\n\nfunction setAttr(target, attr, value) {\n  attr = normalizeAttrs(attr, value);\n\n  iterate(target, (el) => {\n    for (let [a, v] of attr) {\n      if (falsey(v)) {\n        removeAttr(target, a);\n      } else {\n        el.setAttribute(a, v);\n      }\n    }\n  });\n}\n\nfunction removeAttr(target, attr) {\n  if (proto(attr) !== '[object Array]') {\n    attr = [attr];\n  }\n\n  iterate(target, (el) => {\n    iterate(attr, (a) => {\n      el.removeAttribute(a);\n    });\n  });\n}\n\n//\n\nfunction extend(...args) {\n  let extended = {};\n  let deep = false;\n  let i = 0;\n\n  if (type(args[0]) === 'boolean') {\n    deep = args[0];\n    i++;\n  }\n\n  let merge = (obj) => {\n    for (let prop in obj) {\n      if (Object.hasOwn(obj, prop)) {\n        if (deep && proto(obj[prop]) === '[object Object]') {\n          extended[prop] = extend(extended[prop], obj[prop]);\n        } else {\n          extended[prop] = obj[prop];\n        }\n      }\n    }\n  };\n\n  for (; i < args.length; i++) {\n    merge(args[i]);\n  }\n\n  return extended;\n}\n\n//# sourceURL=webpack://Formstone/./src/js/utils.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/jquery/index.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});