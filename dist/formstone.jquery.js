/*! formstone v2.0.0-1 [formstone.jquery.js] 2023-05-04 | GPL-3.0 License | formstone.it */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Formstone=e():t.Formstone=e()}(window,(function(){return function(){"use strict";var t={d:function(e,i){for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Background:function(){return B},CheckPoint:function(){return Y},Cookie:function(){return J},Lightbox:function(){return X},MediaQuery:function(){return U},Navigation:function(){return it},Swap:function(){return st},Tabs:function(){return ot},Utils:function(){return i}});var i={};t.r(i),t.d(i,{addClass:function(){return E},element:function(){return c},extend:function(){return O},falsey:function(){return h},getAttr:function(){return I},hasAttr:function(){return C},hasClass:function(){return w},isFn:function(){return r},isObj:function(){return d},isReady:function(){return n},iterable:function(){return p},iterate:function(){return b},normalizeAttrs:function(){return _},normalizeClasses:function(){return x},off:function(){return m},on:function(){return f},once:function(){return v},proto:function(){return l},ready:function(){return a},removeAttr:function(){return L},removeClass:function(){return k},select:function(){return u},setAttr:function(){return S},siblings:function(){return g},trigger:function(){return y},type:function(){return o}});let s=[];function a(t){"loading"===document.readyState?(s.push(t),document.addEventListener("DOMContentLoaded",n,!1)):t.call()}function n(){b(s,(t=>{t.call()}))}function o(t){return typeof t}function l(t){return Object.prototype.toString.call(t)}function h(t){return"undefined"===o(t)||!1===t||null===t}function r(t){return"function"===o(t)}function d(t){return"function"===o(t)}function c(t){return document.createElement(t)}function u(t,e){return(e||document).querySelectorAll(t)}function g(t){return[...t.parentElement.children].filter((e=>e!=t))}function p(t){return["[object NodeList]","[object Array]"].includes(l(t))||(t=[t]),[...t].filter((t=>!h(t)))}function b(t,e){p(t).forEach(e)}function f(t,e,i,s){b(t,(t=>{t.addEventListener(e,i,s||null)}))}function v(t,e,i,s){f(t,e,i,O({once:!0,capture:!0===s},"object"===o(s)?s:{}))}function m(t,e,i){b(t,(t=>{t.removeEventListener(e,i)}))}function y(t,e,i){b(t,(t=>{t.dispatchEvent(new CustomEvent(e,{detail:i||null}))}))}function x(...t){return"[object Array]"===l(t[0])&&(t=t[0]),t.filter((t=>""!==t))}function w(t,e){return t.classList.contains(e)}function E(t,...e){e=x(...e),b(t,(t=>{t.classList.add(...e)}))}function k(t,...e){e=x(...e),b(t,(t=>{t.classList.remove(...e)}))}function C(t,e){return t.hasAttribute(e)}function I(t,e){return t.getAttribute(e)}function _(t,e){if("[object Object]"!==l(t)){let i={};i[`${t}`]=e,t=i}return Object.entries(t)}function S(t,e,i){e=_(e,i),b(t,(i=>{for(let[s,a]of e)h(a)?L(t,s):i.setAttribute(s,a)}))}function L(t,e){"[object Array]"!==l(e)&&(e=[e]),b(t,(t=>{b(e,(e=>{t.removeAttribute(e)}))}))}function O(...t){let e={},i=!1,s=0;"boolean"===o(t[0])&&(i=t[0],s++);let a=t=>{for(let s in t)Object.hasOwn(t,s)&&(i&&"[object Object]"===l(t[s])?e[s]=O(e[s],t[s]):e[s]=t[s])};for(;s<t.length;s++)a(t[s]);return e}class T{static#t={};static bind(t,e,i){t=this.#e(t);let s=window.matchMedia(e),a=this.#e(s.media);this.#t[a]||(this.#t[a]={mq:s,active:!0,enter:{},leave:{}},f(s,"change",(t=>{this.#i(t)}))),b(Object.entries(i),(i=>{let s=i[0],n=i[1];this.#t[a][s]&&(this.#t[a][s][t]?console.warn(`MediaQuery: '${t}' ${e} already exists and can not be bound`):this.#t[a][s][t]=n)}));let n=this.#t[a];s.matches&&n.enter[t]?(n.enter[t].apply(s),n.active=!0):!s.matches&&n.leave[t]&&(n.leave[t].apply(s),n.active=!1)}static unbind(t,e){if(t)if(e){var i=this.#e(e);this.#t[i]&&(this.#t[i].enter[t]&&delete this.#t[i].enter[t],this.#t[i].leave[t]&&delete this.#t[i].leave[t])}else b(Object.entries(this.#t),(e=>{let i=e[1];i.enter[t]&&delete i.enter[t],i.leave[t]&&delete i.leave[t]}))}static#i(t){let e=T.#e(t.media),i=this.#t[e],s=t.matches?"enter":"leave";i&&(i.active||!i.active&&t.matches)&&(b(Object.entries(i[s]),(t=>{t[1].apply(i.mq)})),i.active=!0)}static#e(t){return t.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}}var P=T;class j{static#s=1;static#a={alt:"",autoPlay:!0,lazy:!1,lazyOffset:"100px",loop:!0,mute:!0,source:null,youtubeOptions:{}};static defaults(t){this.#a=O(!0,this.#a,t)}static construct(t,e){let i=u(t);return b(i,(t=>{t.Background||new j(t,e)})),i}constructor(t,e){if(t.Background)return void console.warn("Background: Instance already exists",t);let i={},s=t.dataset;try{i=JSON.parse(s.backgroundOptions||"{}")}catch(e){console.warn("Background: Error parsing options JSON",t)}Object.assign(this,O(!0,this.constructor.#a,e||{},i)),this.el=t,this.guid=this.constructor.#s++,this.guidClass=`fs-background-element-${this.guid}`,this.layerGuid=0,this.container=c("div"),E(this.container,"fs-background-container"),S(this.container,"aria-hidden","true"),this.container.tabIndex=-1,t.append(this.container),E(t,"fs-background",this.guidClass),this.lazy?(E(t,"fs-background-lazy"),this.observer=new IntersectionObserver(((t,e)=>{b(t,(t=>{this.#n(t)}))}),{root:null,threshold:0,rootMargin:`0px 0px ${this.lazyOffset} 0px`}),this.observer.observe(t)):this.#o(this.source),t.Background=this}destroy(){this.container.remove(),k(this.el,"fs-background",this.guidClass),this.el.Background=null,delete this.el.Background}#n(t){t.isIntersecting&&(this.observer.unobserve(this.el),this.observer=null,this.#o(this.source))}#o(){let t=this.source;this.source="",this.load(t)}load(t){if(E(this.el,"fs-background-loaded"),t!==this.source){if(this.source=t,this.sources=null,this.responsive=!1,this.player=null,this.playerReady=!0,this.playing=!1,this.isVideo="object"===o(t)&&!!(t.mp4||t.ogg||t.webm),this.isYouTube=!this.isVideo&&"object"===o(t)&&!!t.youtube,this.isImage=!this.isVideo&&!this.isYouTube,this.isImage){let e=t;if("object"===o(t)){let e=[],i=[];b(Object.keys(t),(t=>{i.push(t)})),i.sort(((t,e)=>parseInt(t,10)-parseInt(e,10)));for(let s=0;s<i.length;s++){let a=i[s],n=parseInt(a,10),o=`(min-width: ${n}px)`;s+1<i.length&&(o=`(min-width: ${n}px) and (max-width: ${parseInt(i[s+1],10)-1}px)`),e.push({width:n,url:t[a],mediaquery:P.bind(`background-${this.guid}-${o}`,o,{enter:()=>{this.#l(t[a])}})})}this.sources=e}else this.#l(e)}this.isVideo&&this.#h(t),this.isYouTube&&this.#r(t)}else y(this.el,"loaded.background")}#l(t){this.layerGuid++;let e=c("div");e.ariaHidden=!0,e.className="fs-background-media fs-background-image",e.style.opacity=0,e.style.backgroundImage=`url(${t})`,S(e,"data-background-layer",this.layerGuid),this.container.append(e);let i=new Image;i.onload=()=>{this.#d(e)},i.src=t,this.source=t}#h(t){t.poster&&this.#l(t.poster),this.layerGuid++;let e=c("div"),i=c("video");if(e.ariaHidden=!0,e.className="fs-background-media fs-background-video",e.style.opacity=0,S(e,"data-background-layer",this.layerGuid),i.playsinline=!0,i.preload="auto",i.tabIndex=-1,this.loop&&(i.loop=!0),this.mute&&(i.muted=!0),this.autoPlay&&(i.autoplay=!0),t.webm){let e=c("source");e.type="video/webm",e.src=t.webm,i.append(e)}if(t.mp4){let e=c("source");e.type="video/mp4",e.src=t.mp4,i.append(e)}if(t.ogg){let e=c("source");e.type="video/ogg",e.src=t.ogg,i.append(e)}v(i,"loadeddata",(t=>{this.#d(e),this.autoPlay&&this.play()})),e.append(i),this.container.append(e),this.source=t}#r(t){let e=t.youtube.match(/(?:(?:youtube\.com|youtube-nocookie\.com)\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i);this.youTubeId=e[1];let i="youtube.com";if(t.poster||(t.poster=`//img.${i}/vi/${this.youTubeId}/maxresdefault.jpg`),this.#l(t.poster),this.layerGuid++,!u(`script[src*="${i}/iframe_api"]`).length){let t=c("script");t.src=`//www.${i}/iframe_api`,document.head.append(t)}if(N){let t=`fs-background-${this.guid}-${this.layerGuid}`,e=c("div"),s=c("div");s.id=t,e.ariaHidden=!0,e.className="fs-background-media fs-background-embed",e.style.opacity=0,S(e,"data-background-layer",this.layerGuid),e.append(s),this.container.append(e);let a=O(!0,{},{controls:0,rel:0,showinfo:0,wmode:"transparent",enablejsapi:1,version:3,playerapiid:t,loop:this.loop?1:0,mute:1,origin:`${window.location.protocol}//${window.location.host}`},this.youtubeOptions,{autoplay:1});this.player=new window.YT.Player(t,{host:`https://www.${i.replace(".com","-nocookie.com")}`,videoId:this.youTubeId,playerVars:a,events:{onReady:t=>{u("iframe",this.container)[0].tabIndex=-1,this.playerReady=!0,this.mute&&this.player.mute(),this.autoPlay?this.player.playVideo():this.player.pauseVideo()},onStateChange:t=>{this.playing||t.data!==window.YT.PlayerState.PLAYING?this.loop&&this.playing&&t.data===window.YT.PlayerState.ENDED&&this.player.playVideo():(this.playing=!0,this.#d(e))},onPlaybackQualityChange:t=>{},onPlaybackRateChange:t=>{},onError:t=>{},onApiChange:t=>{}}})}else A.push({el:this,source:t})}play(){if(this.isYouTube)this.playerReady?this.player.playVideo():this.autoPlay=!0;else if(this.isVideo){let t=u("video",this.container);t.length&&t[0].play()}this.playing=!0}pause(){if(this.isYouTube)this.playerReady?this.player.pauseVideo():this.autoPlay=!1;else if(this.video){let t=u("video",this.container);t.length&&t[0].pause()}this.playing=!1}mute(){if(this.isYouTube&&this.playerReady)this.player.mute();else if(this.video){let t=u("video",this.container);t.length&&(t[0].muted=!0)}this.mute=!0}unmute(){if(this.isYouTube&&this.playerReady)this.player.unMute(),this.playing&&this.player.playVideo();else if(this.video){let t=u("video",this.container);t.length&&(t[0].muted=!1)}this.mute=!1}#d(t){let e=I(t,"data-background-layer");v(t,"transitionend",(t=>{this.onLoadTimer&&(clearTimeout(this.onLoadTimer),this.onLoadTimer=null),this.onLoadTimer=setTimeout((()=>{b(u(`div:not([data-background-layer="${e}"]):not([data-background-layer="${this.layerGuid}"])`,this.container),(t=>{t.remove()}))}),500)})),t.style.opacity=1,y(this.el,"loaded.background")}}let N=!1,A=[],M="function"==o(window.onYouTubeIframeAPIReady)?window.onYouTubeIframeAPIReady:null;window.onYouTubeIframeAPIReady=()=>{M&&M.call(),N=!0,b(A,(t=>{t.el.load(t.source)})),A=[]};var V=j;function H(t,e){"undefined"!=typeof jQuery&&(jQuery.fn[e.toLowerCase()]=function(i,...s){return $(this).each(((a,n)=>{!i||d(i)?new t(n,i):n[e]&&r(n[e][i])&&n[e][i](...s)}))})}function D(t,e){"undefined"!=typeof jQuery&&(jQuery[e.toLowerCase()]=function(e,...i){if(r(t[e]))return t[e](...i)})}H(V,"Background"),D(V,"Background");var B=V;class G{static#s=1;static#a={intersect:"bottom",offset:"0px",reverse:!1};static defaults(t){this.#a=O(!0,this.#a,t)}static construct(t,e){let i=u(t);return b(i,(t=>{t.CheckPoint||new G(t,e)})),i}constructor(t,e){if(t.CheckPoint)return void console.warn("Checkpoint: Instance already exists",t);let i={},s=t.dataset;try{i=JSON.parse(s.checkpointOptions||"{}")}catch(e){console.warn("Checkpoint: Error parsing options JSON",t)}Object.assign(this,O(!0,this.constructor.#a,e||{},i)),this.el=t,this.guid=this.constructor.#s++,this.guidClass=`fs-checkpoint-element-${this.guid}`,this.enabled=!1,this.active=!1,this.parent=s.checkpointParent||null,this.parentEl=this.parent?u(this.parent)[0]:null,this.container=s.checkpointContainer||null,E(this.el,this.guidClass),this.target=this.container||`.${this.guidClass}`,this.targetEl=u(this.target),this.intersect=s.checkpointIntersect||this.intersect,this.offset=s.checkpointOffset||this.offset,this.margin=`0px 0px -${this.offset} 0px`,this.edge=parseInt(this.offset,10),this.percent=this.offset.includes("%")?this.edge/100:null,this.observer=new IntersectionObserver(((t,e)=>{b(t,(t=>{this.#n(t)}))}),{root:this.parentEl||null,threshold:0,rootMargin:this.margin}),this.enable(),t.CheckPoint=this}destroy(){this.disable(),k(this.el,this.guidClass),this.observer=null,this.el.CheckPoint=null,delete this.el.CheckPoint}#n(t){let e=this.parentEl?this.parentEl.innerHeight:window.innerHeight,i=e-(this.percent?e*this.percent:this.edge);t.isIntersecting||t.boundingClientRect.top<i?this.activate():this.deactivate()}enable(){this.enabled||(this.enabled=!0,E(this.el,"fs-checkpoint"),b(this.targetEl,(t=>{this.observer.observe(t)})))}disable(){this.enabled&&(this.deactivate(),this.enabled=!1,k(this.el,"fs-checkpoint","fs-checkpoint-active"),b(this.targetEl,(t=>{this.observer.unobserve(t)})))}activate(){this.enabled&&!this.active&&(this.active=!0,E(this.el,"fs-checkpoint-active"),y(this.el,"activate.checkpoint",{}))}deactivate(){this.enabled&&this.active&&(this.active=!1,k(this.el,"fs-checkpoint-active"),y(this.el,"deactivate.checkpoint",{}))}}var R=G;H(R,"CheckPoint"),D(R,"CheckPoint");var Y=R,W=class{static#a={domain:null,expires:6048e5,path:null,samesite:"Lax",secure:null};static defaults(t){this.#a=O(!0,this.#a,t)}static set(t,e,i){let s=!1,a=new Date;"number"===o((i=O(!0,this.#a,i||{})).expires)&&(a.setTime(a.getTime()+i.expires),s=a.toGMTString());let n=i.domain?"; domain="+i.domain:"",l=s?"; expires="+s:"",h=s?"; max-age="+i.expires/1e3:"",r=i.path?"; path="+i.path:"",d=i.samesite?"; samesite="+i.samesite:"",c=i.secure?"; secure":"";document.cookie=`${t}=${e}${l}${h}${n}${r}${d}${c}`}static get(t){let e=`${t}=`,i=document.cookie.split(";");for(var s=0;s<i.length;s++){let t=i[s].trim();if(0===t.indexOf(e))return t.substring(e.length,t.length)}return null}static delete(t,e){this.set(t,"",O({},e,{expires:-6048e5}))}};D(W,"Cookie");var J=W;function K(t){return"//www.youtube.com/embed/"+t[1]}function q(t){return"//player.vimeo.com/video/"+t[3]}class z{static#s=1;static#a={fileTypes:/\.(jpg|sjpg|jpeg|png|gif)/i,iframeWidth:"900px",threshold:50,templates:{container:'\n<div class="fs-lightbox" role="dialog" aria-modal="true">\n  <div class="fs-lightbox-overlay"></div>\n  <div class="fs-lightbox-loading">[loading]</div>\n  <button type="button" class="fs-lightbox-close" aria-label="Close">[close]</button>\n  <div class="fs-lightbox-container"></div>\n  <button type="button" class="fs-lightbox-control fs-lightbox-control_previous" aria-label="Previous">[previous]</button>\n  <button type="button" class="fs-lightbox-control fs-lightbox-control_next" aria-label="Next">[next]</button>\n</div>',close:'<span class="fs-lightbox-sr">Close</span><svg viewBox="0 0 24 24" fill="none"><path d="M18 18L12 12M12 12L6 6M12 12L18 6M12 12L6 18" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg>',loading:'<span class="fs-lightbox-sr">Loading</span>',previous:'<span class="fs-lightbox-sr">Previous</span><svg viewBox="0 0 24 24" fill="none"><path d="M15 19L8 12L15 5" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',next:'<span class="fs-lightbox-sr">Next</span><svg viewBox="0 0 24 24" fill="none"><path d="M9 5L16 12L9 19" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},videoProviders:{youtube:{pattern:/(?:(?:youtube\.com|youtube-nocookie\.com)\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/,format:K},vimeo:{pattern:/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,format:q}}};static defaults(t){this.#a=O(!0,this.#a,t)}static construct(t,e){let i=u(t);return b(i,(t=>{t.Lightbox||new z(t,e)})),i}constructor(t,e){if(t.Lightbox)return void console.warn("Lightbox: Instance already exists",t);let i={},s=t.dataset;try{i=JSON.parse(s.lightboxOptions||"{}")}catch(e){console.warn("Lightbox: Error parsing options JSON",t)}Object.assign(this,O(!0,this.constructor.#a,e||{},i)),this.el=t,this.guid=this.constructor.#s++,this.guidClass=`fs-lightbox-element-${this.guid}`,this.gallery=s.lightboxGallery||null,this.isOpen=!1,this.isTouching=!1,E(this.el,this.guidClass),this.el.addEventListener("click",this.#c),t.Lightbox=this}destroy(){this.close(),k(this.el,this.guidClass),this.el.removeEventListener("click",this.#c),this.el.Lightbox=null,delete this.el.Lightbox}open(t){this.isOpen||(this.index=t,this.#u(),this.listeners={close:this.#g(),next:this.#p(),previous:this.#b(),container:this.#f(),keydown:this.#v(),pointerdown:this.#m(),pointermove:this.#y(),pointerup:this.#x()},this.#w(),this.#E(),this.#k(),setTimeout((()=>{E(this.lightboxEl,"fs-lightbox-open"),this.isOpen=!0,this.lightboxEl.focus()}),0))}close(){this.isOpen&&(k(this.lightboxEl,"fs-lightbox-open"),this.#C(),m(window,"keydown",this.listeners.keydown),v(this.lightboxEl,"transitionend",(t=>{b(this.items,((t,e)=>{t.isElement&&t.targetEl.append(...t.mediaEl.childNodes)})),this.lightboxEl.remove(),this.isOpen=!1,this.el.focus()})))}next(){this.index++,this.#I(),this.#E()}previous(){this.index--,this.#I(),this.#E()}jump(t){this.index=t,this.#I(),this.#E()}#u(){this.selector=this.gallery?`[data-lightbox-gallery="${this.gallery}"]`:`.${this.guidClass}`;let t=u(this.selector);this.items=[],b(t,((t,e)=>{if("A"===t.tagName){let i=t.href,s=t.hash,a=t.dataset.lightboxType||"",n="image"===a||this.#$(i),o="video"===a||!!this.#_(i),l="url"===a||!n&&!o&&"http"===i.substr(0,4)&&!s,h="element"===a||!n&&!o&&!l&&"#"===s.substr(0,1);this.index||t!=this.el||(this.index=e),this.items.push({source:i,hash:s,isLoaded:!1,isImage:n,isVideo:o,isIframe:l,isElement:h,caption:t.dataset.lightboxCaption||I(t,"title")})}}))}#w(){let t=this.templates.container.replace("[close]",this.templates.close).replace("[loading]",this.templates.loading).replace("[previous]",this.templates.previous).replace("[next]",this.templates.next);document.body.insertAdjacentHTML("beforeend",t),this.lightboxEl=u(".fs-lightbox")[0],this.overlayEl=u(".fs-lightbox-overlay",this.lightboxEl)[0],this.closeEl=u(".fs-lightbox-close",this.lightboxEl)[0],this.loadingEl=u(".fs-lightbox-loading",this.lightboxEl)[0],this.containerEl=u(".fs-lightbox-container",this.lightboxEl)[0],this.controlPreviousEl=u(".fs-lightbox-control_previous",this.lightboxEl)[0],this.controlNextEl=u(".fs-lightbox-control_next",this.lightboxEl)[0],this.items.length>1&&E(this.lightboxEl,"fs-lightbox-gallery"),b(this.items,((t,e)=>{t.isImage&&this.#S(t,e),t.isVideo&&this.#L(t,e),t.isIframe&&this.#O(t,e),t.isElement&&this.#T(t,e),this.items.length>1&&f(t.mediaEl,"pointerdown",this.listeners.pointerdown)})),v(this.closeEl,"click",this.listeners.close),f(this.controlPreviousEl,"click",this.listeners.previous),f(this.controlNextEl,"click",this.listeners.next),f(this.containerEl,"click",this.listeners.container),f(window,"keydown",this.listeners.keydown)}#S(t,e){let i=c("div"),s=c("div"),a=c("div"),n=c("img");E(i,"fs-lightbox-item",`fs-lightbox-item_${e}`),E(s,"fs-lightbox-wrap"),E(a,"fs-lightbox-media","fs-lightbox-media_image"),E(n,"fs-lightbox-image"),S(n,{"data-src":t.source,draggable:"false"}),a.append(n),s.append(a),i.append(s),this.#P(t,i),this.containerEl.append(i),t.el=i,t.mediaEl=a}#L(t,e){let i=this.#_(t.source),s=t.source.split("?"),a=["&origin="+encodeURIComponent(window.location.protocol+"//"+window.location.hostname),"&enablejsapi=1"];s.length>=2&&a.push(s.slice(1)[0].trim());let n=`${i}?${a.join("&")}`,o=c("div"),l=c("div"),h=c("div"),r=c("div"),d=c("iframe");E(o,"fs-lightbox-item",`fs-lightbox-item_${e}`),E(l,"fs-lightbox-wrap"),E(h,"fs-lightbox-media","fs-lightbox-media_video"),E(r,"fs-lightbox-video"),S(d,{frameborder:"0",seamless:"seamless",allowfullscreen:"","data-src":n}),r.append(d),h.append(r),l.append(h),o.append(l),this.#P(t,o),this.containerEl.append(o),t.el=o,t.mediaEl=h}#O(t,e){let i=c("div"),s=c("div"),a=c("div"),n=c("div"),o=c("iframe");E(i,"fs-lightbox-item",`fs-lightbox-item_${e}`),E(s,"fs-lightbox-wrap"),E(a,"fs-lightbox-media","fs-lightbox-media_iframe"),E(n,"fs-lightbox-iframe"),S(o,{frameborder:"0",seamless:"seamless","data-src":t.source}),n.append(o),a.append(n),s.append(a),i.append(s),this.#P(t,i),this.containerEl.append(i),t.el=i,t.mediaEl=a}#T(t,e){let i=c("div"),s=c("div"),a=c("div"),n=c("div");t.targetEl=u(t.hash)[0],E(i,"fs-lightbox-item",`fs-lightbox-item_${e}`,"fs-lightbox-loaded"),E(s,"fs-lightbox-wrap"),E(a,"fs-lightbox-media","fs-lightbox-media_element"),E(n,"fs-lightbox-element"),n.append(...t.targetEl.childNodes),a.append(n),s.append(a),i.append(s),this.#P(t,i),this.containerEl.append(i),t.isLoaded=!0,t.el=i,t.mediaEl=a}#E(){b(this.items,((t,e)=>{k(t.el,"fs-lightbox-active","fs-lightbox-item_previous","fs-lightbox-item_next"),e===this.index?(E(t.el,"fs-lightbox-active"),L(t.el,"aria-hidden"),t.isLoaded?this.#j():(this.#N(),this.#A(t))):(v(t.el,"transitionend",(e=>{this.#M(t)})),S(t.el,"aria-hidden","true")),e<this.index&&E(t.el,"fs-lightbox-item_previous"),e>this.index&&E(t.el,"fs-lightbox-item_next")})),S(this.controlPreviousEl,"disabled",0===this.index),S(this.controlNextEl,"disabled",this.index===this.items.length-1)}#A(t){b(u("[data-src]",t.el),(e=>{v(e,"load",(e=>{E(t.el,"fs-lightbox-loaded"),t.isLoaded=!0,this.#j()})),e.src=I(e,"data-src")}))}#M(t){(t.isVideo||t.isIframe)&&t.isLoaded&&(b(u("[data-src]",t.el),(t=>{t.src=""})),k(t.el,"fs-lightbox-loaded"),t.isLoaded=!1)}#N(){E(this.loadingEl,"fs-lightbox-visible")}#j(){k(this.loadingEl,"fs-lightbox-visible")}#C(){b(g(this.lightboxEl),(t=>{S(t,"aria-hidden",t.dataset.lightboxAriaHidden||!1),delete t.dataset.lightboxAriaHidden}))}#k(){b(g(this.lightboxEl),(t=>{t.dataset.lightboxAriaHidden=I(t,"aria-hidden")||"",S(t,"aria-hidden",!0)}))}#I(){this.index<0&&(this.index=0),this.index>=this.items.length&&(this.index=this.items.length-1)}#$(t){return null!==t.match(this.fileTypes)||"data:image"===t.substr(0,10)}#_(t){for(let e in this.videoProviders){let i=this.videoProviders[e],s=t.match(i.pattern);if(null!==s)return i.format.call(this,s)}return!1}#P(t,e){t.caption&&e.insertAdjacentHTML("beforeend",`<div class="fs-lightbox-details">${t.caption}</div>`)}#c(t){t.preventDefault(),t.stopPropagation(),this.Lightbox.open()}#f(){return t=>{let e=this.items[this.index].mediaEl;t.target===e||e.contains(t.target)||this.close()}}#g(){return t=>{this.close()}}#b(){return t=>{this.previous()}}#p(){return t=>{this.next()}}#v(){return t=>{"ArrowLeft"===t.key&&this.previous(),"ArrowRight"===t.key&&this.next(),"Escape"===t.key&&this.close()}}#m(){return t=>{this.isTouching=!0,this.pointerStartX=t.clientX,this.containerEl.setPointerCapture(t.pointerId),E(this.containerEl,"fs-lightbox-touching"),f(this.containerEl,"pointermove",this.listeners.pointermove),f(this.containerEl,"pointerup",this.listeners.pointerup)}}#y(){return t=>{let e=-(this.pointerStartX-t.clientX);this.items[this.index].el.style.transform=`translate3d(${e}px, 0, 0)`}}#x(){return t=>{k(this.containerEl,"fs-lightbox-touching"),m(this.containerEl,"pointermove",this.listeners.pointermove),m(this.containerEl,"pointerup",this.listeners.pointerup);let e=this.pointerStartX-t.clientX;this.items[this.index].el.style.transform=null,Math.abs(e)>this.threshold&&(e<0&&this.previous(),e>0&&this.next()),this.isTouching=!1,v(this.containerEl,"click",(t=>{t.stopPropagation()}),!0)}}}var Q=z;H(Q,"Lightbox"),D(Q,"Lightbox");var X=Q;D(P,"MediaQuery");var U=P;class F{static#s=1;static#a={classes:{enabled:"fs-swap-enabled",active:"fs-swap-active"},collapse:!0,maxWidth:1/0,minWidth:"0px"};static defaults(t){this.#a=O(!0,this.#a,t)}static construct(t,e){let i=u(t);return b(i,(t=>{t.Swap||new F(t,e)})),i}constructor(t,e){if(t.Swap)return void console.warn("Swap: Instance already exists",t);let i={},s=t.dataset;try{i=JSON.parse(s.swapOptions||"{}")}catch(e){console.warn("Swap: Error parsing options JSON",t)}Object.assign(this,O(!0,this.constructor.#a,e||{},i)),this.el=t,this.guid=this.constructor.#s++,this.guidClass=`fs-swap-element-${this.guid}`,this.guidTarget=`fs-swap-target-${this.guid}`,this.enabled=!1,this.group=!!s.swapGroup&&`[data-swap-group="${s.swapGroup}"]`,this.linked=!!s.swapLinked&&`[data-swap-linked="${s.swapLinked}"]`,this.target=s.swapTarget||null,this.targetEl=u(this.target);let a=this.maxWidth===1/0?"100000px":this.maxWidth;this.mq=`(min-width: ${this.minWidth}) and (max-width: ${a})`,E(this.el,this.guidClass),E(this.targetEl,this.guidTarget),this.toggleEl=u(`.${this.guidClass}, .${this.guidTarget}`),P.bind(this.guidClass,this.mq,{enter:()=>{this.enable()},leave:()=>{this.disable()}}),t.Swap=this}destroy(){this.disable(),k(this.toggleEl,this.guidClass,this.guidTarget),this.el.Swap=null,delete this.el.Swap}enable(t){if(!this.enabled){if(this.enabled=!0,E(this.toggleEl,this.classes.enabled),f(this.el,"click",this.#c),!this.collapse&&this.group){let t=u(this.group);Array.from(t).filter((t=>C(t,"data-swap-active"))).length||(t[0].dataset.swapActive="true")}y(this.toggleEl,"enable.swap"),this.el.dataset.swapActive&&this.activate(),!t&&this.linked&&b(u(this.linked),(t=>{t.Swap&&!w(t,this.guidClass)&&t.Swap.enable(!0)}))}}disable(t){this.enabled&&(this.enabled=!1,this.active=!1,k(this.toggleEl,this.classes.enabled,this.classes.active),m(this.el,"click",this.#c),y(this.toggleEl,"disable.swap"),!t&&this.linked&&b(u(this.linked),(t=>{t.Swap&&!w(t,this.guidClass)&&t.Swap.disable(!0)})))}activate(t){this.enabled&&!this.active&&(this.active=!0,E(this.toggleEl,this.classes.active),t||(y(this.toggleEl,"activate.swap"),this.linked&&b(u(this.linked),(t=>{t.Swap&&!w(t,this.guidClass)&&t.Swap.activate(!0)}))),this.group&&b(u(this.linked?`${this.group}:not(${this.linked})`:this.group),(t=>{t.Swap&&!w(t,this.guidClass)&&t.Swap.deactivate(!0)})))}deactivate(t){this.enabled&&this.active&&(this.active=!1,k(this.toggleEl,this.classes.active),t||(y(this.toggleEl,"deactivate.swap"),this.linked&&b(u(this.linked),(t=>{t.Swap&&!w(t,this.guidClass)&&t.Swap.deactivate(!0)}))))}#c(t){t.preventDefault(),t.stopPropagation();let e=this.Swap;e.active&&e.collapse?e.deactivate():e.activate()}}var Z=F;class tt{static#s=1;static#a={gravity:"left",label:"Menu",maxWidth:"980px",type:"toggle"};static defaults(t){this.#a=O(!0,this.#a,t)}static construct(t,e){let i=u(t);return b(i,(t=>{t.Navigation||new tt(t,e)})),i}constructor(t,e){if(t.Navigation)return void console.warn("Navigation: Instance already exists",t);let i={},s=t.dataset;try{i=JSON.parse(s.navigationOptions||"{}")}catch(e){console.warn("Navigation: Error parsing options JSON",t)}Object.assign(this,O(!0,this.constructor.#a,e||{},i)),this.el=t,this.guid=this.constructor.#s++,this.guidClass=`fs-navigation-element-${this.guid}`,this.guidHandle=`fs-navigation-handle-${this.guid}`,this.isOpen=!1,this.handleEl=u(s.navigationHandle),this.contentEl=u(s.navigationContent),this.isToggle="toggle"===this.type;let a=`fs-navigation-${this.type}`,n=this.isToggle?"":`${a}-${this.gravity}`;this.navClasses=["fs-navigation",this.guidClass,`${a}-nav`,`${n}-nav`],this.handleClasses=["fs-navigation-handle",this.guidHandle,`${a}-handle`,`${n}-handle`],this.contentClasses=["fs-navigation-content",`${a}-content`],this.contentOpenClasses=["fs-navigation-open",`${n}-content`],E(t,this.navClasses),E(this.handleEl,this.handleClasses),E(this.contentEl,this.contentClasses),this.originalTabIndex=this.el.tabIndex,this.el.tabIndex=-1,this.originalRole=I(this.el,"role"),this.originalLabel=I(this.el,"aria-label"),this.originalModal=I(this.el,"aria-modal"),this.originalId=I(this.el,"id"),this.originalId?this.elId=this.originalId:(this.elId=this.guidClass,S(this.el,"id",this.elId)),this.listeners={open:this.#V(this),close:this.#g(this),enable:this.#H(this),disable:this.#D(this),body:this.#B(this),keydown:this.#G(this)},S(this.handleEl,{"data-swap-target":`.${this.guidClass}`,"data-swap-linked":`${this.guidHandle}`,"data-swap-group":"fs-navigation"}),b(this.handleEl,(t=>{S(t,"data-tabindex",t.tabIndex),t.tabIndex=0,f(t,"activate.swap",this.listeners.open),f(t,"deactivate.swap",this.listeners.close),f(t,"enable.swap",this.listeners.enable),f(t,"disable.swap",this.listeners.disable)})),Z.construct(`.${this.guidHandle}`,{classes:{enabled:"fs-navigation-enabled",active:"fs-navigation-open"},collapse:!0,maxWidth:this.maxWidth}),t.Navigation=this}destroy(){this.listeners.disable.call(),k(this.el,this.navClasses),k(this.handleEl,this.handleClasses),k(this.contentEl,this.contentClasses),L(this.el,"aria-hidden"),this.tabIndex=this.originalTabIndex,L(this.handleEl,["data-swap-target","data-swap-linked","data-swap-group"]),b(this.handleEl,(t=>{t.tabIndex=I(t,"data-tabindex"),L(t,"data-tabindex"),m(t,"activate.swap",this.listeners.open),m(t,"deactivate.swap",this.listeners.close),m(t,"enable.swap",this.listeners.enable),m(t,"disable.swap",this.listeners.disable),t.Swap.destroy()})),this.el.Navigation=null,delete this.el.Navigation}enable(){b(this.handleEl,(t=>{t.Swap.enable()}))}disable(){b(this.handleEl,(t=>{t.Swap.disable()}))}open(){this.handleEl[0].Swap.activate()}close(){this.handleEl[0].Swap.deactivate()}#H(){return t=>{S(this.el,"aria-label",this.label),this.isToggle||S(this.el,{role:"dialog","aria-modal":"true"}),S(this.handleEl,"aria-controls",this.elId),this.isToggle&&S(this.handleEl,"aria-expanded","false"),E(this.contentEl,"fs-navigation-enabled"),setTimeout((()=>{E(this.el,"fs-navigation-animated"),E(this.contentEl,"fs-navigation-animated")}),0)}}#D(){return t=>{this.listeners.close.call(),S(this.el,{role:this.originalRole||!1,"aria-label":this.originaLabel||!1,"aria-modal":this.originaModal||!1,id:this.originalId||!1}),L(this.handleEl,["aria-controls","aria-expanded"]),k(this.el,"fs-navigation-animated"),k(this.contentEl,"fs-navigation-enabled","fs-navigation-animated",this.contentOpenClasses)}}#V(){return t=>{S(this.el,"aria-hidden","false"),E(this.contentEl,this.contentOpenClasses),this.isToggle?S(this.handleEl,"aria-expanded","true"):this.#k(),f(document.body,"click",this.listeners.body),f(document.body,"keydown",this.listeners.keydown),this.isOpen||(y(this.el,"open.navigation"),this.isOpen=!0,setTimeout((()=>{(u('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',this.el)[0]||this.el).focus()}),50))}}#g(){return t=>{S(this.el,"aria-hidden","true"),k(this.contentEl,this.contentOpenClasses),this.isToggle||this.#C(),S(this.handleEl,"aria-expanded","false"),m(document.body,"click",this.listeners.body),m(document.body,"keydown",this.listeners.keydown),this.isOpen&&(y(this.el,"close.navigation"),this.handleEl[0].focus(),this.isOpen=!1)}}#R(){return g(this.el).filter((t=>"undefined"===o(t.Navigation)))}#C(){b(this.#R(),(t=>{S(t,"aria-hidden",t.dataset.navigationAriaHidden||!1),delete t.dataset.navigationAriaHidden}))}#k(){b(this.#R(),(t=>{t.dataset.navigationAriaHidden=I(t,"aria-hidden")||"",S(t,"aria-hidden",!0)}))}#B(){return t=>{t.target===this.el||this.el.contains(t.target)||this.close()}}#G(){return t=>{"Escape"===t.key&&this.close()}}}var et=tt;H(et,"Navigation"),D(et,"Navigation");var it=et;H(Z,"Swap"),D(Z,"Swap");var st=Z;class at{static#s=1;static#a={maxWidth:1/0,mobileMaxWidth:"980px"};static defaults(t){this.#a=O(!0,this.#a,t)}static construct(t,e){let i=u(t);return i.forEach((t=>{t.Tabs||new at(t,e)})),i}constructor(t,e){if(t.Tabs)return void console.warn("Tabs: Instance already exists",t);let i={},s=t.dataset;try{i=JSON.parse(s.tabsOptions||"{}")}catch(e){console.warn("Tabs: Error parsing options JSON",t)}Object.assign(this,O(!0,this.constructor.#a,e||{},i)),this.el=t,this.guid=this.constructor.#s++,this.guidClass=`fs-tabs-element-${this.guid}`,this.guidContent=`fs-tabs-content-${this.guid}`;let a=this.mobileMaxWidth===1/0?"100000px":this.mobileMaxWidth;this.mq=`(max-width: ${a})`,this.target=t.hash,this.container=s.tabsContainer,this.group=s.tabsGroup,this.mobileEl=c("button"),this.contentEl=u(this.target)[0],this.containerEl=u(this.container)[0],this.handleEl=[t,this.mobileEl],this.mobileEl.innerHTML=t.innerHTML,S(this.mobileEl,{type:"button","aria-hidden":"true"}),E(t,"fs-tabs-tab",this.guidClass),E(this.mobileEl,"fs-tabs-tab_mobile",this.guidClass),E(this.contentEl,"fs-tabs-content",this.guidContent),E(this.containerEl,"fs-tabs-container"),this.contentEl.parentNode.insertBefore(this.mobileEl,this.contentEl),this.originalId=I(t,"id"),this.originalId?this.elId=this.originalId:(this.elId=this.guidClass,S(t,"id",this.elId)),this.originalContentId=I(t,"id"),this.originalContentId?this.contentId=this.originalContentId:(this.contentId=this.guidContent,S(this.contentEl,"id",this.contentId));let n=window.location.hash;this.hashActive=!1,this.hashGroup=!1,n.length&&(this.hashActive=t.hash==n,this.hashGroup=this.group&&u(`[data-tabs-group="${this.group}"][href$="${n}]`).length>0),this.hashActive?S(this.handleEl,"data-swap-active","true"):this.hashGroup?L(this.handleEl,"data-swap-active"):"true"===this.el.dataset.tabsActive&&S(this.handleEl,"data-swap-active","true"),this.listeners={enable:this.#H(this),disable:this.#D(this)},this.handleEl.forEach((t=>{S(t,{"data-swap-target":`.${this.guidContent}`,"data-swap-linked":`${this.guidClass}`,"data-swap-group":`${this.group}`}),f(t,"enable.swap",this.listeners.enable),f(t,"disable.swap",this.listeners.disable)})),P.bind(this.guidClass,this.mq,{enter:()=>{console.log("enter"),this.#Y()},leave:()=>{console.log("leave"),this.#W()}}),Z.construct(`.${this.guidClass}`,{classes:{enabled:"fs-tabs-enabled",active:"fs-tabs-active"},collapse:!0,maxWidth:this.maxWidth}),t.Tabs=this}destroy(){this.listeners.disable.call(),k(this.el,"fs-tabs-tab",this.guidClass),k(this.contentEl,"fs-tabs-content",this.guidContent),k(this.containerEl,"fs-tabs-container"),L(this.handle,["data-swap-target","data-swap-linked","data-swap-group"]),this.handleEl.forEach((t=>{m(t,"enable.swap",this.listeners.enable),m(t,"disable.swap",this.listeners.disable),t.Swap.destroy()})),this.mobileEl.remove(),this.el.Tabs=null,delete this.el.Tabs}enable(){this.el.Swap.enable()}disable(){this.el.Swap.disable()}activate(){this.el.Swap.activate()}deactivate(){this.el.Swap.deactivate()}#H(){return t=>{S(this.el,{role:"tab","aria-controls":this.contentId}),S(this.contentEl,{role:"tabpanel","aria-labeledby":this.elId}),S(this.containerEl,{role:"tablist"}),E(this.contentEl,"fs-tabs-enabled"),E(this.contentEl,"fs-tabs-enabled")}}#D(){return t=>{L(this.el,"role"),L(this.contentEl,"role"),L(this.containerEl,"role"),k(this.contentEl,"fs-tabs-enabled")}}#J(){}#K(){}#Y(){b(this.handleEl,(t=>{E(t,"fs-tabs-mobile")}))}#W(){b(this.handleEl,(t=>{k(t,"fs-tabs-mobile")}))}}var nt=at;H(nt,"Tabs"),D(nt,"Tabs");var ot=nt;return e}()}));