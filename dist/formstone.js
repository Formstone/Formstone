/*! formstone v2.1.9 [formstone.js] 2026-02-12 | GPL-3.0 License | formstone.it */
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Formstone"] = factory();
	else
		root["Formstone"] = factory();
})(window, function() {
return /******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/background.js":
/*!******************************!*\
  !*** ./src/js/background.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mediaquery_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mediaquery.js */ \"./src/js/mediaquery.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n/**\n * @fileoverview Background - Full-frame, responsive image and video backgrounds\n */\n\n\n\n\n// Class\n\n/**\n * Background class for creating full-frame responsive image and video backgrounds\n * @class\n */\nclass Background {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  static #_guid = 1;\n\n  /**\n   * @typedef {Object} BackgroundOptions\n   * @property {boolean} [autoPlay=true] - Autoplay video\n   * @property {boolean} [lazy=false] - Lazy load media on scroll\n   * @property {string} [lazyOffset='100px'] - Distance from bottom of window for lazy loading\n   * @property {boolean} [loop=true] - Loop video\n   * @property {boolean} [mute=true] - Mute video\n   * @property {string|Object} [source=null] - Source image (string or object) or video (object)\n   * @property {Object} [youtubeOptions={}] - Options passed to YouTube player\n   */\n\n  /**\n   * @type {BackgroundOptions}\n   * @private\n   */\n  static #_defaults = {\n    // alt: '',\n    autoPlay: true,\n    lazy: false,\n    lazyOffset: '100px',\n    loop: true,\n    mute: true,\n    source: null,\n    youtubeOptions: {}\n  };\n\n  //\n\n  /**\n   * Sets default options for future Background instances\n   * @param {BackgroundOptions} options - Object containing default options\n   * @example\n   * Background.defaults({\n   *   lazy: true,\n   *   lazyOffset: '10vh'\n   * });\n   */\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options);\n  }\n\n  /**\n   * Initializes Background plugin on target elements\n   * @param {string} selector - Selector string to target\n   * @param {BackgroundOptions} [options={}] - Object containing instance options\n   * @returns {NodeList} NodeList of target elements\n   * @example\n   * Background.construct('.js-background');\n   * Background.construct('.js-background', { lazy: true });\n   */\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(selector);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(targets, (el) => {\n      if (!el.Background) {\n        new Background(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  /**\n   * Creates a new Background instance\n   * @constructor\n   * @param {Element} el - The target element\n   * @param {BackgroundOptions} [options={}] - Configuration options\n   */\n  constructor(el, options) {\n    if (el.Background) {\n      console.warn('Background: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.backgroundOptions || '{}');\n    } catch (e) {\n      console.warn('Background: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-background-element-${this.guid}`;\n    this.layerGuid = 0;\n\n    //\n\n    this.container = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.container, 'fs-background-container');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.container, {\n      'aria-hidden': 'true',\n      'role': 'presentation',\n      'tabindex': '-1',\n    });\n\n    el.append(this.container);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(el, 'fs-background', this.guidClass);\n\n    if (this.lazy) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(el, 'fs-background-lazy');\n\n      this.observer = new IntersectionObserver((entries, observer) => {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(entries, (entry) => {\n          this.#observe(entry);\n        });\n      }, {\n        // root: this.parentEl || null,\n        root: null,\n        threshold: 0,\n        rootMargin: `0px 0px ${this.lazyOffset} 0px`\n      });\n\n      this.observer.observe(el);\n    } else {\n      this.#initialLoad(this.source);\n    }\n\n    el.Background = this;\n  }\n\n  //\n\n  /**\n   * Removes plugin and all related data\n   * @example\n   * el.Background.destroy();\n   */\n  destroy() {\n    this.container.remove();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, 'fs-background', this.guidClass);\n\n    this.el.Background = null;\n\n    delete this.el.Background;\n  }\n\n  //\n\n  /**\n   * Internal IntersectionObserver callback for lazy loading\n   * @private\n   * @param {IntersectionObserverEntry} entry - Intersection observer entry\n   * @returns {void}\n   */\n  #observe(entry) {\n    if (entry.isIntersecting) {\n      this.observer.unobserve(this.el);\n      this.observer = null;\n      this.#initialLoad(this.source);\n    }\n  }\n\n  /**\n   * Performs the initial load of media\n   * @private\n   * @returns {void}\n   */\n  #initialLoad() {\n    let source = this.source;\n    this.source = '';\n    this.load(source);\n  }\n\n  //\n\n  /**\n   * Loads new source media\n   * @param {string|Object} source - Source image URL (string or responsive object) or video object\n   * @fires background:loaded\n   * @example\n   * // Load single image\n   * el.Background.load('/path/to/image.jpg');\n   *\n   * // Load responsive images\n   * el.Background.load({\n   *   0: '/path/to/small.jpg',\n   *   740: '/path/to/large.jpg'\n   * });\n   *\n   * // Load video\n   * el.Background.load({\n   *   mp4: '/path/to/video.mp4',\n   *   poster: '/path/to/poster.jpg'\n   * });\n   *\n   * // Load YouTube\n   * el.Background.load({\n   *   youtube: 'https://www.youtube.com/watch?v=VIDEO_ID'\n   * });\n   */\n  load(source) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.el, 'fs-background-loaded');\n\n    if (source !== this.source) {\n      this.source = source;\n      this.sources = null;\n      this.responsive = false;\n\n      this.player = null;\n      this.playerReady = true;\n      this.playing = false;\n\n      this.isVideo = ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isObj)(source) && (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.falsey)(source.mp4) || !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.falsey)(source.ogg) || !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.falsey)(source.webm)));\n      this.isYouTube = (!this.isVideo && (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isObj)(source) && !!source.youtube);\n      this.isImage = (!this.isVideo && !this.isYouTube);\n\n      // Load Image\n\n      if (this.isImage) {\n        let newSource = source;\n\n        // Responsive image handling\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isObj)(source)) {\n          let sources = [];\n          let keys = [];\n\n          (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(Object.keys(source), (key) => {\n            keys.push(key);\n          });\n\n          keys.sort((a, b) => {\n            return parseInt(a, 10) - parseInt(b, 10);\n          });\n\n          for (let i = 0; i < keys.length; i++) {\n            let key = keys[i];\n            let width = parseInt(key, 10);\n            let mq = `(min-width: ${width}px)`;\n\n            if (i + 1 < keys.length) {\n              let maxWidth = parseInt(keys[i + 1], 10) - 1;\n\n              mq = `(min-width: ${width}px) and (max-width: ${maxWidth}px)`;\n            }\n\n            sources.push({\n              width: width,\n              url: source[key],\n              // mq: window.matchMedia(`(min-width: ${mq}px)`)\n              mediaquery: _mediaquery_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].bind(`background-${this.guid}-${mq}`, mq, {\n                enter: () => {\n                  this.#loadImage(source[key]);\n                }\n              })\n            });\n          }\n\n          this.sources = sources; // TODO do we need to track this way?\n        } else {\n          // Single image\n          this.#loadImage(newSource);\n        }\n      }\n\n      // Load Video\n\n      if (this.isVideo) {\n        this.#loadVideo(source);\n      }\n\n      // Load YouTube\n\n      if (this.isYouTube) {\n        this.#loadYouTube(source);\n      }\n    } else {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.el, 'background:loaded');\n    }\n  }\n\n  //\n\n  /**\n   * Loads an image background\n   * @private\n   * @param {string} source - Image URL\n   * @returns {void}\n   */\n  #loadImage(source) {\n    this.layerGuid++;\n\n    let media = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n\n    media.ariaHidden = true;\n    media.className = `fs-background-media fs-background-image`; // fs-background-layer-${this.layerGuid}`;\n    media.style.opacity = 0;\n    media.style.backgroundImage = `url(${source})`;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(media, 'data-background-layer', this.layerGuid);\n\n    this.container.append(media);\n\n    let image = new Image();\n\n    //\n\n    image.onload = () => {\n      this.#onLoad(media);\n    };\n\n    image.src = source;\n\n    this.source = source;\n  }\n\n  //\n\n  /**\n   * Loads a video background\n   * @private\n   * @param {Object} source - Video source object containing mp4, webm, ogg, and poster URLs\n   * @returns {void}\n   */\n  #loadVideo(source) {\n    if (source.poster) {\n      this.#loadImage(source.poster);\n    }\n\n    this.layerGuid++;\n\n    let media = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let video = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('video');\n\n    media.ariaHidden = true;\n    media.className = 'fs-background-media fs-background-video';\n    media.style.opacity = 0;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(media, 'data-background-layer', this.layerGuid);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(video, {\n      'playsinline': '',\n      'playsinline': 'true',\n      'preload': 'auto',\n      'role': 'presentation',\n      'tabindex': '-1',\n    });\n\n    if (this.loop) {\n      video.loop = true;\n    }\n    if (this.mute) {\n      video.muted = true;\n    }\n    if (this.autoPlay) {\n      video.autoplay = true;\n    }\n\n    if (source.webm) {\n      let src = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('source');\n      src.type = 'video/webm';\n      src.src = source.webm;\n\n      video.append(src);\n    }\n    if (source.mp4) {\n      let src = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('source');\n      src.type = 'video/mp4';\n      src.src = source.mp4;\n\n      video.append(src);\n    }\n    if (source.ogg) {\n      let src = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('source');\n      src.type = 'video/ogg';\n      src.src = source.ogg;\n\n      video.append(src);\n    }\n\n    //\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.once)(video, 'loadeddata', (e) => {\n      this.#onLoad(media);\n\n      if (this.autoPlay) {\n        this.play();\n      }\n    });\n\n    media.append(video);\n    this.container.append(media);\n\n    this.source = source;\n  }\n\n  //\n\n  /**\n   * Loads a YouTube video background\n   * @private\n   * @param {Object} source - Source object containing youtube URL and optional poster\n   * @returns {void}\n   */\n  #loadYouTube(source) {\n    // let parts = source.youtube.match(/(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/ ]{11})/i);\n    let parts = source.youtube.match(/(?:(?:youtube\\.com|youtube-nocookie\\.com)\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/ ]{11})/i);\n\n    this.youTubeId = parts[1];\n\n    let ytURL = 'youtube.com';\n\n    if (!source.poster) {\n      // source.poster = '//img.youtube.com/vi/' + this.youTubeId + '/0.jpg';\n      source.poster = `//img.${ytURL}/vi/${this.youTubeId}/maxresdefault.jpg`;\n    }\n\n    this.#loadImage(source.poster);\n\n    this.layerGuid++;\n\n    if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(`script[src*=\"${ytURL}/iframe_api\"]`).length) {\n      let script = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('script');\n      script.src = `//www.${ytURL}/iframe_api`;\n      document.head.append(script);\n    }\n\n    if (!YouTubeReady) {\n      YouTubeQueue.push({\n        el: this,\n        source: source\n      });\n    } else {\n      let guid = `fs-background-${this.guid}-${this.layerGuid}`;\n      let media = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n      let video = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n\n      video.id = guid;\n\n      media.ariaHidden = true;\n      media.className = 'fs-background-media fs-background-embed';\n      media.style.opacity = 0;\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(media, 'data-background-layer', this.layerGuid);\n\n      media.append(video);\n      this.container.append(media);\n\n      let options = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, {}, {\n        controls: 0,\n        rel: 0,\n        showinfo: 0,\n        wmode: 'transparent',\n        enablejsapi: 1,\n        version: 3,\n        playerapiid: guid,\n        loop: (this.loop) ? 1 : 0,\n        // autoplay: 1,\n        mute: 1,\n        origin: `${window.location.protocol}//${window.location.host}`\n      }, this.youtubeOptions, {\n        autoplay: 1 // Must be enabled for initial API callbacks to fire\n      });\n\n      this.player = new window.YT.Player(guid, {\n        host: `https://www.${ytURL.replace('.com', '-nocookie.com')}`,\n        videoId: this.youTubeId,\n        playerVars: options,\n        events: {\n          onReady: (e) => {\n            // console.log('onReady', e);\n\n            let iframe = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('iframe', this.container);\n\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(iframe, {\n              'role': 'presentation',\n              'tabindex': '-1',\n            });\n\n            this.playerReady = true;\n            // data.player.setPlaybackQuality('highres');\n\n            if (this.mute) {\n              this.player.mute();\n            }\n\n            if (this.autoPlay) {\n              this.player.playVideo();\n            } else {\n              this.player.pauseVideo();\n            }\n\n            // TODO trigger ready event?\n          },\n          onStateChange: (e) => {\n            // console.log('onStateChange', e);\n\n            // -1 = unstarted\n            //  0 = ended\n            //  1 = playing\n            //  2 = paused\n            //  3 = buffering\n            //  4 =\n            //  5 = cued\n\n            if (!this.playing && e.data === window.YT.PlayerState.PLAYING) {\n              this.playing = true;\n\n              this.#onLoad(media);\n            } else if (this.loop && this.playing && e.data === window.YT.PlayerState.ENDED) {\n              // fix looping option\n              this.player.playVideo();\n            }\n\n            // Fix for Safari's overly secure security settings\n            // this.el.find(Classes.embed)\n            //   .addClass(RawClasses.ready);\n          },\n          onPlaybackQualityChange: (e) => {\n            // console.log('onPlaybackQualityChange', e);\n          },\n          onPlaybackRateChange: (e) => {\n            // console.log('onPlaybackRateChange', e);\n          },\n          onError: (e) => {\n            // console.log('onError', e);\n          },\n          onApiChange: (e) => {\n            // console.log('onApiChange', e);\n          }\n        }\n      });\n    }\n  }\n\n  //\n\n  /**\n   * Plays current video\n   * @example\n   * el.Background.play();\n   */\n  play() {\n    if (this.isYouTube) {\n      if (this.playerReady) {\n        this.player.playVideo();\n      } else {\n        this.autoPlay = true;\n      }\n    } else if (this.isVideo) {\n      let video = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('video', this.container);\n\n      if (video.length) {\n        video[0].play();\n      }\n    }\n\n    // TODO trigger play event?\n\n    this.playing = true;\n  }\n\n  /**\n   * Pauses current video\n   * @example\n   * el.Background.pause();\n   */\n  pause() {\n    if (this.isYouTube) {\n      if (this.playerReady) {\n        this.player.pauseVideo();\n      } else {\n        this.autoPlay = false;\n      }\n    } else if (this.video) {\n      let video = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('video', this.container);\n\n      if (video.length) {\n        video[0].pause();\n      }\n    }\n\n    // TODO trigger pause event?\n\n    this.playing = false;\n  }\n\n  /**\n   * Mutes current video\n   * @example\n   * el.Background.mute();\n   */\n  mute() {\n    if (this.isYouTube && this.playerReady) {\n      this.player.mute();\n      // this.player.setVolume(0);\n    } else if (this.video) {\n      let video = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('video', this.container);\n\n      if (video.length) {\n        video[0].muted = true;\n      }\n    }\n\n    // TODO trigger mute event?\n\n    this.mute = true;\n  }\n\n  // Mute / Unmute is now blocked unless the user interacts with the video\n\n  /**\n   * Unmutes current video\n   * @example\n   * el.Background.unmute();\n   */\n  unmute() {\n    if (this.isYouTube && this.playerReady) {\n      this.player.unMute();\n      // this.player.setVolume(100);\n\n      if (this.playing) {\n        this.player.playVideo();\n      }\n    } else if (this.video) {\n      let video = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('video', this.container);\n\n      if (video.length) {\n        video[0].muted = false;\n      }\n    }\n\n    // TODO trigger unmute event?\n\n    this.mute = false;\n  }\n\n  // TODO unload method and event?\n\n  // TODO set background video volume and event?\n\n  //\n\n  /**\n   * Handles media load completion\n   * @private\n   * @param {Element} media - The loaded media element\n   * @returns {void}\n   * @fires background:loaded\n   */\n  #onLoad(media) {\n    let layer = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(media, 'data-background-layer');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.once)(media, 'transitionend', (e) => {\n      if (this.onLoadTimer) {\n        clearTimeout(this.onLoadTimer);\n        this.onLoadTimer = null;\n      }\n\n      this.onLoadTimer = setTimeout(() => {\n        let extra = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(`div:not([data-background-layer=\"${layer}\"]):not([data-background-layer=\"${this.layerGuid}\"])`, this.container);\n\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(extra, (node) => {\n          node.remove();\n        });\n      }, 500);\n    });\n\n    media.style.opacity = 1;\n\n    // TODO handle errors and trigger events?\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.el, 'background:loaded');\n  }\n\n};\n\n// YouTube Helper\n\n/**\n * @type {boolean}\n * @private\n */\nlet YouTubeReady = false;\n\n/**\n * @type {Array<{el: Background, source: Object}>}\n * @private\n */\nlet YouTubeQueue = [];\n\n/**\n * Processes queued YouTube backgrounds once API is ready\n * @private\n * @returns {void}\n */\nfunction onYouTubeReady() {\n  YouTubeReady = true;\n\n  (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(YouTubeQueue, (item) => {\n    item.el.load(item.source);\n  });\n\n  YouTubeQueue = [];\n}\n\nlet originalYouTubeCallback = ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isFn)(window.onYouTubeIframeAPIReady)) ? window.onYouTubeIframeAPIReady : null;\n\nwindow.onYouTubeIframeAPIReady = () => {\n  if (originalYouTubeCallback) {\n    originalYouTubeCallback.call();\n  }\n\n  onYouTubeReady();\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Background);\n\n//# sourceURL=webpack://Formstone/./src/js/background.js?");

/***/ }),

/***/ "./src/js/checkpoint.js":
/*!******************************!*\
  !*** ./src/js/checkpoint.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n/**\n * @fileoverview Checkpoint - Animate elements on scroll\n */\n\n\n\n// Class\n\n/**\n * CheckPoint class for animating elements on scroll\n * @class\n */\nclass CheckPoint {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  static #_guid = 1;\n\n  /**\n   * @typedef {Object} CheckPointOptions\n   * @property {string} [offset='0px'] - Element offset for activating animation (pixels or percentage)\n   * @property {boolean} [reverse=false] - Deactivate animation when scrolling back\n   */\n\n  /**\n   * @type {CheckPointOptions}\n   * @private\n   */\n  static #_defaults = {\n    // intersect: 'bottom',\n    offset: '0px',\n    reverse: false\n  };\n\n  /**\n   * Sets default options for future CheckPoint instances\n   * @param {CheckPointOptions} options - Object containing default options\n   * @example\n   * CheckPoint.defaults({\n   *   reverse: true\n   * });\n   */\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options);\n  }\n\n  /**\n   * Initializes CheckPoint plugin on target elements\n   * @param {string} selector - Selector string to target\n   * @param {CheckPointOptions} [options={}] - Object containing instance options\n   * @returns {NodeList} NodeList of target elements\n   * @example\n   * CheckPoint.construct('.js-checkpoint');\n   * CheckPoint.construct('.js-checkpoint', { reverse: true });\n   */\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(selector);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(targets, (el) => {\n      if (!el.CheckPoint) {\n        new CheckPoint(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  /**\n   * Creates a new CheckPoint instance\n   * @constructor\n   * @param {Element} el - The target element\n   * @param {CheckPointOptions} [options={}] - Configuration options\n   */\n  constructor(el, options) {\n    if (el.CheckPoint) {\n      console.warn('Checkpoint: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.checkpointOptions || '{}');\n    } catch (e) {\n      console.warn('Checkpoint: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-checkpoint-element-${this.guid}`;\n\n    this.enabled = false;\n    this.active = false;\n    this.hasActived = false;\n    this.parent = dataset.checkpointParent || null;\n    this.parentEl = this.parent ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.parent)[0] : null;\n    this.trigger = dataset.checkpointTrigger || dataset.checkpointContainer || null;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.el, this.guidClass);\n\n    this.target = this.trigger || `.${this.guidClass}`;\n    this.targetEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.target);\n\n    // this.intersect = dataset.checkpointIntersect || this.intersect;\n    this.offset = dataset.checkpointOffset || this.offset;\n\n    this.margin = `0px 0px -${this.offset} 0px`;\n    this.edge = parseInt(this.offset, 10);\n    this.percent = this.offset.includes('%') ? (this.edge / 100) : null;\n\n    this.observer = new IntersectionObserver((entries, observer) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(entries, (entry) => {\n        this.#observe(entry);\n      });\n    }, {\n      root: this.parentEl || document,\n      threshold: 0,\n      rootMargin: this.margin\n    });\n\n    this.enable();\n\n    el.CheckPoint = this;\n  }\n\n  /**\n   * Removes plugin and all related data\n   * @example\n   * el.CheckPoint.destroy();\n   */\n  destroy() {\n    this.disable();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, this.guidClass);\n\n    this.observer = null;\n\n    this.el.CheckPoint = null;\n\n    delete this.el.CheckPoint;\n  }\n\n  //\n\n  /**\n   * Internal IntersectionObserver callback\n   * @private\n   * @param {IntersectionObserverEntry} entry - Intersection observer entry\n   * @returns {void}\n   */\n  #observe(entry) {\n    let height = this.parentEl ? this.parentEl.innerHeight : window.innerHeight;\n    let edge = height - (this.percent ? (height * this.percent) : this.edge);\n\n    if (entry.isIntersecting || entry.boundingClientRect.top < edge) {\n      this.activate();\n    } else {\n      this.deactivate();\n    }\n  }\n\n  //\n\n  /**\n   * Enables the CheckPoint instance\n   * @example\n   * el.CheckPoint.enable();\n   */\n  enable() {\n    if (this.enabled) {\n      return;\n    }\n\n    this.enabled = true;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.el, 'fs-checkpoint');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.targetEl, (el) => {\n      this.observer.observe(el);\n    });\n  }\n\n  /**\n   * Disables the CheckPoint instance\n   * @example\n   * el.CheckPoint.disable();\n   */\n  disable() {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.deactivate();\n\n    this.enabled = false;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, 'fs-checkpoint', 'fs-checkpoint-active');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.targetEl, (el) => {\n      this.observer.unobserve(el);\n    });\n  }\n\n  //\n\n  /**\n   * Activates the checkpoint animation\n   * @fires checkpoint:activate\n   * @example\n   * el.CheckPoint.activate();\n   */\n  activate() {\n    if (!this.enabled || this.active) {\n      return;\n    }\n\n    this.active = true;\n    this.hasActived = true;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.el, 'fs-checkpoint-active');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.el, 'checkpoint:activate', {});\n  }\n\n  /**\n   * Deactivates the checkpoint animation\n   * @fires checkpoint:deactivate\n   * @example\n   * el.CheckPoint.deactivate();\n   */\n  deactivate() {\n    if (!this.enabled || !this.active || (!this.reverse && this.hasActived)) {\n      return;\n    }\n\n    this.active = false;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, 'fs-checkpoint-active');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.el, 'checkpoint:deactivate', {});\n  }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CheckPoint);\n\n//# sourceURL=webpack://Formstone/./src/js/checkpoint.js?");

/***/ }),

/***/ "./src/js/cookie.js":
/*!**************************!*\
  !*** ./src/js/cookie.js ***!
  \**************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n/**\n * @fileoverview Cookie - Simple cookie management utility\n */\n\n\n\n// Class\n\n/**\n * Cookie class for managing browser cookies\n * @class\n */\nclass Cookie {\n\n  /**\n   * @typedef {Object} CookieOptions\n   * @property {string} [domain=null] - Cookie domain\n   * @property {number} [expires=604800000] - Expiration time in milliseconds (default 7 days)\n   * @property {string} [path=null] - Cookie path\n   * @property {string} [samesite='Lax'] - SameSite attribute ('Strict', 'Lax', or 'None')\n   * @property {boolean} [secure=null] - Secure attribute\n   */\n\n  /**\n   * @type {CookieOptions}\n   * @private\n   */\n  static #_defaults = {\n    domain: null,\n    expires: 604800000, // 7 days\n    path: null,\n    samesite: 'Lax',\n    secure: null\n  };\n\n  /**\n   * Sets default options for all future cookie operations\n   * @param {CookieOptions} options - Object containing default options\n   * @example\n   * Cookie.defaults({\n   *   expires: 3600000, // 1 hour\n   *   secure: true\n   * });\n   */\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options);\n  }\n\n  //\n\n  /**\n   * Sets a cookie value\n   * @param {string} key - Cookie key/name\n   * @param {string} value - Cookie value\n   * @param {CookieOptions} [options={}] - Object containing cookie options\n   * @example\n   * // Set a basic cookie\n   * Cookie.set('username', 'john');\n   *\n   * // Set a cookie with custom expiration\n   * Cookie.set('token', 'abc123', {\n   *   expires: 3600000, // 1 hour\n   *   secure: true,\n   *   samesite: 'Strict'\n   * });\n   */\n  static set(key, value, options) {\n    let expiration = false;\n    let date = new Date();\n\n    options = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options || {});\n\n    // Check Expiration Date\n\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.type)(options.expires) === 'number') {\n      date.setTime(date.getTime() + options.expires);\n      expiration = date.toGMTString();\n    }\n\n    let domain = (options.domain) ? '; domain=' + options.domain : '';\n    let expires = (expiration) ? '; expires=' + expiration : '';\n    let maxAge = (expiration) ? '; max-age=' + (options.expires / 1000) : ''; // to seconds\n    let path = (options.path) ? '; path=' + options.path : '';\n    let samesite = (options.samesite) ? '; samesite=' + options.samesite : '';\n    let secure = (options.secure) ? '; secure' : '';\n\n    // Set Cookie\n\n    document.cookie = `${key}=${value}${expires}${maxAge}${domain}${path}${samesite}${secure}`;\n  }\n\n  /**\n   * Gets a cookie value by key\n   * @param {string} key - Cookie key/name\n   * @returns {string|null} Cookie value or null if not found\n   * @example\n   * let username = Cookie.get('username');\n   * if (username) {\n   *   console.log('Welcome back, ' + username);\n   * }\n   */\n  static get(key) {\n    let keyString = `${key}=`;\n    let cookies = document.cookie.split(';');\n\n    for (var i = 0; i < cookies.length; i++) {\n      let cookie = cookies[i].trim();\n\n      if (cookie.indexOf(keyString) === 0) {\n        return cookie.substring(keyString.length, cookie.length);\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Deletes a cookie by setting its expiration to the past\n   * @param {string} key - Cookie key/name\n   * @param {CookieOptions} [options={}] - Object containing cookie options (domain and path should match the original cookie)\n   * @example\n   * Cookie.delete('username');\n   *\n   * // Delete cookie with specific domain/path\n   * Cookie.delete('token', {\n   *   domain: '.example.com',\n   *   path: '/'\n   * });\n   */\n  static delete(key, options) {\n    this.set(key, '', (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)({}, options, {\n      expires: -604800000 // -7 days\n    }));\n  }\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Cookie);\n\n//# sourceURL=webpack://Formstone/./src/js/cookie.js?");

/***/ }),

/***/ "./src/js/index.js":
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Background\": function() { return /* reexport safe */ _background_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; },\n/* harmony export */   \"CheckPoint\": function() { return /* reexport safe */ _checkpoint_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; },\n/* harmony export */   \"Cookie\": function() { return /* reexport safe */ _cookie_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; },\n/* harmony export */   \"Lightbox\": function() { return /* reexport safe */ _lightbox_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; },\n/* harmony export */   \"MediaQuery\": function() { return /* reexport safe */ _mediaquery_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; },\n/* harmony export */   \"Modal\": function() { return /* reexport safe */ _modal_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; },\n/* harmony export */   \"Navigation\": function() { return /* reexport safe */ _navigation_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; },\n/* harmony export */   \"Swap\": function() { return /* reexport safe */ _swap_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; },\n/* harmony export */   \"Tabs\": function() { return /* reexport safe */ _tabs_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; },\n/* harmony export */   \"Utils\": function() { return /* reexport module object */ _utils_js__WEBPACK_IMPORTED_MODULE_9__; }\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n/* harmony import */ var _background_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./background.js */ \"./src/js/background.js\");\n/* harmony import */ var _checkpoint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./checkpoint.js */ \"./src/js/checkpoint.js\");\n/* harmony import */ var _cookie_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cookie.js */ \"./src/js/cookie.js\");\n/* harmony import */ var _lightbox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lightbox.js */ \"./src/js/lightbox.js\");\n/* harmony import */ var _mediaquery_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mediaquery.js */ \"./src/js/mediaquery.js\");\n/* harmony import */ var _modal_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modal.js */ \"./src/js/modal.js\");\n/* harmony import */ var _navigation_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./navigation.js */ \"./src/js/navigation.js\");\n/* harmony import */ var _swap_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./swap.js */ \"./src/js/swap.js\");\n/* harmony import */ var _tabs_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./tabs.js */ \"./src/js/tabs.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n// import Lightbox from './adaptor/lightbox.js';\n\n\n\n//# sourceURL=webpack://Formstone/./src/js/index.js?");

/***/ }),

/***/ "./src/js/lightbox.js":
/*!****************************!*\
  !*** ./src/js/lightbox.js ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n/**\n * @fileoverview Lightbox - Accessible lightbox for images, videos, and elements\n */\n\n// import MediaQuery from './mediaquery.js';\n\n\n// Accessibility based on https://plousia.com/blog/how-create-accessible-mobile-menu\n// Updated with work by @nhall\n\n// Formatters\n\nfunction formatYouTube(parts) {\n  return '//www.youtube.com/embed/' + parts[2];\n}\n\nfunction formatVimeo(parts) {\n  return '//player.vimeo.com/video/' + parts[3];\n}\n\n//\n\nlet LightboxInstance;\n\n/**\n * @typedef {Object} LightboxOptions\n * @property {string} [direction=document.dir] - Content direction ('ltr' or 'rtl')\n * @property {string} [customClass=''] - Custom CSS class to add to lightbox dialog\n * @property {string} [label='Gallery'] - Accessibility label for the lightbox\n * @property {RegExp} [fileTypes=/\\.(jpg|sjpg|jpeg|png|gif|webp)/i] - Regular expression to match image file extensions\n * @property {number} [threshold=50] - Swipe threshold in pixels for touch navigation\n * @property {boolean} [ordinal=true] - Show gallery position indicator (e.g., \"1 of 5\")\n * @property {Object} [templates] - HTML templates for lightbox components\n * @property {Object} [videoProviders] - Video provider patterns and URL formatters for YouTube and Vimeo\n */\n\n/**\n * Lightbox class for displaying images, videos, and inline elements\n * @class\n */\nclass Lightbox {\n\n  static #_guid = 1;\n\n  static #_defaults = {\n    direction: document.dir,\n    customClass: '',\n    label: 'Gallery',\n    fileTypes: /\\.(jpg|sjpg|jpeg|png|gif|webp)/i,\n    // iframeWidth: '900px',\n    // loop: false,\n    threshold: 50,\n    ordinal: true,\n    templates: {\n      container: `\n<dialog class=\"fs-lightbox\">\n  <div class=\"fs-lightbox-loading\" role=\"status\">[loading]</div>\n  <button type=\"button\" class=\"fs-lightbox-close\" autofocus>[close]</button>\n  <div class=\"fs-lightbox-container\"></div>\n  <button type=\"button\" class=\"fs-lightbox-control fs-lightbox-control_previous\">[previous]</button>\n  <button type=\"button\" class=\"fs-lightbox-control fs-lightbox-control_next\">[next]</button>\n  <div class=\"fs-lightbox-status fs-lightbox-sr\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n</dialog>`,\n      //       zoom: `\n      // <button type=\"button\" class=\"fs-lightbox-zoom fs-lightbox-zoom_in\" aria-label=\"Zoom In\">[zoomIn]</button>\n      // <button type=\"button\" class=\"fs-lightbox-zoom fs-lightbox-zoom_out\" aria-label=\"Zoom Out\">[zoomOut]</button>`,\n      close: `<span class=\"fs-lightbox-sr\">Close</span><svg viewBox=\"-6 -6 24 24\" fill=\"currentColor\"><path d=\"M7.314 5.9l3.535-3.536A1 1 0 1 0 9.435.95L5.899 4.485 2.364.95A1 1 0 1 0 .95 2.364l3.535 3.535L.95 9.435a1 1 0 1 0 1.414 1.414l3.535-3.535 3.536 3.535a1 1 0 1 0 1.414-1.414L7.314 5.899z\"></path></svg>`,\n      loading: '<span class=\"fs-lightbox-sr\">Loading</span>',\n      previous: `<span class=\"fs-lightbox-sr\">Previous</span><svg viewBox=\"-5 -5 24 24\" fill=\"currentColor\"><path d=\"M3.414 7.657l3.95 3.95A1 1 0 0 1 5.95 13.02L.293 7.364a.997.997 0 0 1 0-1.414L5.95.293a1 1 0 1 1 1.414 1.414l-3.95 3.95H13a1 1 0 0 1 0 2H3.414z\"></path></svg>`,\n      next: `<span class=\"fs-lightbox-sr\">Next</span><svg viewBox=\"-5 -5 24 24\" fill=\"currentColor\"><path d=\"M10.586 5.657l-3.95-3.95A1 1 0 0 1 8.05.293l5.657 5.657a.997.997 0 0 1 0 1.414L8.05 13.021a1 1 0 1 1-1.414-1.414l3.95-3.95H1a1 1 0 1 1 0-2h9.586z\"></path></svg>`,\n      ordinal: `<span class=\"current\">[current]</span> of <span class=\"total\">[total]</span>`\n      // zoomIn: `<span class=\"fs-lightbox-sr\">Zoom In</span><svg viewBox=\"-2.5 -2.5 24 24\" fill=\"currentColor\"><path d=\"M8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm6.32-1.094l3.58 3.58a1 1 0 1 1-1.415 1.413l-3.58-3.58a8 8 0 1 1 1.414-1.414zM9 7h2a1 1 0 0 1 0 2H9v2a1 1 0 0 1-2 0V9H5a1 1 0 1 1 0-2h2V5a1 1 0 1 1 2 0v2z\"></path></svg>`,\n      // zoomOut: `<span class=\"fs-lightbox-sr\">Zoom Out</span><svg viewBox=\"-2.5 -2.5 24 24\" fill=\"currentColor\"><path d=\"M8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm6.32-1.094l3.58 3.58a1 1 0 1 1-1.415 1.413l-3.58-3.58a8 8 0 1 1 1.414-1.414zM5 7h6a1 1 0 0 1 0 2H5a1 1 0 1 1 0-2z\"></path></svg>`\n    },\n    videoProviders: {\n      youtube: {\n        pattern: /^(?:(?:https|http):\\/\\/)?(?:www\\.)?(?:youtube\\.com|youtu\\.be|youtube-nocookie\\.com).*?(?:\\/|v\\/|u\\/|embed\\/|shorts\\/|watch\\?v=|(?<username>user\\/))(?<id>[\\w\\-]{11})(?:\\?|&|$)/,\n        format: formatYouTube\n      },\n      vimeo: {\n        pattern: /(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/,\n        format: formatVimeo\n      }\n    }\n  };\n\n  /**\n   * Sets default options for future Lightbox instances\n   * @param {LightboxOptions} options - Object containing default options\n   * @example\n   * Lightbox.defaults({\n   *   customClass: 'my-lightbox',\n   *   threshold: 100\n   * });\n   */\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options);\n  }\n\n  /**\n   * @static\n   * @param {string} selector - CSS selector string to target elements (typically links)\n   * @param {LightboxOptions} [options] - Instance-specific options\n   * @returns {Array<Element>} Array of initialized elements\n   * @description Initializes Lightbox on all elements matching the selector. Each element\n   * should be a link (anchor tag) pointing to the media to display. Skips elements that\n   * already have Lightbox initialized.\n   * @example\n   * // Initialize on all links with class 'lightbox'\n   * Lightbox.construct('.lightbox');\n   *\n   * // Initialize with options\n   * Lightbox.construct('.gallery', {\n   *   customClass: 'photo-gallery',\n   *   threshold: 100\n   * });\n   */\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(selector);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(targets, (el) => {\n      if (!el.Lightbox) {\n        new Lightbox(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  /**\n   * Creates a new Lightbox instance\n   * @constructor\n   * @param {Element} el - The target element\n   * @param {LightboxOptions} [options={}] - Configuration options\n   */\n  constructor(el, options) {\n    if (el.Lightbox) {\n      console.warn('Lightbox: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.lightboxOptions || '{}');\n    } catch (e) {\n      console.warn('Lightbox: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-lightbox-element-${this.guid}`;\n    this.gallery = dataset.lightboxGallery || null;\n    this.isOpen = false;\n    this.isTouching = false;\n    this.isRTL = this.direction == 'rtl';\n\n    // Enhance trigger\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.el, this.guidClass);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, {\n      role: 'button',\n      'aria-haspopup': 'dialog'\n    });\n\n    if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(this.el, 'aria-label') && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(this.el, 'aria-labelledby')) {\n      let img = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('img', this.el)[0];\n      let label = dataset.lightboxCaption || (img ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(img, 'alt') : null) || 'Open Lightbox';\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, 'aria-label', label);\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.el, 'click', this.#onClick);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.el, 'keydown', (e) => {\n      if (e.key === ' ') {\n        e.preventDefault();\n\n        this.open();\n      }\n    });\n\n    el.Lightbox = this;\n  }\n\n  //\n\n  /**\n   * @public\n   * @description Destroys the Lightbox instance, removing all event listeners and data.\n   * Automatically closes the lightbox if open. Cleans up the element and removes the\n   * Lightbox property.\n   * @example\n   * el.Lightbox.destroy();\n   */\n  destroy() {\n    this.close();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, this.guidClass);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(this.el, 'click', this.#onClick);\n\n    this.el.Lightbox = null;\n\n    delete this.el.Lightbox;\n  }\n\n  //\n\n  /**\n   * Opens lightbox instance at specified index\n   * @param {number} [index] - Optional index to open (defaults to trigger's position)\n   * @example\n   * el.Lightbox.open();\n   * el.Lightbox.open(2);\n   */\n  open(index) {\n    let promise = LightboxInstance ? LightboxInstance.close() : Promise.resolve();\n\n    promise.then(() => {\n      if (this.isOpen) {\n        return;\n      }\n\n      this.index = index;\n\n      this.#buildItems();\n\n      this.maxIndex = this.items.length - 1;\n\n      this.listeners = {\n        'close': this.#onClose(),\n        'next': this.#onNext(),\n        'previous': this.#onPrevious(),\n        'container': this.#onContainerClick(),\n        'keydown': this.#onKeyDown(),\n        'pointerdown': this.#onPointerDown(),\n        'pointermove': this.#onPointerMove(),\n        'pointerup': this.#onPointerUp(),\n        // 'zoomin': this.#onZoomIn(),\n        // 'zoomout': this.#onZoomOut(),\n      };\n\n      this.#draw();\n\n      if (typeof this.lightboxEl.showModal === 'function') {\n        this.lightboxEl.showModal();\n      }\n\n      this.#setPositions();\n\n      setTimeout(() => {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.lightboxEl, 'fs-lightbox-open');\n\n        this.isOpen = true;\n\n        LightboxInstance = this;\n\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(window, 'lightbox:open', {\n          el: this.el\n        });\n      }, 10);\n    });\n  }\n\n  /**\n   * Closes active lightbox instance\n   * @returns {Promise} Promise that resolves when close transition completes\n   * @example\n   * el.Lightbox.close();\n   */\n  close() {\n    if (!this.isOpen) {\n      return;\n    }\n\n    // Fixes 'stuck' instance\n    if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(this.lightboxEl, 'fs-lightbox-open')) {\n      this.#cleanUp();\n\n      return Promise.resolve();\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.lightboxEl, 'fs-lightbox-open');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(window, 'keydown', this.listeners.keydown);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(window, 'lightbox:previous', this.listeners.previous);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(window, 'lightbox:next', this.listeners.next);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(window, 'lightbox:close', this.listeners.close);\n\n    let promise = new Promise((resolve, reject) => {\n      let cb = (e) => {\n        if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(e.target, 'fs-lightbox')) {\n          return;\n        }\n\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(this.lightboxEl, 'transitionend', cb);\n        // off(this.lightboxEl, 'transitioncancel', cb);\n\n        this.#cleanUp();\n\n        resolve(this.el);\n      };\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.lightboxEl, 'transitionend', cb);\n      // on(this.lightboxEl, 'transitioncancel', cb);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Cleans up lightbox state and restores moved content\n   * @private\n   * @returns {void}\n   */\n  #cleanUp() {\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.items, (item, index) => {\n      if (item.isElement) {\n        item.targetEl.append(...item.frameEl.childNodes);\n      }\n    });\n\n    if (typeof this.lightboxEl.close === 'function') {\n      this.lightboxEl.close();\n    }\n\n    this.lightboxEl.remove();\n\n    this.isOpen = false;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(window, 'lightbox:close', {\n      el: this.el\n    });\n\n    LightboxInstance = null;\n  }\n\n  //\n\n  /**\n   * Advances to next gallery item\n   * @example\n   * el.Lightbox.next();\n   */\n  next() {\n    this.index++;\n    this.#checkIndex();\n\n    this.#setPositions();\n  }\n\n  /**\n   * Goes back to previous gallery item\n   * @example\n   * el.Lightbox.previous();\n   */\n  previous() {\n    this.index--;\n    this.#checkIndex();\n\n    this.#setPositions();\n  }\n\n  /**\n   * Jumps to specific gallery index\n   * @param {number} index - Target index\n   * @example\n   * el.Lightbox.jump(3);\n   */\n  jump(index) {\n    this.index = index;\n    this.#checkIndex();\n\n    this.#setPositions();\n  }\n\n  //\n\n  /**\n   * Builds item metadata from matching gallery elements\n   * @private\n   * @returns {void}\n   */\n  #buildItems() {\n    this.selector = this.gallery ? `[data-lightbox-gallery=\"${this.gallery}\"]` : `.${this.guidClass}`;\n\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.selector);\n\n    this.items = [];\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(targets, (el, i) => {\n      if (el.tagName === 'A') {\n        let url = window.location.href.replace(window.location.hash, '');\n        let hash = el.hash;\n        let source = el.href.replace(hash, '');\n        let type = el.dataset.lightboxType || '';\n        let isImage = (type === 'image') || this.#checkImage(source);\n        let isVideo = (type === 'video') || !!this.#checkVideo(source);\n        let isElement = (type === 'element') || (!isImage && !isVideo && (source.indexOf(url) > -1 && hash.substr(0, 1) === '#'));\n        let isIframe = (type === 'url') || (!isImage && !isVideo && !isElement && source.substr(0, 4) === 'http');\n\n        if (!this.index && el == this.el) {\n          this.index = i;\n        }\n\n        this.items.push({\n          index: i,\n          source: el.href,\n          hash: hash,\n          // type: type,\n          isLoaded: false,\n          isImage: isImage,\n          isVideo: isVideo,\n          isIframe: isIframe,\n          isElement: isElement,\n          caption: el.dataset.lightboxCaption || (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(el, 'title'),\n          // zoomed: false,\n        });\n      }\n    });\n  }\n\n  //\n\n  /**\n   * Renders lightbox UI and binds event listeners\n   * @private\n   * @returns {void}\n   */\n  #draw() {\n    let html = this.templates.container\n      .replace('[close]', this.templates.close)\n      .replace('[loading]', this.templates.loading)\n      .replace('[previous]', this.templates.previous)\n      .replace('[next]', this.templates.next);\n\n    document.body.insertAdjacentHTML('beforeend', html);\n\n    this.lightboxEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox')[0];\n    this.closeEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox-close', this.lightboxEl)[0];\n    this.loadingEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox-loading', this.lightboxEl)[0];\n    this.containerEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox-container', this.lightboxEl)[0];\n    this.statusEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox-status', this.lightboxEl)[0];\n    this.controlPreviousEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox-control_previous', this.lightboxEl)[0];\n    this.controlNextEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-lightbox-control_next', this.lightboxEl)[0];\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.lightboxEl, this.customClass);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.lightboxEl, 'aria-label', this.label);\n\n    if (this.isRTL) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.lightboxEl, `fs-lightbox-rtl`);\n    }\n\n    if (this.items.length > 1) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.lightboxEl, 'fs-lightbox-gallery');\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.items, (item, index) => {\n      if (item.isImage) {\n        this.#drawImage(item, index);\n      }\n      if (item.isVideo) {\n        this.#drawVideo(item, index);\n      }\n      if (item.isIframe) {\n        this.#drawIframe(item, index);\n      }\n      if (item.isElement) {\n        this.#drawElement(item, index);\n      }\n\n      if (this.items.length > 1) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(item.mediaEl, 'pointerdown', this.listeners.pointerdown);\n      }\n    });\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.once)(this.closeEl, 'click', this.listeners.close);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.controlPreviousEl, 'click', this.listeners.previous);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.controlNextEl, 'click', this.listeners.next);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.containerEl, 'click', this.listeners.container);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.lightboxEl, 'cancel', (e) => {\n      this.close();\n    });\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(window, 'keydown', this.listeners.keydown);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(window, 'lightbox:previous', this.listeners.previous);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(window, 'lightbox:next', this.listeners.next);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(window, 'lightbox:close', this.listeners.close);\n  }\n\n  //\n\n  /**\n   * Renders image item markup\n   * @private\n   * @param {Object} item - Item data object\n   * @param {number} index - Item index\n   * @returns {void}\n   */\n  #drawImage(item, index) {\n    let itemEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let wrapEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let mediaEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let imgEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('img');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(itemEl, 'fs-lightbox-item', `fs-lightbox-item_${index}`);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(wrapEl, 'fs-lightbox-wrap');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(mediaEl, 'fs-lightbox-media', 'fs-lightbox-media_image');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(imgEl, 'fs-lightbox-image');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(imgEl, {\n      'data-src': item.source,\n      'draggable': 'false',\n      'alt': item.caption || '',\n    });\n\n    mediaEl.append(imgEl);\n    wrapEl.append(mediaEl);\n    itemEl.append(wrapEl);\n\n    this.#checkDetails(item, itemEl);\n\n    this.containerEl.append(itemEl);\n\n    item.el = itemEl;\n    item.mediaEl = mediaEl;\n\n    // // zoom\n\n    // let zoom = this.templates.zoom\n    //   .replace('[zoomIn]', this.templates.zoomIn)\n    //   .replace('[zoomOut]', this.templates.zoomOut);\n\n    // itemEl.insertAdjacentHTML('beforeend', zoom);\n\n    // let zoomInEl = select('.fs-lightbox-zoom_in', itemEl)[0];\n    // let zoomOutEl = select('.fs-lightbox-zoom_out', itemEl)[0];\n\n    // console.log(zoomInEl);\n\n    // on(zoomInEl, 'click', this.listeners.zoomin);\n    // on(zoomOutEl, 'click', this.listeners.zoomout);\n  }\n\n  /**\n   * Renders video item markup\n   * @private\n   * @param {Object} item - Item data object\n   * @param {number} index - Item index\n   * @returns {void}\n   */\n  #drawVideo(item, index) {\n    let url = this.#checkVideo(item.source);\n    let qs = item.source.split('?');\n    let parts = [\n      '&origin=' + encodeURIComponent(window.location.protocol + '//' + window.location.hostname),\n      '&enablejsapi=1'\n    ];\n\n    if (qs.length >= 2) {\n      parts.push(qs.slice(1)[0].trim());\n    }\n\n    let source = `${url}?${parts.join('&')}`;\n\n    let itemEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let wrapEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let mediaEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let frameEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let iframeEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('iframe');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(itemEl, 'fs-lightbox-item', `fs-lightbox-item_${index}`);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(wrapEl, 'fs-lightbox-wrap');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(mediaEl, 'fs-lightbox-media', 'fs-lightbox-media_video');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(frameEl, 'fs-lightbox-video');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(iframeEl, {\n      'frameborder': '0',\n      'seamless': 'seamless',\n      'allowfullscreen': '',\n      'allow': 'autoplay; encrypted-media',\n      'referrerpolicy': 'strict-origin-when-cross-origin',\n      'data-src': source,\n      'title': item.caption || 'Lightbox Video',\n    });\n\n    frameEl.append(iframeEl);\n    mediaEl.append(frameEl);\n    wrapEl.append(mediaEl);\n    itemEl.append(wrapEl);\n\n    this.#checkDetails(item, itemEl);\n\n    this.containerEl.append(itemEl);\n\n    item.el = itemEl;\n    item.mediaEl = mediaEl;\n  }\n\n  /**\n   * Renders iframe item markup\n   * @private\n   * @param {Object} item - Item data object\n   * @param {number} index - Item index\n   * @returns {void}\n   */\n  #drawIframe(item, index) {\n    let itemEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let wrapEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let mediaEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let frameEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let iframeEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('iframe');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(itemEl, 'fs-lightbox-item', `fs-lightbox-item_${index}`);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(wrapEl, 'fs-lightbox-wrap');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(mediaEl, 'fs-lightbox-media', 'fs-lightbox-media_iframe');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(frameEl, 'fs-lightbox-iframe');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(iframeEl, {\n      'frameborder': '0',\n      'seamless': 'seamless',\n      'data-src': item.source,\n      'title': item.caption || 'Lightbox iFrame',\n    });\n\n    frameEl.append(iframeEl);\n    mediaEl.append(frameEl);\n    wrapEl.append(mediaEl);\n    itemEl.append(wrapEl);\n\n    this.#checkDetails(item, itemEl);\n\n    this.containerEl.append(itemEl);\n\n    item.el = itemEl;\n    item.mediaEl = mediaEl;\n    item.frameEl = frameEl;\n  }\n\n  /**\n   * Renders inline element item markup\n   * @private\n   * @param {Object} item - Item data object\n   * @param {number} index - Item index\n   * @returns {void}\n   */\n  #drawElement(item, index) {\n    let itemEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let wrapEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let mediaEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n    let frameEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('div');\n\n    item.targetEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(item.hash)[0];\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(itemEl, 'fs-lightbox-item', `fs-lightbox-item_${index}`, 'fs-lightbox-loaded');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(wrapEl, 'fs-lightbox-wrap');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(mediaEl, 'fs-lightbox-media', 'fs-lightbox-media_element');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(frameEl, 'fs-lightbox-element');\n\n    frameEl.append(...item.targetEl.childNodes);\n    mediaEl.append(frameEl);\n    wrapEl.append(mediaEl);\n    itemEl.append(wrapEl);\n\n    this.#checkDetails(item, itemEl);\n\n    this.containerEl.append(itemEl);\n\n    item.isLoaded = true;\n\n    item.el = itemEl;\n    item.mediaEl = mediaEl;\n    item.frameEl = frameEl;\n\n    // on(select('.fs-lightbox-previous', item.el), 'click', () => {\n    //   console.log(this);\n    // });\n    // on(select('.fs-lightbox-next', item.el), 'click', this.listeners.next);\n  }\n\n  //\n\n  /**\n   * Updates item classes and media load states for current index\n   * @private\n   * @returns {void}\n   */\n  #setPositions() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.items, (item, index) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(item.el, 'fs-lightbox-active', 'fs-lightbox-item_previous', 'fs-lightbox-item_next');\n\n      if (index === this.index) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(item.el, 'fs-lightbox-active');\n\n        item.el.inert = false;\n\n        if (!item.isLoaded) {\n          this.#showLoading();\n\n          this.#loadItem(item, index);\n        } else {\n          this.#hideLoading();\n        }\n\n        this.#updateStatus();\n      } else {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.once)(item.el, 'transitionend', (e) => {\n          this.#unloadItem(item, index);\n        });\n\n        item.el.inert = true;\n      }\n\n      if (this.loop && this.index == this.maxIndex && index == 0) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(item.el, 'fs-lightbox-item_next');\n      } else if (this.loop && this.index == 0 && index == this.maxIndex) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(item.el, 'fs-lightbox-item_previous');\n      } else if (index < this.index) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(item.el, 'fs-lightbox-item_previous');\n      } else if (index > this.index) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(item.el, 'fs-lightbox-item_next');\n      }\n    });\n\n    if (!this.loop) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.controlPreviousEl, 'disabled', (this.index === 0));\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.controlNextEl, 'disabled', (this.index === this.maxIndex));\n    }\n  }\n\n  //\n\n  /**\n   * Loads media sources for an item when active\n   * @private\n   * @param {Object} item - Item data object\n   * @param {number} index - Item index\n   * @returns {void}\n   */\n  #loadItem(item, index) {\n    if (index !== this.index) {\n      return;\n    }\n\n    let media = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('[data-src]', item.el);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(media, (m) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.once)(m, 'load', (e) => {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(item.el, 'fs-lightbox-loaded');\n\n        item.isLoaded = true;\n\n        this.#hideLoading();\n      });\n\n      m.src = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(m, 'data-src');\n    });\n  }\n\n  /**\n   * Unloads media sources for non-active items\n   * @private\n   * @param {Object} item - Item data object\n   * @param {number} index - Item index\n   * @returns {void}\n   */\n  #unloadItem(item, index) {\n    if (index == this.index) {\n      return;\n    }\n\n    // if (item.isImage) {\n    //   this.#resetZoom(item);\n    // }\n\n    if ((item.isVideo || item.isIframe) && item.isLoaded) {\n      let media = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('[data-src]', item.el);\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(media, (m) => {\n        m.src = '';\n      });\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(item.el, 'fs-lightbox-loaded');\n\n      item.isLoaded = false;\n    }\n  }\n\n  //\n\n  /**\n   * Hides loading indicator\n   * @private\n   * @returns {void}\n   */\n  #hideLoading() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.loadingEl, 'fs-lightbox-visible');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.loadingEl, 'aria-hidden', 'true');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.lightboxEl, 'aria-busy', 'false');\n  }\n\n  /**\n   * Shows loading indicator\n   * @private\n   * @returns {void}\n   */\n  #showLoading() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.loadingEl, 'fs-lightbox-visible');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(this.loadingEl, 'aria-hidden');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.lightboxEl, 'aria-busy', 'true');\n  }\n\n  //\n\n  /**\n   * Normalizes index to valid bounds\n   * @private\n   * @returns {void}\n   */\n  #checkIndex() {\n    if (this.index < 0) {\n      this.index = this.loop ? this.maxIndex : 0;\n    }\n    if (this.index >= this.items.length) {\n      this.index = this.loop ? 0 : this.maxIndex;\n    }\n  }\n\n  /**\n   * Checks whether source is an image\n   * @private\n   * @param {string} source - Source URL\n   * @returns {boolean} True when source is an image\n   */\n  #checkImage(source) {\n    return (source.match(this.fileTypes) !== null || source.substr(0, 10) === 'data:image');\n  }\n\n  /**\n   * Checks whether source matches a supported video provider\n   * @private\n   * @param {string} source - Source URL\n   * @returns {string|boolean} Formatted provider URL or false\n   */\n  #checkVideo(source) {\n    for (let i in this.videoProviders) {\n      let provider = this.videoProviders[i];\n      let parts = source.match(provider.pattern);\n\n      if (parts !== null) {\n        return provider.format.call(this, parts);\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Renders ordinal and caption details for an item\n   * @private\n   * @param {Object} item - Item data object\n   * @param {Element} el - Item container element\n   * @returns {void}\n   */\n  #checkDetails(item, el) {\n    let details = '';\n\n    if (this.items.length > 1 && this.ordinal) {\n      let ordinal = this.templates.ordinal\n        .replace('[current]', item.index + 1)\n        .replace('[total]', this.items.length);\n\n      details += `<div class=\"fs-lightbox-ordinal\">${ordinal}</div>`;\n    }\n\n    if (item.caption) {\n      details += `<div class=\"fs-lightbox-caption\">${item.caption}</div>`;\n    }\n\n    if (details !== '') {\n      el.insertAdjacentHTML('beforeend', `<div class=\"fs-lightbox-details\">${details}</div>`);\n    }\n  }\n\n  /**\n   * Updates status text for the active item\n   * @private\n   * @returns {void}\n   */\n  #updateStatus() {\n    if (this.statusEl) {\n      this.statusEl.textContent = `${this.label}: ${this.index + 1} of ${this.items.length}`;\n    }\n  }\n\n  //\n\n  /**\n   * Handles click on lightbox trigger element\n   * @private\n   * @param {MouseEvent} e - Click event\n   * @returns {void}\n   */\n  #onClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.Lightbox.open();\n  }\n\n  /**\n   * Returns container click handler for outside-click close behavior\n   * @private\n   * @returns {(e: MouseEvent) => void} Event handler function\n   */\n  #onContainerClick() {\n    return (e) => {\n      let item = this.items[this.index].mediaEl;\n\n      if (e.target !== item && !item.contains(e.target)) {\n        this.close();\n      } else {\n        this.#checkClick(e);\n      }\n    };\n  }\n\n  /**\n   * Checks click targets for lightbox action triggers\n   * @private\n   * @param {MouseEvent} e - Click event\n   * @returns {void}\n   */\n  #checkClick(e) {\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(e.target, 'fs-lightbox-trigger-previous')) {\n      this.previous();\n    }\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(e.target, 'fs-lightbox-trigger-next')) {\n      this.next();\n    }\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(e.target, 'fs-lightbox-trigger-close')) {\n      this.close();\n    }\n  }\n\n  /**\n   * Returns close handler for lightbox close events\n   * @private\n   * @returns {(e: Event) => void} Event handler function\n   */\n  #onClose() {\n    return (e) => {\n      this.close();\n    };\n  }\n\n  /**\n   * Returns previous handler for lightbox navigation events\n   * @private\n   * @returns {(e: Event) => void} Event handler function\n   */\n  #onPrevious() {\n    return (e) => {\n      this.previous();\n    };\n  }\n\n  /**\n   * Returns next handler for lightbox navigation events\n   * @private\n   * @returns {(e: Event) => void} Event handler function\n   */\n  #onNext() {\n    return (e) => {\n      this.next();\n    };\n  }\n\n  /**\n   * Returns keydown handler for keyboard navigation\n   * @private\n   * @returns {(e: KeyboardEvent) => void} Event handler function\n   */\n  #onKeyDown() {\n    return (e) => {\n      if (e.key === 'ArrowLeft') {\n        if (this.isRTL) {\n          this.next();\n        } else {\n          this.previous();\n        }\n      }\n      if (e.key === 'ArrowRight') {\n        if (this.isRTL) {\n          this.previous();\n        } else {\n          this.next();\n        }\n      }\n    };\n  }\n\n  //\n\n  /**\n   * Returns pointerdown handler for swipe navigation\n   * @private\n   * @returns {(e: PointerEvent) => void} Event handler function\n   */\n  #onPointerDown() {\n    return (e) => {\n      if (\n        !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(e.target, 'fs-lightbox-trigger-previous') &&\n        !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(e.target, 'fs-lightbox-trigger-next') &&\n        !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(e.target, 'fs-lightbox-trigger-close') &&\n        e.target.tagName !== 'A' // don't act on links\n      ) {\n        this.isTouching = true;\n        this.pointerStartX = e.clientX;\n        this.pointerStartY = e.clientY;\n\n        this.containerEl.setPointerCapture(e.pointerId);\n\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.containerEl, 'fs-lightbox-touching');\n\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.containerEl, 'pointermove', this.listeners.pointermove);\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.containerEl, 'pointerup', this.listeners.pointerup);\n      }\n    }\n  }\n\n  /**\n   * Returns pointermove handler for swipe drag updates\n   * @private\n   * @returns {(e: PointerEvent) => void} Event handler function\n   */\n  #onPointerMove() {\n    return (e) => {\n      let item = this.items[this.index];\n\n      // if (item.zoomed) {\n      //   // handle pan\n      //   let diffX = -(this.pointerStartX - e.clientX);\n      //   let diffY = -(this.pointerStartY - e.clientY);\n\n      // } else {\n      let diff = -(this.pointerStartX - e.clientX);\n\n      item.el.style.transform = `translate3d(${diff}px, 0, 0)`;\n      // }\n    }\n  }\n\n  /**\n   * Returns pointerup handler for completing swipe gestures\n   * @private\n   * @returns {(e: PointerEvent) => void} Event handler function\n   */\n  #onPointerUp() {\n    return (e) => {\n      let item = this.items[this.index];\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.containerEl, 'fs-lightbox-touching');\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(this.containerEl, 'pointermove', this.listeners.pointermove);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(this.containerEl, 'pointerup', this.listeners.pointerup);\n\n      // if (item.zoomed) {\n      //   // handle pan\n      // } else {\n      let diff = this.pointerStartX - e.clientX;\n\n      item.el.style.transform = null;\n\n      if (Math.abs(diff) > this.threshold) {\n        if (diff < 0) {\n          if (this.isRTL) {\n            this.next();\n          } else {\n            this.previous();\n          }\n        }\n        if (diff > 0) {\n          if (this.isRTL) {\n            this.previous();\n          } else {\n            this.next();\n          }\n        }\n      }\n      // }\n\n      this.isTouching = false;\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.once)(this.containerEl, 'click', (e) => {\n        e.stopPropagation(); // prevent closing when swiping\n      }, true);\n    }\n  }\n\n  // //\n\n  // #onZoomIn() {\n  //   return (e) => {\n  //     e.stopPropagation();\n\n  //     console.log('Zoom in');\n\n  //     let item = this.items[this.index];\n\n  //     item.zoomed = true;\n\n  //     addClass(item.el, 'fs-lightbox-zoomed');\n\n  //     console.log(item, item.el);\n  //   }\n  // }\n\n  // #onZoomOut() {\n  //   return (e) => {\n  //     e.stopPropagation();\n\n  //     console.log('Zoom out');\n\n  //     let item = this.items[this.index];\n\n  //     this.#resetZoom(item);\n  //   }\n  // }\n\n  // #resetZoom(item) {\n  //   item.zoomed = false;\n\n  //   removeClass(item.el, 'fs-lightbox-zoomed');\n\n  //   // item.el.style.transform\n  // }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Lightbox);\n\n//# sourceURL=webpack://Formstone/./src/js/lightbox.js?");

/***/ }),

/***/ "./src/js/mediaquery.js":
/*!******************************!*\
  !*** ./src/js/mediaquery.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n/**\n * @fileoverview MediaQuery - Responsive media query events\n */\n\n\n\n// Class\n\n/**\n * MediaQuery class for managing responsive media query events\n * @class\n */\nclass MediaQuery {\n\n  static #_bindings = {};\n\n  /**\n   * Binds callbacks to a media query\n   * @param {string} key - Unique identifier for this binding\n   * @param {string} media - Media query string (e.g., '(min-width: 768px)')\n   * @param {Object} data - Object containing enter and/or leave callback functions\n   * @example\n   * MediaQuery.bind('mobile', '(max-width: 740px)', {\n   *   enter: () => { console.log('Mobile view'); },\n   *   leave: () => { console.log('Desktop view'); }\n   * });\n   */\n  static bind(key, media, data) {\n    key = this.#createKey(key);\n\n    let mq = window.matchMedia(media);\n    let mqKey = this.#createKey(mq.media);\n\n    if (!this.#_bindings[mqKey]) {\n      this.#_bindings[mqKey] = {\n        mq: mq,\n        active: true,\n        enter: {},\n        leave: {}\n      };\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(mq, 'change', (e) => {\n        this.#onBindingChange(e);\n      });\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(Object.entries(data), (entry) => {\n      let action = entry[0];\n      let cb = entry[1];\n\n      if (this.#_bindings[mqKey][action]) {\n        if (this.#_bindings[mqKey][action][key]) {\n          console.warn(`MediaQuery: '${key}' ${media} already exists and can not be bound`);\n          // TODO short circuit here?\n        } else {\n          this.#_bindings[mqKey][action][key] = cb;\n        }\n      }\n    });\n\n    // Check Match\n\n    let binding = this.#_bindings[mqKey];\n\n    if (mq.matches && binding.enter[key]) {\n      binding.enter[key].apply(mq);\n      binding.active = true;\n    } else if (!mq.matches && binding.leave[key]) {\n      binding.leave[key].apply(mq);\n      binding.active = false;\n    }\n  }\n\n  /**\n   * Unbinds callbacks from a media query\n   * @param {string} key - Unique identifier for the binding to remove\n   * @param {string} [media] - Optional media query string to unbind from specific query\n   * @example\n   * MediaQuery.unbind('mobile');\n   * MediaQuery.unbind('mobile', '(max-width: 740px)');\n   */\n  static unbind(key, media) {\n    if (!key) {\n      return;\n    }\n\n    if (media) {\n      // Unbind specific MQ\n      var mqKey = this.#createKey(media);\n\n      if (this.#_bindings[mqKey]) {\n        if (this.#_bindings[mqKey].enter[key]) {\n          delete this.#_bindings[mqKey].enter[key];\n        }\n\n        if (this.#_bindings[mqKey].leave[key]) {\n          delete this.#_bindings[mqKey].leave[key];\n        }\n      }\n    } else {\n      // Unbind all\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(Object.entries(this.#_bindings), (entry) => {\n        // let mqKey = entry[0];\n        let binding = entry[1];\n\n        if (binding.enter[key]) {\n          delete binding.enter[key];\n        }\n\n        if (binding.leave[key]) {\n          delete binding.leave[key];\n        }\n      });\n    }\n  }\n\n  /**\n   * Handles media query match state changes\n   * @private\n   * @param {MediaQueryListEvent} e - Media query change event\n   * @returns {void}\n   */\n  static #onBindingChange(e) {\n    let mqkey = MediaQuery.#createKey(e.media);\n    let binding = this.#_bindings[mqkey];\n    let action = e.matches ? 'enter' : 'leave';\n\n    if (binding && (binding.active || (!binding.active && e.matches))) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(Object.entries(binding[action]), (entry) => {\n        // let key = entry[0];\n        let cb = entry[1];\n\n        cb.apply(binding.mq);\n      });\n\n      binding.active = true;\n    }\n  }\n\n  /**\n   * Creates a normalized key from media query text\n   * @private\n   * @param {string} text - Media query text\n   * @returns {string} Normalized key string\n   */\n  static #createKey(text) {\n    return text.replace(/[^a-z0-9\\s]/gi, '').replace(/[_\\s]/g, '').replace(/^\\s+|\\s+$/g, '');\n  }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MediaQuery);\n\n//# sourceURL=webpack://Formstone/./src/js/mediaquery.js?");

/***/ }),

/***/ "./src/js/modal.js":
/*!*************************!*\
  !*** ./src/js/modal.js ***!
  \*************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n/**\n * @fileoverview Modal - Simple modal dialog component\n */\n\n// import MediaQuery from './mediaquery.js';\n\n\n// Accessibility based on https://plousia.com/blog/how-create-accessible-mobile-menu\n// Updated based on work by @nhall\n\nlet ModalInstance;\n\n/**\n * @typedef {Object} ModalOptions\n * @property {string} [customClass=''] - Custom CSS class for modal dialog\n * @property {boolean} [returnFocus=true] - Return focus to trigger after closing\n * @property {Object} [templates] - HTML templates for modal components\n */\n\n/**\n * Modal class for displaying inline page content\n * @class\n */\nclass Modal {\n\n  static #_guid = 1;\n\n  static #_defaults = {\n    customClass: '',\n    returnFocus: true,\n    templates: {\n      container: `\n<dialog class=\"fs-modal\" role=\"dialog\" aria-modal=\"true\">\n  <div class=\"fs-modal-container\">\n    <div class=\"fs-modal-wrap\">\n      <button type=\"button\" class=\"fs-modal-close\" autofocus>[close]</button>\n      <div class=\"fs-modal-frame\"></div>\n    </div>\n  </div>\n</dialog>`,\n      close: `<span class=\"fs-modal-sr\">Close</span><svg viewBox=\"-6 -6 24 24\" fill=\"currentColor\"><path d=\"M7.314 5.9l3.535-3.536A1 1 0 1 0 9.435.95L5.899 4.485 2.364.95A1 1 0 1 0 .95 2.364l3.535 3.535L.95 9.435a1 1 0 1 0 1.414 1.414l3.535-3.535 3.536 3.535a1 1 0 1 0 1.414-1.414L7.314 5.899z\"></path></svg>`,\n    },\n  };\n\n  /**\n   * Sets default options for future Modal instances\n   * @param {ModalOptions} options - Object containing default options\n   * @example\n   * Modal.defaults({\n   *   customClass: 'my-modal'\n   * });\n   */\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options);\n  }\n\n  /**\n   * Initializes Modal plugin on target elements\n   * @param {string} selector - Selector string to target\n   * @param {ModalOptions} [options={}] - Object containing instance options\n   * @returns {NodeList} NodeList of target elements\n   * @example\n   * Modal.construct('.js-modal');\n   * Modal.construct('.js-modal', { customClass: 'custom-modal' });\n   */\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(selector);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(targets, (el) => {\n      if (!el.Modal) {\n        new Modal(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  /**\n   * Creates a new Modal instance\n   * @constructor\n   * @param {Element} el - The target element\n   * @param {ModalOptions} [options={}] - Configuration options\n   */\n  constructor(el, options) {\n    if (el.Modal) {\n      console.warn('Modal: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.modalOptions || '{}');\n    } catch (e) {\n      console.warn('Modal: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-modal-element-${this.guid}`;\n    this.isOpen = false;\n\n    // Enhance trigger\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.el, this.guidClass);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, {\n      role: 'button',\n      'aria-haspopup': 'dialog'\n    });\n\n    if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(this.el, 'aria-label') && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(this.el, 'aria-labelledby')) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, 'aria-label', 'Open Modal');\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.el, 'click', this.#onClick);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.el, 'keydown', (e) => {\n      if (e.key === ' ') {\n        e.preventDefault();\n\n        this.open();\n      }\n    });\n\n    el.Modal = this;\n  }\n\n  //\n\n  /**\n   * Removes plugin and all related data\n   * @example\n   * el.Modal.destroy();\n   */\n  destroy() {\n    this.close();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, this.guidClass);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(this.el, 'click', this.#onClick);\n\n    this.el.Modal = null;\n\n    delete this.el.Modal;\n  }\n\n  //\n\n  /**\n   * Opens modal instance\n   * @example\n   * el.Modal.open();\n   */\n  open() {\n    let promise = ModalInstance ? ModalInstance.close() : Promise.resolve();\n\n    promise.then(() => {\n      if (this.isOpen) {\n        return;\n      }\n\n      this.hash = this.el.hash;\n      this.targetEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.hash)[0];\n\n      if (!this.targetEl) {\n        return;\n      }\n\n      this.listeners = {\n        'close': this.#onClose(),\n        'container': this.#onContainerClick(),\n      };\n\n      this.#draw();\n\n      if (typeof this.modalEl.showModal === 'function') {\n        this.modalEl.showModal();\n      }\n\n      setTimeout(() => {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.modalEl, 'fs-modal-open');\n\n        this.isOpen = true;\n\n        ModalInstance = this;\n\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(window, 'modal:open', {\n          el: this.el\n        });\n      }, 10);\n    });\n  }\n\n  /**\n   * Closes active modal instance\n   * @returns {Promise} Promise that resolves when close transition completes\n   * @example\n   * el.Modal.close();\n   */\n  close() {\n    if (!this.isOpen) {\n      return;\n    }\n\n    // Fixes 'stuck' instance\n    if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(this.modalEl, 'fs-modal-open')) {\n      this.#cleanUp();\n\n      return Promise.resolve();\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.modalEl, 'fs-modal-open');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(window, 'modal:close', this.listeners.close);\n\n    let promise = new Promise((resolve, reject) => {\n      let cb = (e) => {\n        if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(e.target, 'fs-modal')) {\n          return;\n        }\n\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(this.modalEl, 'transitionend', cb);\n        // off(this.modalEl, 'transitioncancel', cb);\n\n        this.#cleanUp();\n\n        resolve(this.el);\n      };\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.modalEl, 'transitionend', cb);\n      // on(this.modalEl, 'transitioncancel', cb);\n    });\n\n    return promise;\n  }\n\n  /**\n   * Cleans up modal state and restores moved content\n   * @private\n   * @returns {void}\n   */\n  #cleanUp() {\n    this.targetEl.append(...this.frameEl.childNodes);\n\n    this.modalEl.remove();\n\n    this.isOpen = false;\n\n    if (this.returnFocus) {\n      this.el.focus();\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(window, 'modal:close', {\n      el: this.el\n    });\n\n    ModalInstance = null;\n  }\n\n  //\n\n  /**\n   * Renders modal UI and binds event listeners\n   * @private\n   * @returns {void}\n   */\n  #draw() {\n    let html = this.templates.container\n      .replace('[close]', this.templates.close);\n\n    document.body.insertAdjacentHTML('beforeend', html);\n\n    this.modalEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-modal')[0];\n    this.overlayEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-modal-overlay', this.modalEl)[0];\n    this.closeEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-modal-close', this.modalEl)[0];\n    this.containerEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-modal-container', this.modalEl)[0];\n    this.wrapEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-modal-wrap', this.modalEl)[0];\n    this.frameEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('.fs-modal-frame', this.modalEl)[0];\n\n    this.frameEl.append(...this.targetEl.childNodes);\n    this.wrapEl.append(this.frameEl);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.modalEl, this.customClass);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.once)(this.closeEl, 'click', this.listeners.close);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.containerEl, 'click', this.listeners.container);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.modalEl, 'cancel', (e) => {\n      this.close();\n    });\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(window, 'modal:close', this.listeners.close);\n  }\n\n  //\n\n  /**\n   * Handles click on modal trigger element\n   * @private\n   * @param {MouseEvent} e - Click event\n   * @returns {void}\n   */\n  #onClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.Modal.open();\n  }\n\n  /**\n   * Returns container click handler for outside-click close behavior\n   * @private\n   * @returns {(e: MouseEvent) => void} Event handler function\n   */\n  #onContainerClick() {\n    return (e) => {\n      if (e.target !== this.wrapEl && !this.wrapEl.contains(e.target)) {\n        this.close();\n      } else {\n        this.#checkClick(e);\n      }\n    };\n  }\n\n  /**\n   * Checks click targets for modal action triggers\n   * @private\n   * @param {MouseEvent} e - Click event\n   * @returns {void}\n   */\n  #checkClick(e) {\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(e.target, 'fs-modal-trigger-close')) {\n      this.close();\n    }\n  }\n\n  /**\n   * Returns close handler for modal close events\n   * @private\n   * @returns {(e: Event) => void} Event handler function\n   */\n  #onClose() {\n    return (e) => {\n      this.close();\n    };\n  }\n\n  // #onKeyDown() {\n  //   return (e) => {\n  //     if (e.key === 'Escape') {\n  //       this.close();\n  //     }\n  //   };\n  // }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Modal);\n\n//# sourceURL=webpack://Formstone/./src/js/modal.js?");

/***/ }),

/***/ "./src/js/navigation.js":
/*!******************************!*\
  !*** ./src/js/navigation.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _swap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./swap.js */ \"./src/js/swap.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n/**\n * @fileoverview Navigation - Responsive navigation menus\n */\n\n\n\n\n// Accessibility based on https://plousia.com/blog/how-create-accessible-mobile-menu\n\n// Class\n\n/**\n * Navigation class for responsive menus with toggle, push, reveal, and overlay modes\n * @class\n */\nclass Navigation {\n\n  /**\n   * @type {number}\n   * @private\n   */\n  static #_guid = 1;\n\n  /**\n   * @typedef {Object} NavigationOptions\n   * @property {string} [gravity='left'] - Navigation gravity (left, right)\n   * @property {string} [label='Menu'] - Accessibility label\n   * @property {string} [maxWidth='980px'] - Width to auto-disable plugin\n   * @property {string} [type='toggle'] - Navigation type (toggle, push, reveal, overlay)\n   * @property {string} [focusables] - Selector for focusable elements\n   */\n\n  /**\n   * @type {NavigationOptions}\n   * @private\n   */\n  static #_defaults = {\n    gravity: 'left',\n    label: 'Menu',\n    maxWidth: '980px',\n    type: 'toggle',\n    focusables: 'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])',\n  };\n\n  //\n\n  /**\n   * Sets default options for future Navigation instances\n   * @param {NavigationOptions} options - Object containing default options\n   * @example\n   * Navigation.defaults({\n   *   type: 'push'\n   * });\n   */\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options);\n  }\n\n  /**\n   * Initializes Navigation plugin on target elements\n   * @param {string} selector - Selector string to target\n   * @param {NavigationOptions} [options={}] - Object containing instance options\n   * @returns {NodeList} NodeList of target elements\n   * @example\n   * Navigation.construct('.js-navigation');\n   * Navigation.construct('.js-navigation', { type: 'overlay' });\n   */\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(selector);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(targets, (el) => {\n      if (!el.Navigation) {\n        new Navigation(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  /**\n   * Creates a new Navigation instance\n   * @constructor\n   * @param {Element} el - The target element\n   * @param {NavigationOptions} [options={}] - Configuration options\n   */\n  constructor(el, options) {\n    if (el.Navigation) {\n      console.warn('Navigation: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.navigationOptions || '{}');\n    } catch (e) {\n      console.warn('Navigation: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-navigation-element-${this.guid}`;\n    this.guidHandle = `fs-navigation-handle-${this.guid}`;\n    // this = extend(true, this.constructor.#_defaults, options || {}, optionsData);\n    this.isOpen = false;\n\n    this.handleEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(dataset.navigationHandle);\n    this.contentEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(dataset.navigationContent);\n\n    this.isToggle = (this.type === 'toggle');\n\n    let typeClass = `fs-navigation-${this.type}`;\n    let gravityClass = (!this.isToggle) ? `${typeClass}-${this.gravity}` : '';\n\n    this.navClasses = ['fs-navigation', this.guidClass, `${typeClass}-nav`, (gravityClass ? `${gravityClass}-nav` : '')];\n    this.handleClasses = ['fs-navigation-handle', this.guidHandle, `${typeClass}-handle`, (gravityClass ? `${gravityClass}-handle` : '')];\n    this.contentClasses = ['fs-navigation-content', `${typeClass}-content`];\n    this.contentOpenClasses = ['fs-navigation-open', `${gravityClass}-content`];\n\n    //\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(el, this.navClasses);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.handleEl, this.handleClasses);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.contentEl, this.contentClasses);\n\n    //\n\n    // this.originalTabindex = getAttr(this.el, 'tabindex');\n    this.originalRole = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(this.el, 'role');\n    this.originalHidden = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(this.el, 'aria-hidden');\n    this.originalLabel = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(this.el, 'aria-label');\n    this.originalModal = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(this.el, 'aria-modal');\n\n    //\n\n    this.originalId = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(this.el, 'id');\n\n    if (this.originalId) {\n      this.elId = this.originalId;\n    } else {\n      this.elId = this.guidClass;\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, 'id', this.elId);\n    }\n\n    this.listeners = {\n      open: this.#onOpen(this),\n      close: this.#onClose(this),\n      enable: this.#onEnable(this),\n      disable: this.#onDisable(this),\n      body: this.#onBodyClick(this),\n      keydown: this.#oKeyDown(this)\n    };\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.handleEl, {\n      'data-swap-target': `.${this.guidClass}`,\n      'data-swap-linked': `${this.guidHandle}`,\n      'data-swap-group': 'fs-navigation'\n    });\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.handleEl, (handle) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(handle, 'data-navigation-tabindex', handle.tabIndex);\n      handle.tabIndex = 0;\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(handle, 'swap:activate', this.listeners.open);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(handle, 'swap:deactivate', this.listeners.close);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(handle, 'swap:enable', this.listeners.enable);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(handle, 'swap:disable', this.listeners.disable);\n    });\n\n    _swap_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].construct(`.${this.guidHandle}`, {\n      classes: {\n        enabled: 'fs-navigation-enabled',\n        active: 'fs-navigation-open',\n        inactive: 'fs-navigation-closed',\n      },\n      collapse: true,\n      maxWidth: this.maxWidth\n    });\n\n    el.Navigation = this;\n  }\n\n  //\n\n  /**\n   * Removes plugin and all related data\n   * @example\n   * el.Navigation.destroy();\n   */\n  destroy() {\n    this.listeners.disable.call();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, this.navClasses);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.handleEl, this.handleClasses);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.contentEl, this.contentClasses);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(this.el, 'aria-hidden');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(this.handleEl, [\n      'data-swap-target',\n      'data-swap-linked',\n      'data-swap-group'\n    ]);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.handleEl, (handle) => {\n      handle.tabIndex = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(handle, 'data-navigation-tabindex');\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(handle, 'data-navigation-tabindex');\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(handle, 'swap:activate', this.listeners.open);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(handle, 'swap:deactivate', this.listeners.close);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(handle, 'swap:enable', this.listeners.enable);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(handle, 'swap:disable', this.listeners.disable);\n\n      handle.Swap.destroy();\n    });\n\n    this.el.Navigation = null;\n\n    delete this.el.Navigation;\n  }\n\n  //\n\n  /**\n   * Enables navigation instance\n   * @example\n   * el.Navigation.enable();\n   */\n  enable() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.handleEl, (handle) => {\n      handle.Swap.enable();\n    });\n  }\n\n  /**\n   * Disables navigation instance\n   * @example\n   * el.Navigation.disable();\n   */\n  disable() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.handleEl, (handle) => {\n      handle.Swap.disable();\n    });\n  }\n\n  //\n\n  /**\n   * Opens navigation instance\n   * @example\n   * el.Navigation.open();\n   */\n  open() {\n    this.handleEl[0].Swap.activate();\n  }\n\n  /**\n   * Closes navigation instance\n   * @example\n   * el.Navigation.close();\n   */\n  close() {\n    this.handleEl[0].Swap.deactivate();\n  }\n\n  //\n\n  /**\n   * Returns enable handler for swap events\n   * @private\n   * @returns {(e: Event) => void} Event handler function\n   */\n  #onEnable() {\n    return (e) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, 'aria-label', this.label);\n\n      if (!this.isToggle) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, {\n          'role': 'dialog',\n          'aria-modal': 'true'\n        });\n      }\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.handleEl, 'aria-controls', this.elId);\n\n      if (this.isToggle) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.handleEl, 'aria-expanded', 'false');\n      }\n\n      // this.el.tabIndex = -1;\n\n      this.#hideFocusables();\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.contentEl, 'fs-navigation-enabled');\n\n      setTimeout(() => {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.el, 'fs-navigation-animated');\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.contentEl, 'fs-navigation-animated');\n      }, 0);\n    };\n  }\n\n  /**\n   * Returns disable handler for swap events\n   * @private\n   * @returns {(e: Event) => void} Event handler function\n   */\n  #onDisable() {\n    return (e) => {\n      this.listeners.close.call();\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, {\n        'role': this.originalRole || false,\n        'aria-hidden': this.originalHidden || false,\n        'aria-label': this.originaLabel || false,\n        'aria-modal': this.originalModal || false,\n        'id': this.originalId || false\n      });\n\n      // if (this.originalTabindex) {\n      //   this.el.tabIndex = this.originalTabindex;\n      // } else {\n      //   removeAttr(this.el, 'tabindex');\n      // }\n\n      this.#showFocusables();\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(this.handleEl, [\n        'aria-controls',\n        'aria-expanded'\n      ]);\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, 'fs-navigation-animated');\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.contentEl, 'fs-navigation-enabled', 'fs-navigation-animated', this.contentOpenClasses);\n    };\n  }\n\n  /**\n   * Returns open handler for swap events\n   * @private\n   * @returns {(e: Event) => void} Event handler function\n   */\n  #onOpen() {\n    return (e) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, 'aria-hidden', 'false');\n\n      this.#showFocusables();\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.contentEl, this.contentOpenClasses);\n\n      if (!this.isToggle) {\n        this.#hideSiblings();\n      } else {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.handleEl, 'aria-expanded', 'true');\n      }\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(document.body, 'click', this.listeners.body);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(document.body, 'keydown', this.listeners.keydown);\n\n      if (!this.isOpen) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.el, 'navigation:open');\n\n        this.isOpen = true;\n\n        setTimeout(() => {\n          ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])', this.el)[0] || this.el).focus();\n        }, 50);\n      }\n    };\n  }\n\n  /**\n   * Returns close handler for swap events\n   * @private\n   * @returns {(e: Event) => void} Event handler function\n   */\n  #onClose() {\n    return (e) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, 'aria-hidden', 'true');\n\n      this.#hideFocusables();\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.contentEl, this.contentOpenClasses);\n\n      if (!this.isToggle) {\n        // restoreAttr(this.#getSiblings(), 'aria-hidden', 'navigation');\n        this.#showSiblings();\n      }\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.handleEl, 'aria-expanded', 'false');\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(document.body, 'click', this.listeners.body);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(document.body, 'keydown', this.listeners.keydown);\n\n      if (this.isOpen) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.el, 'navigation:close');\n\n        this.handleEl[0].focus();\n\n        this.isOpen = false;\n      }\n    };\n  }\n\n  //\n\n  /**\n   * Gets sibling elements outside Navigation instances\n   * @private\n   * @returns {Element[]} Array of sibling elements\n   */\n  #getSiblings() {\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.siblings)(this.el).filter((el) => {\n      return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.isU)(el.Navigation);\n    });\n  }\n\n  /**\n   * Hides sibling elements from assistive technologies\n   * @private\n   * @returns {void}\n   */\n  #hideSiblings() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.updateAttr)(this.#getSiblings(), 'aria-hidden', 'true', 'navigation');\n  }\n\n  /**\n   * Restores sibling element accessibility attributes\n   * @private\n   * @returns {void}\n   */\n  #showSiblings() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.restoreAttr)(this.#getSiblings(), 'aria-hidden', 'navigation');\n  }\n\n  //\n\n  /**\n   * Gets focusable elements within the navigation element\n   * @private\n   * @returns {NodeList} NodeList of focusable elements\n   */\n  #getFocusables() {\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.focusables, this.el);\n  }\n\n  /**\n   * Disables focus on focusable child elements\n   * @private\n   * @returns {void}\n   */\n  #hideFocusables() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.updateAttr)(this.#getFocusables(), 'tabindex', '-1', 'navigation');\n  }\n\n  /**\n   * Restores focus on focusable child elements\n   * @private\n   * @returns {void}\n   */\n  #showFocusables() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.restoreAttr)(this.#getFocusables(), 'tabindex', 'navigation');\n  }\n\n  //\n\n  /**\n   * Returns body click handler for outside-click close behavior\n   * @private\n   * @returns {(e: MouseEvent) => void} Event handler function\n   */\n  #onBodyClick() {\n    return (e) => {\n      if (e.target !== this.el && !this.el.contains(e.target)) {\n        this.close();\n      }\n    };\n  }\n\n  /**\n   * Returns keydown handler for Escape key close behavior\n   * @private\n   * @returns {(e: KeyboardEvent) => void} Event handler function\n   */\n  #oKeyDown() {\n    return (e) => {\n      if (e.key === 'Escape') {\n        this.close();\n      }\n    }\n  }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Navigation);\n\n//# sourceURL=webpack://Formstone/./src/js/navigation.js?");

/***/ }),

/***/ "./src/js/swap.js":
/*!************************!*\
  !*** ./src/js/swap.js ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mediaquery_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mediaquery.js */ \"./src/js/mediaquery.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n\n\n\n// Class\n\n// TODO look into events\n\nclass Swap {\n\n  static #_guid = 1;\n\n  static #_defaults = {\n    classes: {\n      enabled: 'fs-swap-enabled',\n      active: 'fs-swap-active',\n      inactive: 'fs-swap-inactive',\n    },\n    collapse: true,\n    maxWidth: Infinity,\n    minWidth: '0px',\n  };\n\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options);\n  }\n\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(selector);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(targets, (el) => {\n      if (!el.Swap) {\n        new Swap(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  constructor(el, options) {\n    if (el.Swap) {\n      console.warn('Swap: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.swapOptions || '{}');\n    } catch (e) {\n      console.warn('Swap: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-swap-element-${this.guid}`;\n    this.guidTarget = `fs-swap-target-${this.guid}`;\n\n    this.enabled = false;\n    // this.active = el.dataset.swapActive || false;\n    this.group = dataset.swapGroup ? `[data-swap-group=\"${dataset.swapGroup}\"]` : false;\n    this.linked = dataset.swapLinked ? `[data-swap-linked=\"${dataset.swapLinked}\"]` : false;\n    this.target = dataset.swapTarget || null;\n    this.targetEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.target);\n    // this = extend(true, this.constructor.#_defaults, options || {}, optionsData);\n\n    let maxWidth = (this.maxWidth === Infinity ? '100000px' : this.maxWidth);\n\n    this.mq = `(min-width: ${this.minWidth}) and (max-width: ${maxWidth})`;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.el, this.guidClass);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.targetEl, this.guidTarget);\n\n    this.toggleEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(`.${this.guidClass}, .${this.guidTarget}`);\n\n    _mediaquery_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].bind(this.guidClass, this.mq, {\n      enter: () => {\n        this.enable();\n      },\n      leave: () => {\n        this.disable();\n      }\n    });\n\n    el.Swap = this;\n  }\n\n  destroy() {\n    this.disable();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.toggleEl, this.guidClass, this.guidTarget);\n\n    this.el.Swap = null;\n\n    delete this.el.Swap;\n  }\n\n  //\n\n  enable(internal) {\n    if (this.enabled) {\n      return;\n    }\n\n    this.enabled = true;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.toggleEl, this.classes.enabled, this.classes.inactive);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.el, 'click', this.#onClick);\n\n    if (!this.collapse && this.group) {\n      let groupItems = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.group);\n      let activeItems = Array.from(groupItems).filter((el) => {\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasAttr)(el, 'data-swap-active');\n      });\n\n      if (!activeItems.length) {\n        groupItems[0].dataset.swapActive = 'true';\n      }\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.toggleEl, 'swap:enable');\n\n    if (this.el.dataset.swapActive) {\n      this.activate();\n    }\n\n    if (!internal && this.linked) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.linked), (el) => {\n        if (el.Swap && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(el, this.guidClass)) {\n          el.Swap.enable(true);\n        }\n      });\n    }\n  }\n\n  disable(internal) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.enabled = false;\n    this.active = false;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.toggleEl, this.classes.enabled, this.classes.active, this.classes.inactive);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(this.el, 'click', this.#onClick);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.toggleEl, 'swap:disable');\n\n    if (!internal && this.linked) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.linked), (el) => {\n        if (el.Swap && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(el, this.guidClass)) {\n          el.Swap.disable(true);\n        }\n      });\n    }\n  }\n\n  //\n\n  activate(internal) {\n    if (!this.enabled || this.active) {\n      return;\n    }\n\n    this.active = true;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.toggleEl, this.classes.inactive);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.toggleEl, this.classes.active);\n\n    if (!internal) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.toggleEl, 'swap:activate');\n\n      if (this.linked) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.linked), (el) => {\n          if (el.Swap && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(el, this.guidClass)) {\n            el.Swap.activate(true);\n          }\n        });\n      }\n    }\n\n    if (this.group) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.linked ? `${this.group}:not(${this.linked})` : this.group), (el) => {\n        if (el.Swap && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(el, this.guidClass)) {\n          el.Swap.deactivate(true);\n        }\n      });\n    }\n  }\n\n  deactivate(internal) {\n    if (!this.enabled || !this.active) {\n      return;\n    }\n\n    this.active = false;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.toggleEl, this.classes.active);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.toggleEl, this.classes.inactive);\n\n    if (!internal) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.toggleEl, 'swap:deactivate');\n\n      if (this.linked) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.linked), (el) => {\n          if (el.Swap && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(el, this.guidClass)) {\n            el.Swap.deactivate(true);\n          }\n        });\n      }\n    }\n  }\n\n  //\n\n  #onClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    let instance = this.Swap;\n\n    if (instance.active && instance.collapse) {\n      instance.deactivate();\n    } else {\n      instance.activate();\n    }\n  }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Swap);\n\n//# sourceURL=webpack://Formstone/./src/js/swap.js?");

/***/ }),

/***/ "./src/js/tabs.js":
/*!************************!*\
  !*** ./src/js/tabs.js ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mediaquery_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mediaquery.js */ \"./src/js/mediaquery.js\");\n/* harmony import */ var _swap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./swap.js */ \"./src/js/swap.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/js/utils.js\");\n\n\n\n\n\n// Accessibility work by @nhall\n\n// Class\n\nclass Tabs {\n\n  static #_guid = 1;\n\n  static #_defaults = {\n    maxWidth: Infinity,\n    mobileMaxWidth: '740px',\n    automatic: true,\n    label: 'Tabs'\n  };\n\n  //\n\n  static defaults(options) {\n    this.#_defaults = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.#_defaults, options);\n  }\n\n  static construct(selector, options) {\n    let targets = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(selector);\n\n    targets.forEach((el) => {\n      if (!el.Tabs) {\n        new Tabs(el, options);\n      }\n    });\n\n    return targets;\n  }\n\n  //\n\n  constructor(el, options) {\n    if (el.Tabs) {\n      console.warn('Tabs: Instance already exists', el);\n      return;\n    }\n\n    // Parse JSON Options\n\n    let optionsData = {};\n    let dataset = el.dataset;\n\n    try {\n      optionsData = JSON.parse(dataset.tabsOptions || '{}');\n    } catch (e) {\n      console.warn('Tabs: Error parsing options JSON', el);\n    }\n\n    // Internal Data\n\n    Object.assign(this, (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.extend)(true, this.constructor.#_defaults, options || {}, optionsData));\n\n    this.el = el;\n    this.guid = this.constructor.#_guid++;\n    this.guidClass = `fs-tabs-element-${this.guid}`;\n    this.guidContent = `fs-tabs-content-${this.guid}`;\n\n    let mobileMaxWidth = ((this.mobileMaxWidth === Infinity || this.mobileMaxWidth === 'Infinity') ? '100000px' : this.mobileMaxWidth);\n\n    this.mq = `(max-width: ${mobileMaxWidth})`;\n\n    this.target = el.hash;\n    this.container = dataset.tabsContainer;\n    this.group = dataset.tabsGroup;\n\n    this.mobileEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.element)('button');\n    this.contentEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.target)[0];\n    this.containerEl = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(this.container)[0];\n\n    this.handleEl = [el, this.mobileEl];\n\n    //\n\n    this.mobileEl.innerHTML = el.innerHTML;\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.mobileEl, {\n      'type': 'button',\n      'aria-hidden': 'true',\n      'tabindex': '-1',\n    });\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(el, 'fs-tabs-tab', this.guidClass);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.mobileEl, 'fs-tabs-tab_mobile', this.guidClass);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.contentEl, 'fs-tabs-content', this.guidContent);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(this.containerEl, 'fs-tabs-container');\n\n    this.contentEl.parentNode.insertBefore(this.mobileEl, this.contentEl);\n\n    // Aria\n\n    // SHOULD BE IN ENABLE / DISABLE?\n    this.originalId = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(el, 'id');\n\n    if (this.originalId) {\n      this.elId = this.originalId;\n    } else {\n      this.elId = this.guidClass;\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(el, 'id', this.elId);\n    }\n\n    this.originalContentId = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(el, 'id');\n\n    if (this.originalContentId) {\n      this.contentId = this.originalContentId;\n    } else {\n      this.contentId = this.guidContent;\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.contentEl, 'id', this.contentId);\n    }\n\n    // Check for hash\n\n    let hash = window.location.hash;\n\n    this.hashActive = false;\n    this.hashGroup = false;\n\n    if (hash.length) {\n      this.hashActive = (el.hash == hash);\n      this.hashGroup = this.group && ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(`[data-tabs-group=\"${this.group}\"][href$=\"${hash}]`).length > 0);\n    }\n\n    // SHOULD BE IN ENABLE / DISABLE?\n    if (this.hashActive) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.handleEl, 'data-swap-active', 'true');\n    } else if (this.hashGroup) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(this.handleEl, 'data-swap-active');\n    } else if (this.el.dataset.tabsActive === 'true') {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.handleEl, 'data-swap-active', 'true');\n    }\n\n    //\n\n    this.listeners = {\n      activate: this.#onActivate(this),\n      deactivate: this.#onDeactivate(this),\n      enable: this.#onEnable(this),\n      disable: this.#onDisable(this),\n      keydown: this.#onKeyDown(this)\n    };\n\n    this.handleEl.forEach((handle) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(handle, {\n        'data-swap-target': `.${this.guidContent}`,\n        'data-swap-linked': `${this.guidClass}`,\n        'data-swap-group': `${this.group}`\n      });\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(handle, 'swap:activate', this.listeners.activate);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(handle, 'swap:deactivate', this.listeners.deactivate);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(handle, 'swap:enable', this.listeners.enable);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(handle, 'swap:disable', this.listeners.disable);\n    });\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.on)(this.el, 'keydown', this.listeners.keydown);\n\n    _mediaquery_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].bind(this.guidClass, this.mq, {\n      enter: () => {\n        console.log('enter');\n        this.#mobileEnable();\n      },\n      leave: () => {\n        console.log('leave');\n        this.#mobileDisable();\n      }\n    });\n\n    _swap_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].construct(`.${this.guidClass}`, {\n      classes: {\n        enabled: 'fs-tabs-enabled',\n        active: 'fs-tabs-active',\n        inactive: 'fs-tabs-inactive',\n      },\n      collapse: false,\n      maxWidth: this.maxWidth\n    });\n\n    el.Tabs = this;\n  }\n\n  //\n\n  destroy() {\n    this.listeners.disable.call();\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.el, 'fs-tabs-tab', this.guidClass);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.contentEl, 'fs-tabs-content', this.guidContent);\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.containerEl, 'fs-tabs-container');\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(this.el, 'keydown', this.listeners.keydown);\n\n    this.handleEl.forEach((handle) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(handle, [\n        'data-swap-target',\n        'data-swap-linked',\n        'data-swap-group'\n      ]);\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(handle, 'swap:activate', this.listeners.activate);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(handle, 'swap:deactivate', this.listeners.deactivate);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(handle, 'swap:enable', this.listeners.enable);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.off)(handle, 'swap:disable', this.listeners.disable);\n\n      if (handle.Swap) {\n        handle.Swap.destroy();\n      }\n    });\n\n    this.mobileEl.remove();\n\n    this.el.Tabs = null;\n\n    delete this.el.Tabs;\n  }\n\n  //\n\n  enable() {\n    this.el.Swap.enable();\n  }\n\n  disable() {\n    this.el.Swap.disable();\n  }\n\n  //\n\n  activate() {\n    this.el.Swap.activate();\n  }\n\n  deactivate() {\n    this.el.Swap.deactivate();\n  }\n\n  //\n\n  #onEnable() {\n    return (e) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, {\n        'role': 'tab',\n        'aria-controls': this.contentId\n      });\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.contentEl, {\n        'role': 'tabpanel',\n        'aria-labelledby': this.elId\n      });\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.containerEl, {\n        'role': 'tablist',\n        'aria-label': this.label\n      });\n\n      let isActive = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(this.el, 'data-swap-active') === 'true';\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, {\n        'aria-selected': isActive ? 'true' : 'false',\n        'tabindex': isActive ? '0' : '-1'\n      });\n\n      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)('a, button, input, [tabindex=\"0\"]', this.contentEl).length === 0) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.contentEl, 'tabindex', '0');\n      }\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.el, 'tabs:enable');\n\n      // setAttr(this.el, 'aria-label', this.label);\n\n      // if (!this.isToggle) {\n      //   setAttr(this.el, {\n      //     'role': 'dialog',\n      //     'aria-modal': 'true'\n      //   });\n      // }\n\n      // setAttr(this.handle, 'aria-controls', this.elId);\n\n      // if (this.isToggle) {\n      //   setAttr(this.handle, 'aria-expanded', 'false');\n      // }\n\n      // addClass(this.content, 'fs-navigation-enabled');\n\n      // setTimeout(() => {\n      //   addClass(this.el, 'fs-navigation-animated');\n      //   addClass(this.content, 'fs-navigation-animated');\n      // }, 0);\n    };\n  }\n\n  #onDisable() {\n    return (e) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(this.el, ['role', 'aria-controls', 'aria-selected', 'tabindex']);\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(this.contentEl, ['role', 'aria-labelledby', 'tabindex']);\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(this.containerEl, ['role', 'aria-label']);\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.el, 'tabs:disable');\n\n      // SHOULD BE IN ENABLE / DISABLE\n      // setAttr(this.el, {\n      //   'role': this.originalRole || false,\n      //   'aria-label': this.originaLabel || false,\n      //   'aria-modal': this.originaModal || false,\n      //   'id': this.originalId || false\n      // });\n    };\n  }\n\n  #onActivate() {\n    return (e) => {\n      if (this.group) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(`[data-tabs-group=\"${this.group}\"]`), (el) => {\n          if (el.Tabs && el !== this.el) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(el, {\n              'aria-selected': 'false',\n              'tabindex': '-1'\n            });\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(el.Tabs.mobileEl, {\n              'aria-expanded': 'false'\n            });\n          }\n        });\n      }\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, {\n        'aria-selected': 'true',\n        'tabindex': '0'\n      });\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.mobileEl, {\n        'aria-expanded': 'true'\n      });\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.el, 'tabs:activate');\n\n      // window.location.hash = this.el.hash;\n    };\n  }\n\n  #onDeactivate() {\n    return (e) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, {\n        'aria-selected': 'false',\n        'tabindex': '-1'\n      });\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.mobileEl, {\n        'aria-expanded': 'false'\n      });\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.trigger)(this.el, 'tabs:deactivate');\n    };\n  }\n\n  #onKeyDown() {\n    return (e) => {\n      let tabs = Array.from((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.select)(`[role=\"tab\"]`, this.containerEl));\n      let index = tabs.indexOf(e.currentTarget);\n      let next;\n\n      if (e.key === 'ArrowRight') next = tabs[(index + 1) % tabs.length];\n\n      if (e.key === 'ArrowLeft') next = tabs[(index - 1 + tabs.length) % tabs.length];\n\n      if (e.key === 'Home') next = tabs[0];\n\n      if (e.key === 'End') next = tabs[tabs.length - 1];\n\n      if (next) {\n        e.preventDefault();\n        next.focus();\n\n        if (this.automatic && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasClass)(this.el, 'fs-tabs-mobile')) {\n          next.click();\n        }\n      }\n    };\n  }\n\n  //\n\n  #mobileEnable() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.handleEl, (handle) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.addClass)(handle, 'fs-tabs-mobile');\n    });\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.el, {\n      'aria-hidden': 'true',\n      'tabindex': '-1',\n    });\n\n    let isActive = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getAttr)(this.el, 'data-swap-active') === 'true';\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.mobileEl, {\n      'aria-hidden': 'false',\n      'aria-controls': this.contentId,\n      'aria-expanded': isActive ? 'true' : 'false',\n      'tabindex': '0'\n    });\n  }\n\n  #mobileDisable() {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.iterate)(this.handleEl, (handle) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeClass)(handle, 'fs-tabs-mobile');\n    });\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setAttr)(this.mobileEl, {\n      'aria-hidden': 'true',\n      'tabindex': '-1'\n    });\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(this.mobileEl, ['aria-controls', 'aria-expanded']);\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeAttr)(this.el, [\n      'aria-hidden',\n      'tabindex'\n    ]);\n  }\n\n};\n\n// Export\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Tabs);\n\n//# sourceURL=webpack://Formstone/./src/js/tabs.js?");

/***/ }),

/***/ "./src/js/utils.js":
/*!*************************!*\
  !*** ./src/js/utils.js ***!
  \*************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addClass\": function() { return /* binding */ addClass; },\n/* harmony export */   \"camelCase\": function() { return /* binding */ camelCase; },\n/* harmony export */   \"element\": function() { return /* binding */ element; },\n/* harmony export */   \"extend\": function() { return /* binding */ extend; },\n/* harmony export */   \"falsey\": function() { return /* binding */ falsey; },\n/* harmony export */   \"getAttr\": function() { return /* binding */ getAttr; },\n/* harmony export */   \"hasAttr\": function() { return /* binding */ hasAttr; },\n/* harmony export */   \"hasClass\": function() { return /* binding */ hasClass; },\n/* harmony export */   \"isFn\": function() { return /* binding */ isFn; },\n/* harmony export */   \"isObj\": function() { return /* binding */ isObj; },\n/* harmony export */   \"isReady\": function() { return /* binding */ isReady; },\n/* harmony export */   \"isU\": function() { return /* binding */ isU; },\n/* harmony export */   \"iterable\": function() { return /* binding */ iterable; },\n/* harmony export */   \"iterate\": function() { return /* binding */ iterate; },\n/* harmony export */   \"normalizeAttrs\": function() { return /* binding */ normalizeAttrs; },\n/* harmony export */   \"normalizeClasses\": function() { return /* binding */ normalizeClasses; },\n/* harmony export */   \"off\": function() { return /* binding */ off; },\n/* harmony export */   \"on\": function() { return /* binding */ on; },\n/* harmony export */   \"once\": function() { return /* binding */ once; },\n/* harmony export */   \"proto\": function() { return /* binding */ proto; },\n/* harmony export */   \"ready\": function() { return /* binding */ ready; },\n/* harmony export */   \"removeAttr\": function() { return /* binding */ removeAttr; },\n/* harmony export */   \"removeClass\": function() { return /* binding */ removeClass; },\n/* harmony export */   \"restoreAttr\": function() { return /* binding */ restoreAttr; },\n/* harmony export */   \"select\": function() { return /* binding */ select; },\n/* harmony export */   \"setAttr\": function() { return /* binding */ setAttr; },\n/* harmony export */   \"siblings\": function() { return /* binding */ siblings; },\n/* harmony export */   \"trigger\": function() { return /* binding */ trigger; },\n/* harmony export */   \"type\": function() { return /* binding */ type; },\n/* harmony export */   \"updateAttr\": function() { return /* binding */ updateAttr; }\n/* harmony export */ });\n/**\n * @fileoverview Utility functions for DOM manipulation, event handling, and common operations\n */\n\n/**\n * @type {Function[]}\n * @private\n */\nlet _readyCallbacks = [];\n\n/**\n * Executes a callback when the DOM is ready\n * @param {Function} cb - Callback function to execute\n * @example\n * ready(() => {\n *   console.log('DOM is ready');\n * });\n */\nfunction ready(cb) {\n  if (document.readyState === 'loading') {\n    _readyCallbacks.push(cb);\n    document.addEventListener('DOMContentLoaded', isReady, false);\n  } else {\n    cb.call();\n  }\n}\n\n/**\n * Internal function to execute all ready callbacks\n * @private\n */\nfunction isReady() {\n  iterate(_readyCallbacks, (cb) => {\n    cb.call();\n  });\n}\n\n//\n\n/**\n * Returns the JavaScript type of an item\n * @param {*} item - The item to check\n * @returns {string} The type of the item ('string', 'number', 'boolean', 'object', 'function', 'undefined', 'symbol', 'bigint')\n */\nfunction type(item) {\n  return (typeof item);\n}\n\n/**\n * Returns the prototype string representation of an item\n * @param {*} item - The item to check\n * @returns {string} The prototype string (e.g., '[object Array]', '[object Object]')\n */\nfunction proto(item) {\n  return Object.prototype.toString.call(item);\n}\n\n/**\n * Checks if a value is falsey (undefined, false, or null)\n * @param {*} v - The value to check\n * @returns {boolean} True if the value is undefined, false, or null\n */\nfunction falsey(v) {\n  return (isU(v) || v === false || v === null);\n}\n\n/**\n * Checks if a value is a function\n * @param {*} v - The value to check\n * @returns {boolean} True if the value is a function\n */\nfunction isFn(v) {\n  return (type(v) === 'function');\n}\n\n/**\n * Checks if a value is an object\n * @param {*} v - The value to check\n * @returns {boolean} True if the value is an object\n */\nfunction isObj(v) {\n  return (type(v) === 'object');\n}\n\n/**\n * Checks if a value is undefined\n * @param {*} v - The value to check\n * @returns {boolean} True if the value is undefined\n */\nfunction isU(v) {\n  return (type(v) === 'undefined');\n}\n\n/**\n * Extends objects by merging properties from one or more source objects\n * @param {...(boolean|Object)} args - If first argument is boolean, enables deep merge. Remaining arguments are objects to merge\n * @returns {Object} The extended object\n * @example\n * // Shallow merge\n * extend({a: 1}, {b: 2}); // {a: 1, b: 2}\n *\n * // Deep merge\n * extend(true, {a: {x: 1}}, {a: {y: 2}}); // {a: {x: 1, y: 2}}\n */\nfunction extend(...args) {\n  let extended = {};\n  let deep = false;\n  let i = 0;\n\n  if (type(args[0]) === 'boolean') {\n    deep = args[0];\n    i++;\n  }\n\n  let merge = (obj) => {\n    for (let prop in obj) {\n      if (Object.hasOwn(obj, prop)) {\n        if (deep && proto(obj[prop]) === '[object Object]') {\n          extended[prop] = extend(extended[prop], obj[prop]);\n        } else {\n          extended[prop] = obj[prop];\n        }\n      }\n    }\n  };\n\n  for (; i < args.length; i++) {\n    merge(args[i]);\n  }\n\n  return extended;\n}\n\n//\n\n/**\n * Creates a new DOM element\n * @param {string} tag - The HTML tag name to create\n * @returns {Element} The created element\n * @example\n * const div = element('div');\n */\nfunction element(tag) {\n  return document.createElement(tag);\n}\n\n/**\n * Selects all elements matching a CSS selector\n * @param {string} selector - CSS selector string\n * @param {Element|Document} [context=document] - Context element or document to search within\n * @returns {NodeList} NodeList of matching elements\n * @example\n * const buttons = select('.btn');\n * const inputs = select('input', form);\n */\nfunction select(selector, context) {\n  return (context || document).querySelectorAll(selector);\n}\n\n/**\n * Gets all sibling elements of a node\n * @param {Element} node - The element to get siblings for\n * @returns {Element[]} Array of sibling elements\n */\nfunction siblings(node) {\n  return [...node.parentElement.children].filter((child) => {\n    return child != node;\n  });\n}\n\n/**\n * Converts a value to an iterable array\n * @param {*} target - The target to convert (Element, NodeList, Array, or any value)\n * @returns {Array} Array of non-falsey items\n */\nfunction iterable(target) {\n  if (!['[object NodeList]', '[object Array]'].includes(proto(target))) {\n    target = [target];\n  }\n\n  return [...target].filter((item) => {\n    // return item instanceof Element;\n    return !falsey(item);\n  });\n}\n\n/**\n * Iterates over a target and executes a callback for each item\n * @param {Element|NodeList|Array|*} target - The target to iterate over\n * @param {Function} cb - Callback function to execute for each item\n */\nfunction iterate(target, cb) {\n  iterable(target).forEach(cb);\n}\n\n//\n\n/**\n * Adds event listener(s) to element(s)\n * @param {Element|NodeList|Array} target - The target element(s)\n * @param {string} event - The event name\n * @param {Function} cb - The event handler callback\n * @param {Object|boolean} [options] - Event listener options\n * @example\n * on(button, 'click', handleClick);\n * on(select('.item'), 'mouseenter', handleHover);\n */\nfunction on(target, event, cb, options) {\n  iterate(target, (el) => {\n    el.addEventListener(event, cb, options || null);\n  });\n}\n\n/**\n * Adds a one-time event listener to element(s)\n * @param {Element|NodeList|Array} target - The target element(s)\n * @param {string} event - The event name\n * @param {Function} cb - The event handler callback\n * @param {Object|boolean} [options] - Event listener options\n */\nfunction once(target, event, cb, options) {\n  on(target, event, cb, extend({\n    once: true,\n    capture: (options === true)\n  }, (isObj(options)) ? options : {}));\n}\n\n/**\n * Removes event listener(s) from element(s)\n * @param {Element|NodeList|Array} target - The target element(s)\n * @param {string} event - The event name\n * @param {Function} cb - The event handler callback to remove\n */\nfunction off(target, event, cb) {\n  iterate(target, (el) => {\n    el.removeEventListener(event, cb);\n  });\n}\n\n/**\n * Dispatches a custom event on element(s)\n * @param {Element|NodeList|Array} target - The target element(s)\n * @param {string} event - The event name\n * @param {*} [detail] - Optional detail data to pass with the event\n * @example\n * trigger(element, 'customEvent', {data: 'value'});\n */\nfunction trigger(target, event, detail) {\n  iterate(target, (el) => {\n    el.dispatchEvent(new CustomEvent(event, {\n      detail: detail || null\n    }));\n  });\n}\n\n//\n\n/**\n * Normalizes class names into an array\n * @param {...(string|string[])} classes - Class names as strings or array\n * @returns {string[]} Array of normalized class names\n * @private\n */\nfunction normalizeClasses(...classes) {\n  if (proto(classes[0]) === '[object Array]') {\n    classes = classes[0];\n  }\n\n  classes = classes.join(' ').split(' ');\n\n  classes = classes.filter((c) => {\n    return c !== '';\n  });\n\n  return classes;\n}\n\n/**\n * Checks if an element has a class\n * @param {Element} target - The target element\n * @param {string} c - The class name to check\n * @returns {boolean} True if the element has the class\n */\nfunction hasClass(target, c) {\n  return target.classList.contains(c);\n}\n\n/**\n * Adds class(es) to element(s)\n * @param {Element|NodeList|Array} target - The target element(s)\n * @param {...string} classes - Class names to add\n * @example\n * addClass(element, 'active');\n * addClass(select('.item'), 'highlight', 'selected');\n */\nfunction addClass(target, ...classes) {\n  classes = normalizeClasses(...classes);\n\n  iterate(target, (el) => {\n    el.classList.add(...classes);\n  });\n}\n\n/**\n * Removes class(es) from element(s)\n * @param {Element|NodeList|Array} target - The target element(s)\n * @param {...string} classes - Class names to remove\n * @example\n * removeClass(element, 'active');\n * removeClass(select('.item'), 'highlight', 'selected');\n */\nfunction removeClass(target, ...classes) {\n  classes = normalizeClasses(...classes);\n\n  iterate(target, (el) => {\n    el.classList.remove(...classes);\n  });\n}\n\n//\n\n/**\n * Checks if an element has an attribute\n * @param {Element} target - The target element\n * @param {string} attr - The attribute name\n * @returns {boolean} True if the element has the attribute\n */\nfunction hasAttr(target, attr) {\n  return target.hasAttribute(attr);\n}\n\n/**\n * Gets an attribute value from an element\n * @param {Element} target - The target element\n * @param {string} attr - The attribute name\n * @returns {string|null} The attribute value or null if not present\n */\nfunction getAttr(target, attr) {\n  return target.getAttribute(attr);\n}\n\n/**\n * Normalizes attributes into an array of entries\n * @param {string|Object} attr - Attribute name or object of attribute key-value pairs\n * @param {string} [value] - Attribute value (when attr is a string)\n * @returns {Array<[string, string]>} Array of [name, value] tuples\n * @private\n */\nfunction normalizeAttrs(attr, value) {\n  if (proto(attr) !== '[object Object]') {\n    let newAttr = {};\n    newAttr[`${attr}`] = value;\n    attr = newAttr;\n  }\n\n  return Object.entries(attr);\n}\n\n/**\n * Sets attribute(s) on element(s)\n * @param {Element|NodeList|Array} target - The target element(s)\n * @param {string|Object} attr - Attribute name or object of attribute key-value pairs\n * @param {string} [value] - Attribute value (when attr is a string). If falsey, removes the attribute\n * @example\n * setAttr(element, 'data-id', '123');\n * setAttr(element, {id: 'myId', 'data-type': 'primary'});\n */\nfunction setAttr(target, attr, value) {\n  attr = normalizeAttrs(attr, value);\n\n  iterate(target, (el) => {\n    for (let [a, v] of attr) {\n      if (falsey(v)) {\n        removeAttr(target, a);\n      } else {\n        el.setAttribute(a, v);\n      }\n    }\n  });\n}\n\n/**\n * Removes attribute(s) from element(s)\n * @param {Element|NodeList|Array} target - The target element(s)\n * @param {string|string[]} attr - Attribute name(s) to remove\n * @example\n * removeAttr(element, 'disabled');\n * removeAttr(element, ['disabled', 'hidden']);\n */\nfunction removeAttr(target, attr) {\n  if (proto(attr) !== '[object Array]') {\n    attr = [attr];\n  }\n\n  iterate(target, (el) => {\n    iterate(attr, (a) => {\n      el.removeAttribute(a);\n    });\n  });\n}\n\n//\n\n/**\n * Updates an attribute value and stores the original in a data attribute\n * @param {Element|NodeList|Array} els - The target element(s)\n * @param {string} attr - The attribute name to update\n * @param {string} value - The new attribute value\n * @param {string} handle - A handle used to namespace the backup data attribute\n */\nfunction updateAttr(els, attr, value, handle) {\n  let key = camelCase([handle, attr].join('-'));\n\n  iterate(els, (el) => {\n    el.dataset[key] = getAttr(el, attr) || '';\n    setAttr(el, attr, value);\n  });\n}\n\n/**\n * Restores an attribute to its original value from a data attribute\n * @param {Element|NodeList|Array} els - The target element(s)\n * @param {string} attr - The attribute name to restore\n * @param {string} handle - The handle used when the attribute was updated\n */\nfunction restoreAttr(els, attr, handle) {\n  let key = camelCase([handle, attr].join('-'));\n\n  iterate(els, (el) => {\n    setAttr(el, attr, el.dataset[key] || false);\n    delete el.dataset[key];\n  });\n}\n\n//\n\n/**\n * Converts a hyphenated or space-separated string to camelCase\n * @param {string} string - The string to convert\n * @returns {string} The camelCased string\n * @example\n * camelCase('my-data-attr'); // 'myDataAttr'\n * camelCase('background color'); // 'backgroundColor'\n */\nfunction camelCase(string) {\n  return string.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g, (m, char) => {\n    return char.toUpperCase();\n  });\n}\n\n//# sourceURL=webpack://Formstone/./src/js/utils.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/index.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});