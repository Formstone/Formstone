{"template":"component.html","title":"Touch","demo":"<h4>Manipulate</h4>\r\n\r\n<!-- START: FIRSTDEMO -->\r\n\r\n<style>\r\n  .box { background: #00bcd4; color: #fff; text-align: center; }\r\n\r\n  .container { background: #fff; border: 1px solid #455a64; height: 400px; margin: 20px 0; overflow: hidden; position: relative; width: 100%; }\r\n\r\n  .register { height: 1px; left: 50%; position: absolute; top: 50%; width: 1px; }\r\n  .box { height: 150px; line-height: 150px; left: -75px; position: absolute; top: -75px; width: 150px; }\r\n\r\n  .swipe { background: gray; height: 100px; width: 100%; }\r\n</style>\r\n\r\n<script>\r\n  Formstone.Ready(function() {\r\n    var $targets = $(\".touch\"),\r\n      _minX = 0,\r\n      _minY = 0;\r\n\r\n/*\r\n    $(\".swipe\").touch({\r\n      swipe: true,\r\n      axis: x\r\n    }).on(\"swipe\", function(e) {\r\n      $(this).html(e.directionX);\r\n    });\r\n*/\r\n\r\n    $targets.each(function() {\r\n      var $target = $(this),\r\n        data = {\r\n          $container: $target.parents(\".container\"),\r\n          $register:  $target.parents(\".register\")\r\n        };\r\n\r\n      $target.data(\"demo\", data);\r\n    });\r\n\r\n    // Pan\r\n    $(\".pan\").touch({\r\n      pan: true\r\n    }).on(\"panstart\", function(e) {\r\n      var $target = $(this),\r\n        data = $target.data(\"demo\"),\r\n        offset = data.$register.position();\r\n\r\n      data.origX = offset.left;\r\n      data.origY = offset.top;\r\n\r\n      data.diffWidth  = $target.outerWidth() / 2;\r\n      data.diffHeight = $target.outerHeight() / 2;\r\n    })\r\n    .on(\"panend\", function(e) {\r\n      // ...\r\n    });\r\n\r\n    // Bubbling\r\n\r\n    $(document).on(\"pan\", \".pan\", function(e) {\r\n      var $target = $(this),\r\n        data = $target.data(\"demo\"),\r\n        x = data.origX + e.deltaX,\r\n        y = data.origY + e.deltaY,\r\n        minX = _minX + data.diffWidth,\r\n        minY = _minY + data.diffHeight,\r\n        maxX = data.$container.outerWidth()  - minX - 2,\r\n        maxY = data.$container.outerHeight() - minY - 2;\r\n\r\n      if (x < minX) {\r\n        x = minX;\r\n      }\r\n      if (x > maxX) {\r\n        x = maxX;\r\n      }\r\n      if (y < minY) {\r\n        y = minY;\r\n      }\r\n      if (y > maxY) {\r\n        y = maxY;\r\n      }\r\n\r\n      data.$register.css({\r\n        left: x,\r\n        top:  y\r\n      });\r\n    });\r\n\r\n    // Scale\r\n    $(\".scale\").touch({\r\n      scale: true\r\n    }).on(\"scalestart\", function(e) {\r\n      var $target = $(this),\r\n        data = $target.data(\"demo\"),\r\n        offset = $target.position();\r\n\r\n      data.origWidth  = $target.outerWidth();\r\n      data.origHeight = $target.outerHeight();\r\n    })\r\n    .on(\"scaleend\", function(e) {\r\n      // ...\r\n    })\r\n    .on(\"scale\", function(e) {\r\n      var $target = $(this),\r\n        data = $target.data(\"demo\")\r\n        width  = data.origWidth  * e.scale,\r\n        height = data.origHeight * e.scale,\r\n        minWidth  = 150,\r\n        minHeight = 150,\r\n        maxH = data.$container.outerHeight(),\r\n        maxW = data.$container.outerWidth(),\r\n        maxWidth  = (maxH > maxW) ? maxW : maxH,\r\n        maxHeight = (maxH > maxW) ? maxW : maxH;\r\n\r\n      if (width < minWidth) {\r\n        width = minWidth;\r\n      }\r\n      if (width > maxWidth) {\r\n        width = maxWidth;\r\n      }\r\n\r\n      if (height < minHeight) {\r\n        height = minHeight;\r\n      }\r\n      if (height > maxHeight) {\r\n        height = maxHeight;\r\n      }\r\n\r\n      $target.css({\r\n        width:  width,\r\n        height: height,\r\n        lineHeight: height + \"px\",\r\n        left: -(width / 2),\r\n        top:  -(height / 2)\r\n      });\r\n    });\r\n\r\n    // Manipulate\r\n    $(\".manipulate\").touch({\r\n      pan: true,\r\n      scale: true\r\n    }).on(\"scalestart\", function(e) {\r\n      var $target = $(this),\r\n        data = $target.data(\"demo\"),\r\n        offset = data.$register.position();\r\n\r\n      data.origX = offset.left;\r\n      data.origY = offset.top;\r\n\r\n      data.origWidth  = $target.outerWidth();\r\n      data.origHeight = $target.outerHeight();\r\n    })\r\n    .on(\"scaleend\", function(e) {\r\n      // ...\r\n    })\r\n    .on(\"scale\", function(e) {\r\n      var $target = $(this),\r\n        data = $target.data(\"demo\")\r\n        width  = data.origWidth  * e.scale,\r\n        height = data.origHeight * e.scale,\r\n        // pan\r\n        x = data.origX + e.deltaX,\r\n        y = data.origY + e.deltaY,\r\n        minX = _minX,\r\n        minY = _minY,\r\n        maxX = data.$container.outerWidth()  - minX,\r\n        maxY = data.$container.outerHeight() - minY,\r\n        // scale\r\n        minWidth  = 150,\r\n        minHeight = 150,\r\n        maxWidth = 600,\r\n        maxHeight = 600;\r\n\r\n      if (x < minX) {\r\n        x = minX;\r\n      }\r\n      if (x > maxX) {\r\n        x = maxX;\r\n      }\r\n      if (y < minY) {\r\n        y = minY;\r\n      }\r\n      if (y > maxY) {\r\n        y = maxY;\r\n      }\r\n\r\n      data.$register.css({\r\n        left: x,\r\n        top:  y\r\n      });\r\n\r\n      if (width < minWidth) {\r\n        width = minWidth;\r\n      }\r\n      if (width > maxWidth) {\r\n        width = maxWidth;\r\n      }\r\n\r\n      if (height < minHeight) {\r\n        height = minHeight;\r\n      }\r\n      if (height > maxHeight) {\r\n        height = maxHeight;\r\n      }\r\n\r\n      $target.css({\r\n        width:  width,\r\n        height: height,\r\n        lineHeight: height + \"px\",\r\n        left: -(width / 2),\r\n        top:  -(height / 2)\r\n      });\r\n    });\r\n  });\r\n</script>\r\n\r\n<div class=\"demo_container\">\r\n  <div class=\"demo_example\">\r\n    <div class=\"container\">\r\n      <div class=\"register\">\r\n        <div class=\"box touch manipulate\">Scale &amp; Pan</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"demo_code\">\r\n    <pre><code class=\"language-html\">&lt;div class=&quot;touch_container&quot;&gt;\r\n&Tab;&lt;div class=&quot;touch_target&quot;&gt;Touch&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n    <pre><code class=\"language-javascript\">$(\".touch_target\").touch({\r\n  pan: true,\r\n  scale: true\r\n}).on(\"panstart\", function(e) {\r\n  // Handle pan start\r\n  // Cache positions, etc...\r\n}).on(\"panend\", function(e) {\r\n  // Handle pan end\r\n  // Clean up data...\r\n}).on(\"pan\", function(e) {\r\n  var deltaX  = e.deltaX,\r\n    deltaY  = e.deltaY;\r\n\r\n  // React to pan...\r\n}).on(\"scalestart\", function(e) {\r\n  // Handle scale start\r\n  // Cache positions, etc...\r\n}).on(\"scaleend\", function(e) {\r\n  // Handle touch end\r\n  // Clean up data...\r\n}).on(\"scale\", function(e) {\r\n  var scale   = e.scale,\r\n    deltaX  = e.deltaX,\r\n    deltaY  = e.deltaY;\r\n\r\n  // React to scale and pan...\r\n});</code></pre>\r\n  </div>\r\n</div>\r\n\r\n<!-- END: FIRSTDEMO -->\r\n\r\n<h4>Pan</h4>\r\n<div class=\"demo_container\">\r\n  <div class=\"demo_example\">\r\n    <div class=\"container\">\r\n      <div class=\"register\">\r\n        <div class=\"box touch pan\">Pan</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"demo_code\">\r\n    <pre><code class=\"language-html\">&lt;div class=&quot;touch_container&quot;&gt;\r\n&Tab;&lt;div class=&quot;touch_target&quot;&gt;Touch&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n    <pre><code class=\"language-javascript\">$(\".touch_target\").touch({\r\n  pan: true\r\n}).on(\"panstart\", function(e) {\r\n  // Handle pan start\r\n  // Cache positions, etc...\r\n}).on(\"panend\", function(e) {\r\n  // Handle pan end\r\n  // Clean up data...\r\n}).on(\"pan\", function(e) {\r\n  var deltaX = e.deltaX,\r\n    deltaY = e.deltaY;\r\n\r\n  // React to pan...\r\n});</code></pre>\r\n  </div>\r\n</div>\r\n\r\n<h4>Scale</h4>\r\n<div class=\"demo_container\">\r\n  <div class=\"demo_example\">\r\n    <div class=\"container\">\r\n      <div class=\"register\">\r\n        <div class=\"box touch scale\">Scale</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"demo_code\">\r\n    <pre><code class=\"language-html\">&lt;div class=&quot;touch_container&quot;&gt;\r\n&Tab;&lt;div class=&quot;touch_target&quot;&gt;Touch&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n    <pre><code class=\"language-javascript\">$(\".touch_target\").touch({\r\n  scale: true\r\n}).on(\"scalestart\", function(e) {\r\n  // Handle scale start\r\n  // Cache positions, etc...\r\n}).on(\"scaleend\", function(e) {\r\n  // Handle touch end\r\n  // Clean up data...\r\n}).on(\"scale\", function(e) {\r\n  var scale = e.scale;\r\n\r\n  // React to scale...\r\n});</code></pre>\r\n  </div>\r\n</div>\r\n","asset_root":"../","year":2018}

 #Touch Demo
<p class="back_link"><a href="https://formstone.it/components/touch">View Documentation</a></p>